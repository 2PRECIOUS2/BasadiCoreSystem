import{O as R,j as e,T as I,f as a,B as p,ax as A,F as L,a9 as k,t as M,M as n,A as P,e as O,a8 as T,a0 as W,a1 as B,s as E}from"./mui-051d3b2b.js";import{r}from"./vendor-0625b040.js";import{L as z}from"./index-06d060e6.js";import{P as q}from"./PageContainer-a391e3ef.js";import{L as D}from"./Logo-23c69e48.js";import"./utils-f1b31201.js";import"./index-2a8f5de9.js";const o=R(i=>e.jsx(I,{...i}))(({theme:i})=>({"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:i.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:i.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:i.palette.grey[200]}})),G=({title:i,subtitle:w,subtext:F})=>{const[d,g]=r.useState(""),[c,f]=r.useState(""),[u,j]=r.useState(""),[m,b]=r.useState(""),[h,y]=r.useState(""),[v,S]=r.useState(!1),[x,s]=r.useState(null);r.useState(""),r.useState("");const N=async t=>{if(t.preventDefault(),s(null),!d||!c||!u||!m||!h){s({type:"error",text:"Please fill in all fields and select a role."}),S(!1);return}try{const l=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:d,lastName:c,email:u,password:m,role:h})}),C=await l.json();l.ok?(s({type:"success",text:C.message}),g(""),f(""),j(""),b(""),y("")):s({type:"error",text:C.message||"Registration failed."})}catch(l){console.error("Error during registration request:",l),s({type:"error",text:"Failed to connect to the server. Please try again later."})}finally{S(!1)}};return e.jsxs(e.Fragment,{children:[i?e.jsx(a,{fontWeight:"700",variant:"h2",mb:1,children:i}):null,F,e.jsxs(p,{component:"form",onSubmit:N,children:[e.jsxs(A,{mb:3,children:[e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"firstName",mb:"5px",children:"First Name"}),e.jsx(o,{id:"firstName",variant:"outlined",fullWidth:!0,value:d,onChange:t=>g(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"lastName",mb:"5px",mt:"25px",children:"Last Name"}),e.jsx(o,{id:"lastName",variant:"outlined",fullWidth:!0,value:c,onChange:t=>f(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"email",mb:"5px",mt:"25px",children:"Email Address"}),e.jsx(o,{id:"email",variant:"outlined",fullWidth:!0,value:u,onChange:t=>j(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",mt:"25px",children:"Password"}),e.jsx(o,{id:"password",variant:"outlined",fullWidth:!0,type:"password",value:m,onChange:t=>b(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"role",mb:"5px",mt:"25px",children:"Select Role"}),e.jsxs(L,{fullWidth:!0,children:[e.jsx(k,{id:"role-select-label",children:"Role"}),e.jsxs(M,{labelId:"role-select-label",id:"role",value:h,label:"Role",onChange:t=>y(t.target.value),children:[e.jsx(n,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(n,{value:"admin",children:"Admin"}),e.jsx(n,{value:"accountant",children:"Accountant"}),e.jsx(n,{value:"trainer",children:"Trainer"}),e.jsx(n,{value:"supporter",children:"Supporter"})]})]})]}),x&&e.jsx(P,{severity:x.type,sx:{mt:2,mb:2},children:x.text}),e.jsx(O,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:v,sx:{mt:2},children:v?e.jsx(T,{size:24,color:"inherit"}):"Submit Request"})]}),w]})},X=()=>e.jsx(q,{title:"Register",description:"this is Register page",children:e.jsx(p,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:e.jsx(W,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(W,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(B,{elevation:9,sx:{p:3,zIndex:1,width:"100%",maxWidth:"500px"},children:[e.jsx(p,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(D,{})}),e.jsx(G,{title:e.jsx(a,{variant:"h5",fontWeight:"bold",align:"center",gutterBottom:!0,children:"Register for Basadi Core"}),subtext:e.jsx(a,{variant:"body2",textAlign:"center",color:"textSecondary",mb:1,children:"Empower Women. Buy Local."}),subtitle:e.jsxs(E,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,mt:3,children:[e.jsx(a,{color:"textSecondary",variant:"body2",fontWeight:"400",children:"Already have an Account?"}),e.jsx(a,{component:z,to:"/auth/login",variant:"body2",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main",ml:1,cursor:"pointer"},children:"Sign In"})]})})]})})})})});export{X as default};
