import{aw as R,s as k,k as e,W as I,r,T as a,B as x,ac as L,ad as A,$ as P,v as i,Y as M,y as T,z as B,L as E}from"./index-a1e127f3.js";import{P as O}from"./PageContainer-79b37e0c.js";import{L as z}from"./Logo-1b6ca431.js";import{C as $}from"./CircularProgress-4a11b403.js";import{G as W,C as q}from"./Grid-6160672c.js";import"./index-24da23bc.js";import"./index-866a7d90.js";const D=R(),G=D,o=k(s=>e.jsx(I,{...s}))(({theme:s})=>({"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:s.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:s.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:s.palette.grey[200]}})),J=({title:s,subtitle:w,subtext:F})=>{const[c,g]=r.useState(""),[d,f]=r.useState(""),[u,b]=r.useState(""),[m,j]=r.useState(""),[h,y]=r.useState(""),[v,S]=r.useState(!1),[p,n]=r.useState(null);r.useState(""),r.useState("");const N=async t=>{if(t.preventDefault(),n(null),!c||!d||!u||!m||!h){n({type:"error",text:"Please fill in all fields and select a role."}),S(!1);return}try{const l=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:c,lastName:d,email:u,password:m,role:h})}),C=await l.json();l.ok?(n({type:"success",text:C.message}),g(""),f(""),b(""),j(""),y("")):n({type:"error",text:C.message||"Registration failed."})}catch(l){console.error("Error during registration request:",l),n({type:"error",text:"Failed to connect to the server. Please try again later."})}finally{S(!1)}};return e.jsxs(e.Fragment,{children:[s?e.jsx(a,{fontWeight:"700",variant:"h2",mb:1,children:s}):null,F,e.jsxs(x,{component:"form",onSubmit:N,children:[e.jsxs(G,{mb:3,children:[e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"firstName",mb:"5px",children:"First Name"}),e.jsx(o,{id:"firstName",variant:"outlined",fullWidth:!0,value:c,onChange:t=>g(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"lastName",mb:"5px",mt:"25px",children:"Last Name"}),e.jsx(o,{id:"lastName",variant:"outlined",fullWidth:!0,value:d,onChange:t=>f(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"email",mb:"5px",mt:"25px",children:"Email Address"}),e.jsx(o,{id:"email",variant:"outlined",fullWidth:!0,value:u,onChange:t=>b(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",mt:"25px",children:"Password"}),e.jsx(o,{id:"password",variant:"outlined",fullWidth:!0,type:"password",value:m,onChange:t=>j(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"role",mb:"5px",mt:"25px",children:"Select Role"}),e.jsxs(L,{fullWidth:!0,children:[e.jsx(A,{id:"role-select-label",children:"Role"}),e.jsxs(P,{labelId:"role-select-label",id:"role",value:h,label:"Role",onChange:t=>y(t.target.value),children:[e.jsx(i,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(i,{value:"admin",children:"Admin"}),e.jsx(i,{value:"accountant",children:"Accountant"}),e.jsx(i,{value:"trainer",children:"Trainer"}),e.jsx(i,{value:"supporter",children:"Supporter"})]})]})]}),p&&e.jsx(M,{severity:p.type,sx:{mt:2,mb:2},children:p.text}),e.jsx(T,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:v,sx:{mt:2},children:v?e.jsx($,{size:24,color:"inherit"}):"Submit Request"})]}),w]})},Z=()=>e.jsx(O,{title:"Register",description:"this is Register page",children:e.jsx(x,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:e.jsx(W,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(W,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(q,{elevation:9,sx:{p:3,zIndex:1,width:"100%",maxWidth:"500px"},children:[e.jsx(x,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(z,{})}),e.jsx(J,{title:e.jsx(a,{variant:"h5",fontWeight:"bold",align:"center",gutterBottom:!0,children:"Register for Basadi Core"}),subtext:e.jsx(a,{variant:"body2",textAlign:"center",color:"textSecondary",mb:1,children:"Empower Women. Buy Local."}),subtitle:e.jsxs(B,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,mt:3,children:[e.jsx(a,{color:"textSecondary",variant:"body2",fontWeight:"400",children:"Already have an Account?"}),e.jsx(a,{component:E,to:"/auth/login",variant:"body2",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main",ml:1,cursor:"pointer"},children:"Sign In"})]})})]})})})})});export{Z as default};
