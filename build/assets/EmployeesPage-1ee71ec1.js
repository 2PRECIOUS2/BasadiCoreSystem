import{r as l,h as Wa,j as Ea,q as ka,am as Na,k as a,_ as ra,an as Ra,ao as Ma,ap as ma,V as B,J as Pa,S as Ta,a0 as ba,B as n,T as o,I as _a,P,Q as X,W as b,ac as V,ad as U,$ as Y,v as W,aq as Ia,y as G,a8 as Aa,Y as ta,Z as Sa,a9 as Ga,aa as Ka,t as La,a1 as za,a2 as Ba,af as Fa,ag as qa}from"./index-a1e127f3.js";import{A as Da}from"./AppBar-e4f7fd27.js";import{T as Ha}from"./Toolbar-5bf4e4e1.js";import{A as I}from"./Avatar-0c89d31b.js";import{C as Oa,W as J,B as $a,T as Va}from"./Work-59bf1f59.js";import{P as ja}from"./Person-baff5f08.js";import{G as s,C as la}from"./Grid-6160672c.js";import{d as Ua,a as Ya}from"./MoreVert-b90270e1.js";import{a as Ja,d as Qa}from"./Archive-e42270dc.js";import{a as O}from"./axios-edfcd65b.js";import{C as $}from"./Chip-00307a2a.js";import{C as pa}from"./CardContent-878de8ec.js";import{D as Xa}from"./DialogActions-af98e3be.js";import{M as at}from"./LinearProgress-8e90210a.js";import{P as tt}from"./PermissionGate-2746e2cc.js";import"./Popper-7eb4c003.js";const et=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],ot={entering:{transform:"none"},entered:{transform:"none"}},nt=l.forwardRef(function(d,h){const c=Wa(),y={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{addEndListener:i,appear:j=!0,children:g,easing:x,in:u,onEnter:v,onEntered:S,onEntering:E,onExit:R,onExited:k,onExiting:_,style:m,timeout:Z=y,TransitionComponent:T=Ra}=d,F=Ea(d,et),N=l.useRef(null),M=ka(N,Na(g),h),C=p=>f=>{if(p){const w=N.current;f===void 0?p(w):p(w,f)}},q=C(E),A=C((p,f)=>{Ma(p);const w=ma({style:m,timeout:Z,easing:x},{mode:"enter"});p.style.webkitTransition=c.transitions.create("transform",w),p.style.transition=c.transitions.create("transform",w),v&&v(p,f)}),D=C(S),K=C(_),L=C(p=>{const f=ma({style:m,timeout:Z,easing:x},{mode:"exit"});p.style.webkitTransition=c.transitions.create("transform",f),p.style.transition=c.transitions.create("transform",f),R&&R(p)}),z=C(k),r=p=>{i&&i(N.current,p)};return a.jsx(T,ra({appear:j,in:u,nodeRef:N,onEnter:A,onEntered:D,onEntering:q,onExit:L,onExited:z,onExiting:K,addEndListener:r,timeout:Z},F,{children:(p,f)=>l.cloneElement(g,ra({style:ra({transform:"scale(0)",visibility:p==="exited"&&!u?"hidden":void 0},ot[p],m,g.props.style),ref:M},f))}))}),it=nt,va=B(a.jsx("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m0 18H4V8h16z"}),"CalendarToday"),rt=B(a.jsx("path",{d:"M22 3H2C.9 3 0 3.9 0 5v14c0 1.1.9 2 2 2h20c1.1 0 1.99-.9 1.99-2L24 5c0-1.1-.9-2-2-2M8 6c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3m6 12H2v-1c0-2 4-3.1 6-3.1s6 1.1 6 3.1zm3.85-4h1.64L21 16l-1.99 1.99c-1.31-.98-2.28-2.38-2.73-3.99-.18-.64-.28-1.31-.28-2s.1-1.36.28-2c.45-1.62 1.42-3.01 2.73-3.99L21 8l-1.51 2h-1.64c-.22.63-.35 1.3-.35 2s.13 1.37.35 2"}),"ContactPhone"),Za=B(a.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Email"),lt=B(a.jsx("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7m0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5"}),"LocationOn"),pt=B(a.jsx("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3m-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3m0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5m8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5"}),"People"),sa=B(a.jsx("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),st=B(a.jsx("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02z"}),"Phone"),ct=[{city:"Johannesburg",lat:"-26.2044",lng:"28.0456",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"admin",population:"8500000",population_proper:"4434827"},{city:"Cape Town",lat:"-33.9253",lng:"18.4239",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"primary",population:"4770313",population_proper:"4770313"},{city:"Soweto",lat:"-26.2678",lng:"27.8585",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"1271628",population_proper:"1271628"},{city:"Gqeberha",lat:"-33.9581",lng:"25.6000",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"967677",population_proper:"967677"},{city:"Pietermaritzburg",lat:"-29.6167",lng:"30.3833",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"admin",population:"839327",population_proper:"839327"},{city:"Durban",lat:"-29.8833",lng:"31.0500",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"838634",population_proper:"536644"},{city:"Pretoria",lat:"-25.7461",lng:"28.1881",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"primary",population:"741651",population_proper:"741651"},{city:"Rustenburg",lat:"-25.6667",lng:"27.2428",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"549575",population_proper:"549575"},{city:"Newcastle",lat:"-27.7464",lng:"29.9328",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"507710",population_proper:"507710"},{city:"East London",lat:"-33.0175",lng:"27.9047",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"478676",population_proper:"478676"},{city:"Katlehong",lat:"-26.3333",lng:"28.1500",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"467890",population_proper:"467890"},{city:"Khayelitsha",lat:"-34.0403",lng:"18.6778",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"391749",population_proper:"391749"},{city:"Randburg",lat:"-26.0936",lng:"28.0064",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"337053",population_proper:"337053"},{city:"Roodepoort",lat:"-26.1625",lng:"27.8725",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"326416",population_proper:"326416"},{city:"Mitchells Plain",lat:"-34.0506",lng:"18.6181",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"310485",population_proper:"310485"},{city:"Boksburg",lat:"-26.2125",lng:"28.2625",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"260321",population_proper:"260321"},{city:"Bloemfontein",lat:"-29.1167",lng:"26.2167",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"primary",population:"256185",population_proper:"256185"},{city:"Germiston",lat:"-26.2178",lng:"28.1672",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"255863",population_proper:"255863"},{city:"Centurion",lat:"-25.8603",lng:"28.1894",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"236580",population_proper:"236580"},{city:"Kimberley",lat:"-28.7383",lng:"24.7639",country:"South Africa",iso2:"ZA",admin_name:"Northern Cape",capital:"admin",population:"225160",population_proper:"225160"},{city:"Sandton",lat:"-26.1070",lng:"28.0517",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"222415",population_proper:"222415"},{city:"Klerksdorp",lat:"-26.8667",lng:"26.6667",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"186515",population_proper:"186515"},{city:"Bethelsdorp",lat:"-33.8833",lng:"25.5000",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"182012",population_proper:"182012"},{city:"Kempton Park",lat:"-26.1000",lng:"28.2333",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"171575",population_proper:"171575"},{city:"Nqutu",lat:"-28.2320",lng:"30.5660",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"170307",population_proper:"170307"},{city:"Kroonstad",lat:"-27.6500",lng:"27.2333",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"168762",population_proper:"168762"},{city:"Benoni",lat:"-26.1883",lng:"28.3206",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"158777",population_proper:"158777"},{city:"George",lat:"-33.9667",lng:"22.4500",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"157394",population_proper:"157394"},{city:"Potchefstroom",lat:"-26.7150",lng:"27.1033",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"148804",population_proper:"148804"},{city:"Pinetown",lat:"-29.8167",lng:"30.8500",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"144026",population_proper:"144026"},{city:"Krugersdorp",lat:"-26.1000",lng:"27.7667",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"140643",population_proper:"140643"},{city:"Mthatha",lat:"-31.5800",lng:"28.7900",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"137772",population_proper:"137772"},{city:"Polokwane",lat:"-23.9000",lng:"29.4500",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"admin",population:"130028",population_proper:"130028"},{city:"Springs",lat:"-26.2547",lng:"28.4428",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"121610",population_proper:"121610"},{city:"Alberton",lat:"-26.2672",lng:"28.1219",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"121536",population_proper:"121536"},{city:"Upington",lat:"-28.4500",lng:"21.2500",country:"South Africa",iso2:"ZA",admin_name:"Northern Cape",capital:"",population:"121189",population_proper:"121189"},{city:"Winterveld",lat:"-25.4200",lng:"27.9490",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"120826",population_proper:"120826"},{city:"Parow",lat:"-33.9000",lng:"18.6000",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"119462",population_proper:"119462"},{city:"Paarl",lat:"-33.7242",lng:"18.9558",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"112045",population_proper:"112045"},{city:"Empangeni",lat:"-28.7500",lng:"31.9000",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"110340",population_proper:"110340"},{city:"Witbank",lat:"-25.8770",lng:"29.2010",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"108673",population_proper:"108673"},{city:"Uitenhage",lat:"-33.7667",lng:"25.4000",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"103639",population_proper:"103639"},{city:"KwaDukuza",lat:"-29.3333",lng:"31.2917",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"101224",population_proper:"101224"},{city:"Worcester",lat:"-33.6450",lng:"19.4436",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"97098",population_proper:"97098"},{city:"Grahamstown",lat:"-33.2996",lng:"26.5200",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"91548",population_proper:"91548"},{city:"Oudtshoorn",lat:"-33.5833",lng:"22.2000",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"90822",population_proper:"90822"},{city:"Ermelo",lat:"-26.5333",lng:"29.9833",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"83865",population_proper:"83865"},{city:"Stellenbosch",lat:"-33.9367",lng:"18.8614",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"77476",population_proper:"77476"},{city:"Sasolburg",lat:"-26.8142",lng:"27.8286",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"76349",population_proper:"76349"},{city:"Thaba Nchu",lat:"-29.2000",lng:"26.8333",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"70118",population_proper:"70118"},{city:"Kwamhlanga",lat:"-25.4320",lng:"28.7080",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"69853",population_proper:"69853"},{city:"Thohoyandou",lat:"-22.9500",lng:"30.4833",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"69453",population_proper:"69453"},{city:"Queenstown",lat:"-31.9000",lng:"26.8833",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"68872",population_proper:"68872"},{city:"Odendaalsrus",lat:"-27.8667",lng:"26.6833",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"63743",population_proper:"63743"},{city:"Bethal",lat:"-26.4500",lng:"29.4500",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"60779",population_proper:"60779"},{city:"Mossel Bay",lat:"-34.1833",lng:"22.1333",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"59031",population_proper:"59031"},{city:"Wellington",lat:"-33.6333",lng:"18.9833",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"55543",population_proper:"55543"},{city:"Queensburgh",lat:"-29.8667",lng:"30.9333",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"54846",population_proper:"54846"},{city:"Phuthaditjhaba",lat:"-28.5333",lng:"28.8167",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"54661",population_proper:"54661"},{city:"Kokstad",lat:"-30.5539",lng:"29.4269",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"51561",population_proper:"51561"},{city:"Edenvale",lat:"-26.1411",lng:"28.1528",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"49292",population_proper:"49292"},{city:"Vryheid",lat:"-27.7669",lng:"30.8000",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"47365",population_proper:"47365"},{city:"Kuilsrivier",lat:"-33.9414",lng:"18.7066",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"46686",population_proper:"46686"},{city:"Bothaville",lat:"-27.3833",lng:"26.6167",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"46030",population_proper:"46030"},{city:"Parys",lat:"-26.9000",lng:"27.4500",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"45868",population_proper:"45868"},{city:"Grabouw",lat:"-34.1500",lng:"19.0167",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"44593",population_proper:"44593"},{city:"Despatch",lat:"-33.8015",lng:"25.4768",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"39619",population_proper:"39619"},{city:"Vredenburg",lat:"-32.9064",lng:"17.9958",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"38382",population_proper:"38382"},{city:"Mmabatho",lat:"-25.8500",lng:"25.6333",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"38297",population_proper:"38297"},{city:"Lydenburg",lat:"-25.0960",lng:"30.4460",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"37258",population_proper:"37258"},{city:"Siyabuswa",lat:"-25.1167",lng:"29.0500",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"36882",population_proper:"36882"},{city:"Namakgale",lat:"-23.9380",lng:"31.0280",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"36365",population_proper:"36365"},{city:"Malmesbury",lat:"-33.4500",lng:"18.7333",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"35897",population_proper:"35897"},{city:"Lebowakgomo",lat:"-24.3050",lng:"29.5650",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"35087",population_proper:"35087"},{city:"Phokeng",lat:"-25.5833",lng:"27.1333",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"34597",population_proper:"34597"},{city:"Westville",lat:"-29.8310",lng:"30.9250",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"30508",population_proper:"30508"},{city:"Ulundi",lat:"-28.3167",lng:"31.4167",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"29132",population_proper:"29132"},{city:"Mondlo",lat:"-27.9670",lng:"30.7220",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"28871",population_proper:"28871"},{city:"Saldanha",lat:"-32.9978",lng:"17.9456",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"28142",population_proper:"28142"},{city:"Heilbron",lat:"-27.2836",lng:"27.9708",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"27407",population_proper:"27407"},{city:"Jeffrey’s Bay",lat:"-34.0333",lng:"24.9167",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"27107",population_proper:"27107"},{city:"Frankfort",lat:"-27.2833",lng:"28.5167",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"26144",population_proper:"26144"},{city:"Giyani",lat:"-23.3100",lng:"30.7064",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"25954",population_proper:"25954"},{city:"Mathibestad",lat:"-25.2760",lng:"28.1780",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"25945",population_proper:"25945"},{city:"Mpophomeni",lat:"-29.5670",lng:"30.1820",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"25732",population_proper:"25732"},{city:"Volksrust",lat:"-27.3667",lng:"29.8833",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"24281",population_proper:"24281"},{city:"uMhlanga Rocks",lat:"-29.7333",lng:"31.0708",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"24238",population_proper:"24238"},{city:"Nkowakowa",lat:"-23.8860",lng:"30.2930",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"22484",population_proper:"22484"},{city:"Robertson",lat:"-33.8000",lng:"19.8833",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"21929",population_proper:"21929"},{city:"Pampierstad",lat:"-27.7760",lng:"24.6900",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"21707",population_proper:"21707"},{city:"Hammanskraal",lat:"-25.4000",lng:"28.2833",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"21345",population_proper:"21345"},{city:"Bronkhorstspruit",lat:"-25.8050",lng:"28.7464",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"20769",population_proper:"20769"},{city:"Itsoseng",lat:"-26.0830",lng:"25.8820",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"19959",population_proper:"19959"},{city:"Garsfontein",lat:"-25.7913",lng:"28.2935",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"19501",population_proper:"19501"},{city:"Mooirivier",lat:"-29.2000",lng:"29.9833",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"17779",population_proper:"17779"},{city:"Kingsborough",lat:"-30.0833",lng:"30.8667",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"16368",population_proper:"16368"},{city:"Turffontein",lat:"-26.2446",lng:"28.0397",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"15887",population_proper:"15887"},{city:"Alice",lat:"-32.7892",lng:"26.8350",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"15143",population_proper:"15143"},{city:"Mahikeng",lat:"-25.8656",lng:"25.6436",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"admin",population:"15117",population_proper:"15117"},{city:"Breyten",lat:"-26.3000",lng:"29.9833",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"14347",population_proper:"14347"},{city:"Primrose",lat:"-26.1833",lng:"28.1667",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"14024",population_proper:"14024"},{city:"Bedfordview",lat:"-26.1794",lng:"28.1361",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"13959",population_proper:"13959"},{city:"eManzimtoti",lat:"-30.0500",lng:"30.8833",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"13813",population_proper:"13813"},{city:"Kirkwood",lat:"-33.4003",lng:"25.4425",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"13765",population_proper:"13765"},{city:"Pretoria-Noord",lat:"-25.6731",lng:"28.1733",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"12972",population_proper:"12972"},{city:"Elandsdoorn",lat:"-25.2880",lng:"29.1960",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"12941",population_proper:"12941"},{city:"Buffelshoek",lat:"-24.6308",lng:"31.1383",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"12703",population_proper:"12703"},{city:"Groutville",lat:"-29.3880",lng:"31.2450",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"12638",population_proper:"12638"},{city:"Summerstrand",lat:"-33.9914",lng:"25.6569",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"12614",population_proper:"12614"},{city:"Jeppe’s Reef",lat:"-25.7200",lng:"31.4770",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"12589",population_proper:"12589"},{city:"Dysselsdorp",lat:"-33.5667",lng:"22.4333",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"12544",population_proper:"12544"},{city:"Matatiele",lat:"-30.3422",lng:"28.8061",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"12466",population_proper:"12466"},{city:"eXobho",lat:"-30.1572",lng:"30.0647",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"12461",population_proper:"12461"},{city:"Lenyenye",lat:"-23.9720",lng:"30.2690",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"12099",population_proper:"12099"},{city:"Mount Fletcher",lat:"-30.6920",lng:"28.5030",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"11488",population_proper:"11488"},{city:"Gonubie",lat:"-32.9430",lng:"28.0080",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"11471",population_proper:"11471"},{city:"Mogogelo",lat:"-25.3540",lng:"28.1380",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"11425",population_proper:"11425"},{city:"Vaal Reefs",lat:"-26.9290",lng:"26.7360",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"11345",population_proper:"11345"},{city:"De Doorns",lat:"-33.4833",lng:"19.6833",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"11278",population_proper:"11278"},{city:"Bhisho",lat:"-32.8494",lng:"27.4381",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"admin",population:"11192",population_proper:"11192"},{city:"Langeloop",lat:"-25.6840",lng:"31.6350",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"11122",population_proper:"11122"},{city:"Ekuvukeni",lat:"-28.4660",lng:"30.1570",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"11018",population_proper:"11018"},{city:"Velddrif",lat:"-32.7833",lng:"18.1667",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"11017",population_proper:"11017"},{city:"Hartswater",lat:"-27.7667",lng:"24.8167",country:"South Africa",iso2:"ZA",admin_name:"Northern Cape",capital:"",population:"10465",population_proper:"10465"},{city:"Alexandria",lat:"-33.6533",lng:"26.4083",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"10085",population_proper:"10085"},{city:"Ga-Kgapane",lat:"-23.6490",lng:"30.2260",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"9879",population_proper:"9879"},{city:"Boekenhouthoek",lat:"-25.3030",lng:"29.0150",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"9166",population_proper:"9166"},{city:"Steynsrus",lat:"-27.9500",lng:"27.5667",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"9106",population_proper:"9106"},{city:"Greytown",lat:"-29.0667",lng:"30.5833",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"9090",population_proper:"9090"},{city:"Mbuzini",lat:"-25.9333",lng:"31.9333",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"9070",population_proper:"9070"},{city:"Doornkop",lat:"-26.2328",lng:"27.7833",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"8740",population_proper:"8740"},{city:"Umzimkulu",lat:"-30.2630",lng:"29.9400",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"8399",population_proper:"8399"},{city:"Sedgefield",lat:"-34.0214",lng:"22.8033",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"8286",population_proper:"8286"},{city:"Hawston",lat:"-34.3833",lng:"19.1333",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"8214",population_proper:"8214"},{city:"Buffelspruit",lat:"-25.6580",lng:"31.5160",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"8202",population_proper:"8202"},{city:"Lorraine",lat:"-33.9725",lng:"25.4981",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"8004",population_proper:"8004"},{city:"Saron",lat:"-33.1810",lng:"19.0100",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"7843",population_proper:"7843"},{city:"Bosfontein",lat:"-25.7440",lng:"31.6260",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"7811",population_proper:"7811"},{city:"Breidbach",lat:"-32.8833",lng:"27.4333",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"7767",population_proper:"7767"},{city:"Welverdiend",lat:"-24.5810",lng:"31.3430",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"7601",population_proper:"7601"},{city:"Wolwekraal",lat:"-25.1530",lng:"28.9610",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"7426",population_proper:"7426"},{city:"Citrusdal",lat:"-32.5894",lng:"19.0147",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"7177",population_proper:"7177"},{city:"Tweeling",lat:"-27.5500",lng:"28.5167",country:"South Africa",iso2:"ZA",admin_name:"Free State",capital:"",population:"6465",population_proper:"6465"},{city:"Vanrhynsdorp",lat:"-31.6167",lng:"18.7333",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"6272",population_proper:"6272"},{city:"Klawer",lat:"-31.7833",lng:"18.6167",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"6234",population_proper:"6234"},{city:"Elsburg",lat:"-26.2450",lng:"28.1970",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"6231",population_proper:"6231"},{city:"Olifantshoek",lat:"-23.3400",lng:"30.2770",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"5976",population_proper:"5976"},{city:"Genadendal",lat:"-34.0333",lng:"19.5500",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"5663",population_proper:"5663"},{city:"eManguzi",lat:"-26.9960",lng:"32.7520",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"5534",population_proper:"5534"},{city:"Botrivier",lat:"-34.2258",lng:"19.2050",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"5505",population_proper:"5505"},{city:"Oberholzer",lat:"-26.3470",lng:"27.3820",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"5397",population_proper:"5397"},{city:"Mount Ayliff",lat:"-30.8092",lng:"29.3669",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"5367",population_proper:"5367"},{city:"Mount Frere",lat:"-30.9167",lng:"28.9833",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"5252",population_proper:"5252"},{city:"Riviersonderend",lat:"-34.1503",lng:"19.9144",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"5245",population_proper:"5245"},{city:"Kenton on Sea",lat:"-33.6830",lng:"26.6590",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"5154",population_proper:"5154"},{city:"Flagstaff",lat:"-31.0800",lng:"29.5044",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"4821",population_proper:"4821"},{city:"Waterkloof",lat:"-25.7750",lng:"28.2417",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"4820",population_proper:"4820"},{city:"Sonop",lat:"-25.6480",lng:"27.6980",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"4659",population_proper:"4659"},{city:"Libode",lat:"-31.5333",lng:"29.0167",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"4560",population_proper:"4560"},{city:"Bluewater Bay",lat:"-33.8567",lng:"25.6294",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"4530",population_proper:"4530"},{city:"Riebeek-Wes",lat:"-33.3505",lng:"18.8674",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"4350",population_proper:"4350"},{city:"Sibasa",lat:"-22.9320",lng:"30.4670",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"4314",population_proper:"4314"},{city:"Uvongo Beach",lat:"-30.8167",lng:"30.3833",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"4288",population_proper:"4288"},{city:"Sandbaai",lat:"-34.4190",lng:"19.1940",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"4102",population_proper:"4102"},{city:"Lusikisiki",lat:"-31.3680",lng:"29.5760",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"4028",population_proper:"4028"},{city:"Chrissiesmeer",lat:"-26.2780",lng:"30.2130",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"4012",population_proper:"4012"},{city:"Schulzendal",lat:"-25.7490",lng:"31.5400",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"3659",population_proper:"3659"},{city:"Rooiboklaagte",lat:"-24.6550",lng:"31.0670",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"3650",population_proper:"3650"},{city:"Madikwe",lat:"-25.3550",lng:"26.5300",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"3623",population_proper:"3623"},{city:"Malelane",lat:"-25.4833",lng:"31.5167",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"3486",population_proper:"3486"},{city:"Warner Beach",lat:"-30.0850",lng:"30.8620",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"3453",population_proper:"3453"},{city:"Richmond",lat:"-29.8667",lng:"30.2667",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"3349",population_proper:"3349"},{city:"Shakaskraal",lat:"-29.4500",lng:"31.2167",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"3296",population_proper:"3296"},{city:"New Hanover",lat:"-29.3500",lng:"30.5333",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"3175",population_proper:"3175"},{city:"Komaggas",lat:"-29.8000",lng:"17.5000",country:"South Africa",iso2:"ZA",admin_name:"Northern Cape",capital:"",population:"3116",population_proper:"3116"},{city:"Rawsonville",lat:"-33.6847",lng:"19.3150",country:"South Africa",iso2:"ZA",admin_name:"Western Cape",capital:"",population:"3099",population_proper:"3099"},{city:"Gannalaagte",lat:"-26.4640",lng:"25.5300",country:"South Africa",iso2:"ZA",admin_name:"North West",capital:"",population:"2830",population_proper:"2830"},{city:"Fontainebleau",lat:"-26.1037",lng:"27.9766",country:"South Africa",iso2:"ZA",admin_name:"Gauteng",capital:"",population:"2826",population_proper:"2826"},{city:"Sheepmoor",lat:"-26.7186",lng:"30.2989",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"2727",population_proper:"2727"},{city:"Lesseyton",lat:"-31.8330",lng:"26.7660",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"2715",population_proper:"2715"},{city:"Ngqeleni",lat:"-31.6700",lng:"29.0280",country:"South Africa",iso2:"ZA",admin_name:"Eastern Cape",capital:"",population:"2629",population_proper:"2629"},{city:"Roossenekal",lat:"-25.1950",lng:"29.9250",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"",population:"2625",population_proper:"2625"},{city:"Doonside",lat:"-30.0700",lng:"30.8710",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"2596",population_proper:"2596"},{city:"Abbotspoort",lat:"-23.4530",lng:"28.0930",country:"South Africa",iso2:"ZA",admin_name:"Limpopo",capital:"",population:"2489",population_proper:"2489"},{city:"Hlabisa",lat:"-28.1333",lng:"31.8667",country:"South Africa",iso2:"ZA",admin_name:"KwaZulu-Natal",capital:"",population:"2469",population_proper:"2469"},{city:"Nelspruit",lat:"-25.4745",lng:"30.9703",country:"South Africa",iso2:"ZA",admin_name:"Mpumalanga",capital:"admin",population:"",population_proper:""}],ut=[{label:"Permanent",value:"Permanent"},{label:"Temporary",value:"Temporary"}],dt=["Trainer","Administrator","Accountant","Support"],ht=["Eastern Cape","Free State","Gauteng","KwaZulu-Natal","Limpopo","Mpumalanga","Northern Cape","North West","Western Cape"],mt=Pa.forwardRef(function(d,h){return a.jsx(Ta,{direction:"up",ref:h,...d})});function gt({open:e,onClose:d,onSave:h}){const[c,y]=l.useState({open:!1,message:"",severity:"success"}),[i,j]=l.useState({}),g=()=>{const t={};return x||(t.firstName="First Name is required"),v||(t.lastName="Last Name is required"),E||(t.gender="Gender is required"),k||(t.dateOfBirth="Date of Birth is required"),m||(t.email="Email is required"),T||(t.cellNo="Cell Number is required"),N||(t.emergencyContact="Emergency Contact Number is required"),C||(t.street="Street Name is required"),A||(t.province="Province is required"),K||(t.city="City/Town is required"),z||(t.postalCode="Postal Code is required"),w||(t.role="Role is required"),oa||(t.employmentType="Employment Type is required"),ea||(t.hourlyRate="Hourly Rate is required"),j(t),Object.keys(t).length===0},[x,u]=l.useState(""),[v,S]=l.useState(""),[E,R]=l.useState(""),[k,_]=l.useState(""),[m,Z]=l.useState(""),[T,F]=l.useState(""),[N,M]=l.useState(""),[C,q]=l.useState(""),[A,D]=l.useState(""),[K,L]=l.useState(""),[z,r]=l.useState(""),[p,f]=l.useState([]),[w,Q]=l.useState(""),[ea,ua]=l.useState(""),[oa,da]=l.useState("");l.useEffect(()=>{f(ct)},[]);const ha=()=>{u(""),S(""),R(""),_(""),Z(""),F(""),M(""),q(""),D(""),L(""),r(""),Q(""),ua(""),da(""),d&&d()},na=A?p.filter(t=>t.admin_name&&t.admin_name.trim().toLowerCase()===A.trim().toLowerCase()&&t.city):[];console.log(na);const wa=async()=>{if(!g()){y({open:!0,message:"Please fill in all required fields.",severity:"error"});return}const t={firstName:x,lastName:v,gender:E,dateOfBirth:k,email:m,cellNo:T,emergencyContact:N,street:C,province:A,city:K,postalCode:z,role:w,hourlyRate:ea,employmentType:oa,employmentStatus:"active"};try{const H=await fetch(`${Sa}/api/employees`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(H.ok){const ia=await H.json();y({open:!0,message:"Employee successfully created!",severity:"success"}),h&&h(ia),setTimeout(()=>{d&&d()},1200)}else{const ia=await H.json();y({open:!0,message:ia.error||"Failed to create employee.",severity:"error"})}}catch{y({open:!0,message:"Failed to create employee.",severity:"error"})}};return a.jsxs(a.Fragment,{children:[a.jsxs(ba,{fullScreen:!0,open:e,onClose:ha,TransitionComponent:mt,children:[a.jsx(Da,{sx:{position:"relative",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",boxShadow:"0 4px 20px rgba(102, 126, 234, 0.3)"},children:a.jsxs(Ha,{sx:{py:1},children:[a.jsx(I,{sx:{bgcolor:"rgba(255,255,255,0.2)",mr:2,width:48,height:48},children:a.jsx(sa,{sx:{color:"white",fontSize:28}})}),a.jsxs(n,{sx:{flex:1},children:[a.jsx(o,{variant:"h5",sx:{fontWeight:"bold",color:"white",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:"Add New Employee"}),a.jsx(o,{variant:"subtitle1",sx:{color:"rgba(255,255,255,0.9)",fontWeight:"400"},children:"Create a new employee profile for your team"})]}),a.jsx(_a,{edge:"end",color:"inherit",onClick:ha,sx:{bgcolor:"rgba(255,255,255,0.1)","&:hover":{bgcolor:"rgba(255,255,255,0.2)"}},children:a.jsx(Oa,{})})]})}),a.jsx(n,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"calc(100vh - 80px)",p:4},children:a.jsxs(P,{sx:{p:4,maxWidth:1e3,mx:"auto",borderRadius:3,background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:[a.jsxs(n,{sx:{mb:4},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[a.jsx(I,{sx:{bgcolor:"#667eea",width:40,height:40},children:a.jsx(ja,{sx:{color:"white",fontSize:24}})}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Personal Information"}),a.jsx(o,{variant:"body2",sx:{color:"#64748b"},children:"Basic employee details and identity"})]})]}),a.jsx(X,{sx:{mb:3,bgcolor:"#667eea",height:2}}),a.jsxs(s,{container:!0,spacing:3,children:[a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"First Name",value:x,onChange:t=>u(t.target.value),required:!0,fullWidth:!0,margin:"normal",error:!!i.firstName,helperText:i.firstName})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Last Name",value:v,onChange:t=>S(t.target.value),required:!0,fullWidth:!0,margin:"normal",error:!!i.lastName,helperText:i.lastName})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsxs(V,{fullWidth:!0,margin:"normal",error:!!i.gender,children:[a.jsx(U,{children:"Gender"}),a.jsxs(Y,{value:E,label:"Gender",onChange:t=>R(t.target.value),required:!0,children:[a.jsx(W,{value:"Male",children:"Male"}),a.jsx(W,{value:"Female",children:"Female"}),a.jsx(W,{value:"Other",children:"Other"})]}),i.gender&&a.jsx(o,{color:"error",variant:"caption",children:i.gender})]})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Date of Birth",type:"date",value:k,onChange:t=>_(t.target.value),required:!0,fullWidth:!0,margin:"normal",InputLabelProps:{shrink:!0},error:!!i.dateOfBirth,helperText:i.dateOfBirth})})]})]}),a.jsxs(n,{sx:{mb:4},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[a.jsx(I,{sx:{bgcolor:"#48bb78",width:40,height:40},children:a.jsx(rt,{sx:{color:"white",fontSize:24}})}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Contact Information"}),a.jsx(o,{variant:"body2",sx:{color:"#64748b"},children:"Communication and emergency contact details"})]})]}),a.jsx(X,{sx:{mb:3,bgcolor:"#48bb78",height:2}}),a.jsxs(s,{container:!0,spacing:3,children:[a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Email",value:m,onChange:t=>Z(t.target.value),required:!0,fullWidth:!0,margin:"normal",type:"email",error:!!i.email,helperText:i.email})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Cell Number",value:T,onChange:t=>F(t.target.value),required:!0,fullWidth:!0,margin:"normal",error:!!i.cellNo,helperText:i.cellNo})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Emergency Contact Number",value:N,onChange:t=>M(t.target.value),required:!0,fullWidth:!0,margin:"normal",error:!!i.emergencyContact,helperText:i.emergencyContact})})]})]}),a.jsxs(n,{sx:{mb:4},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[a.jsx(I,{sx:{bgcolor:"#ed8936",width:40,height:40},children:a.jsx(Ia,{sx:{color:"white",fontSize:24}})}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Address Information"}),a.jsx(o,{variant:"body2",sx:{color:"#64748b"},children:"Residential address and location details"})]})]}),a.jsx(X,{sx:{mb:3,bgcolor:"#ed8936",height:2}}),a.jsxs(s,{container:!0,spacing:3,children:[a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Street Name",value:C,onChange:t=>q(t.target.value),required:!0,fullWidth:!0,margin:"normal",error:!!i.street,helperText:i.street})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsxs(V,{fullWidth:!0,margin:"normal",error:!!i.province,children:[a.jsx(U,{children:"Province"}),a.jsx(Y,{value:A,label:"Province",onChange:t=>{D(t.target.value),L("")},required:!0,children:ht.map(t=>a.jsx(W,{value:t,children:t},t))}),i.province&&a.jsx(o,{color:"error",variant:"caption",children:i.province})]})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsxs(V,{fullWidth:!0,margin:"normal",error:!!i.city,children:[a.jsx(U,{children:"City/Town"}),a.jsx(Y,{value:K,label:"City/Town",onChange:t=>L(t.target.value),required:!0,disabled:!A,children:A&&na.length>0?na.map((t,H)=>a.jsx(W,{value:t.city,children:t.city},t.city+"-"+H)):a.jsx(W,{value:"",children:A?"No cities found":"Select a province first"})}),i.city&&a.jsx(o,{color:"error",variant:"caption",children:i.city})]})}),a.jsx(s,{item:!0,xs:12,sm:6,children:a.jsx(b,{label:"Postal Code",value:z,onChange:t=>r(t.target.value),required:!0,fullWidth:!0,margin:"normal",type:"text",error:!!i.postalCode,helperText:i.postalCode})})]})]}),a.jsxs(n,{sx:{mb:4},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[a.jsx(I,{sx:{bgcolor:"#9f7aea",width:40,height:40},children:a.jsx(J,{sx:{color:"white",fontSize:24}})}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Work Information"}),a.jsx(o,{variant:"body2",sx:{color:"#64748b"},children:"Employment details and compensation"})]})]}),a.jsx(X,{sx:{mb:3,bgcolor:"#9f7aea",height:2}}),a.jsxs(s,{container:!0,spacing:3,children:[a.jsx(s,{item:!0,xs:12,sm:4,children:a.jsxs(V,{fullWidth:!0,margin:"normal",error:!!i.role,children:[a.jsx(U,{children:"Role"}),a.jsx(Y,{value:w,label:"Role",onChange:t=>Q(t.target.value),required:!0,children:dt.map(t=>a.jsx(W,{value:t,children:t},t))}),i.role&&a.jsx(o,{color:"error",variant:"caption",children:i.role})]})}),a.jsx(s,{item:!0,xs:12,sm:4,children:a.jsxs(V,{fullWidth:!0,margin:"normal",error:!!i.employmentType,children:[a.jsx(U,{children:"Employment Type"}),a.jsx(Y,{value:oa,label:"Employment Type",onChange:t=>da(t.target.value),required:!0,children:ut.map(t=>a.jsx(W,{value:t.value,children:t.label},t.value))}),i.employmentType&&a.jsx(o,{color:"error",variant:"caption",children:i.employmentType})]})}),a.jsx(s,{item:!0,xs:12,sm:4,children:a.jsx(b,{label:"Hourly Rate",value:ea,onChange:t=>ua(t.target.value),required:!0,fullWidth:!0,margin:"normal",type:"number",inputProps:{min:0},error:!!i.hourlyRate,helperText:i.hourlyRate})})]})]}),a.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:6},children:a.jsx(G,{variant:"contained",size:"large",onClick:wa,startIcon:a.jsx(sa,{}),sx:{py:2,px:6,fontWeight:"bold",fontSize:18,borderRadius:2,minWidth:250,background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",textTransform:"none",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(45deg, #5a67d8, #667eea)",transform:"translateY(-2px)",boxShadow:"0 12px 35px rgba(102, 126, 234, 0.4)"}},children:"Create Employee Profile"})})]})})]}),a.jsx(Aa,{open:c.open,autoHideDuration:4e3,onClose:()=>y({...c,open:!1}),anchorOrigin:{vertical:"top",horizontal:"center"},children:a.jsx(ta,{onClose:()=>y({...c,open:!1}),severity:c.severity,sx:{width:"100%",borderRadius:2,boxShadow:"0 8px 32px rgba(0,0,0,0.12)",fontWeight:"bold"},children:c.message})})]})}var ca={},xt=Ka;Object.defineProperty(ca,"__esModule",{value:!0});var Ca=ca.default=void 0,yt=xt(Ga()),ft=a;Ca=ca.default=(0,yt.default)((0,ft.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");const ga=["#8e99f3","#f48fb1","#80cbc4","#ffd54f","#a1887f","#90caf9","#ce93d8","#ffab91"],bt=({onView:e,onEdit:d,refreshTrigger:h})=>{const[c,y]=l.useState([]),[i,j]=l.useState({}),[g,x]=l.useState(!1),[u,v]=l.useState(""),[S,E]=l.useState(null),[R,k]=l.useState(""),[_,m]=l.useState(!1),[Z,T]=l.useState(!1),[F,N]=l.useState(""),M=async()=>{try{const r=await O.get("/api/employees",{withCredentials:!0});y(r.data)}catch{y([])}};l.useEffect(()=>{M()},[]),l.useEffect(()=>{h&&M()},[h]);const C=()=>{m(r=>!r),M()},q=(r,p)=>{j(f=>({...f,[p]:r.currentTarget}))},A=r=>{j(p=>({...p,[r]:null}))},D=r=>{E(r),v("archive"),k(""),x(!0)},K=r=>{E(r),v("restore"),k(""),x(!0)},L=async()=>{var r,p;if(S)try{u==="archive"?(await O.put(`/api/employees/${S.employee_id}/archive`,{},{withCredentials:!0}),N("Employee archived successfully")):u==="restore"&&(await O.put(`/api/employees/${S.employee_id}/restore`,{},{withCredentials:!0}),N("Employee restored successfully")),T(!0),x(!1),M()}catch(f){k(((p=(r=f.response)==null?void 0:r.data)==null?void 0:p.error)||"Failed to perform action.")}},z=c.filter(r=>_?r.employment_status==="archived":r.employment_status!=="archived");return a.jsxs(a.Fragment,{children:[a.jsx(P,{sx:{p:3,mb:3,borderRadius:3,background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:a.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx(J,{sx:{color:"#667eea",fontSize:32}}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:_?"Archived Employees":"Active Team Members"}),a.jsx(o,{variant:"body2",sx:{color:"#64748b"},children:_?"Previously archived employees":"Current active workforce"})]})]}),a.jsx(G,{variant:"contained",onClick:C,sx:{py:1.5,px:4,fontWeight:"bold",borderRadius:2,textTransform:"none",background:_?"linear-gradient(45deg, #48bb78, #68d391)":"linear-gradient(45deg, #667eea, #764ba2)",color:"white",boxShadow:_?"0 4px 16px rgba(72, 187, 120, 0.3)":"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:_?"linear-gradient(45deg, #38a169, #48bb78)":"linear-gradient(45deg, #5a67d8, #667eea)",transform:"translateY(-2px)",boxShadow:_?"0 8px 25px rgba(72, 187, 120, 0.4)":"0 8px 25px rgba(102, 126, 234, 0.4)"}},children:_?"Show Active Employees":"Show Archived Employees"})]})}),a.jsx(s,{container:!0,spacing:3,sx:{mt:1,mb:2},children:z.map((r,p)=>{var f,w;return a.jsx(s,{item:!0,xs:12,sm:6,md:4,lg:3,children:a.jsx(it,{in:!0,timeout:300+p*100,children:a.jsxs(la,{sx:{borderRadius:3,minHeight:380,width:"100%",display:"flex",flexDirection:"column",position:"relative",p:0,overflow:"hidden",background:"linear-gradient(145deg, #ffffff 0%, #f8fafc 100%)",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.3)",transition:"all 0.3s ease","&:hover":{transform:"translateY(-8px)",boxShadow:"0 20px 40px rgba(0,0,0,0.15)","& .card-header":{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}}},children:[a.jsxs(n,{className:"card-header",sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:2,position:"relative",transition:"all 0.3s ease"},children:[a.jsx($,{label:r.employment_status==="archived"?"Archived":"Active",size:"small",sx:{position:"absolute",top:8,left:8,bgcolor:r.employment_status==="archived"?"#ff6b6b":"#51cf66",color:"white",fontWeight:"bold",fontSize:"10px"}}),a.jsx(_a,{"aria-label":"more",onClick:Q=>q(Q,p),size:"small",sx:{position:"absolute",top:8,right:8,bgcolor:"rgba(255,255,255,0.2)",color:"white","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:a.jsx(Ua,{})}),a.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:1},children:a.jsxs(I,{sx:{bgcolor:ga[p%ga.length],width:70,height:70,fontSize:28,fontWeight:700,border:"4px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 16px rgba(0,0,0,0.2)"},children:[(f=r.first_name)==null?void 0:f[0],(w=r.last_name)==null?void 0:w[0]]})}),a.jsxs(n,{sx:{textAlign:"center",mt:2},children:[a.jsxs(o,{variant:"h6",sx:{fontWeight:"bold",color:"white",textShadow:"0 2px 4px rgba(0,0,0,0.3)"},children:[r.first_name," ",r.last_name]}),a.jsx(o,{variant:"subtitle2",sx:{color:"rgba(255,255,255,0.9)",fontWeight:"500"},children:r.role})]})]}),a.jsx(pa,{sx:{flexGrow:1,width:"100%",p:3,background:"rgba(255,255,255,0.95)"},children:a.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[a.jsx(va,{sx:{color:"#667eea",fontSize:20}}),a.jsxs(n,{children:[a.jsx(o,{variant:"caption",sx:{color:"#64748b",fontWeight:"bold"},children:"Hired Date"}),a.jsx(o,{variant:"body2",sx:{fontWeight:"500"},children:r.hired_date?new Date(r.hired_date).toLocaleDateString():"Not specified"})]})]}),a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[a.jsx(Za,{sx:{color:"#48bb78",fontSize:20}}),a.jsxs(n,{sx:{flex:1,minWidth:0},children:[a.jsx(o,{variant:"caption",sx:{color:"#64748b",fontWeight:"bold"},children:"Email"}),a.jsx(o,{variant:"body2",sx:{fontWeight:"500",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:r.email})]})]}),a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[a.jsx(st,{sx:{color:"#ed8936",fontSize:20}}),a.jsxs(n,{children:[a.jsx(o,{variant:"caption",sx:{color:"#64748b",fontWeight:"bold"},children:"Phone"}),a.jsx(o,{variant:"body2",sx:{fontWeight:"500"},children:r.cell_no})]})]}),a.jsx(n,{sx:{display:"flex",justifyContent:"center",mt:1},children:a.jsx($,{label:r.employment_type||"Not specified",size:"small",sx:{bgcolor:r.employment_type==="Permanent"?"#e3f2fd":"#fff3e0",color:r.employment_type==="Permanent"?"#1976d2":"#f57c00",fontWeight:"bold",border:r.employment_type==="Permanent"?"1px solid #1976d2":"1px solid #f57c00"}})})]})}),a.jsxs(La,{anchorEl:i[p],open:!!i[p],onClose:()=>A(p),anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},PaperProps:{sx:{borderRadius:2,boxShadow:"0 8px 32px rgba(0,0,0,0.12)",border:"1px solid rgba(255,255,255,0.2)",background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)"}},children:[a.jsxs(W,{onClick:()=>{A(p),e&&e(r)},sx:{gap:1.5,py:1.5,px:2,"&:hover":{bgcolor:"rgba(102, 126, 234, 0.1)",color:"#667eea"}},children:[a.jsx(Ca,{sx:{color:"#667eea",fontSize:20}}),a.jsx(o,{sx:{fontWeight:"500"},children:"View Details"})]}),a.jsxs(W,{onClick:()=>{A(p),d&&d(r)},sx:{gap:1.5,py:1.5,px:2,"&:hover":{bgcolor:"rgba(72, 187, 120, 0.1)",color:"#48bb78"}},children:[a.jsx(Ya,{sx:{color:"#48bb78",fontSize:20}}),a.jsx(o,{sx:{fontWeight:"500"},children:"Update"})]}),r.employment_status==="archived"?a.jsxs(W,{onClick:()=>{A(p),K(r)},sx:{gap:1.5,py:1.5,px:2,bgcolor:"#48bb78",color:"white",fontWeight:"bold","&:hover":{bgcolor:"#38a169"}},children:[a.jsx(Ja,{sx:{color:"white",fontSize:20}}),a.jsx(o,{sx:{fontWeight:"bold"},children:"Restore"})]}):a.jsxs(W,{onClick:()=>{A(p),D(r)},sx:{gap:1.5,py:1.5,px:2,"&:hover":{bgcolor:"rgba(229, 57, 53, 0.1)",color:"#e53935"}},children:[a.jsx(Qa,{sx:{color:"#e53935",fontSize:20}}),a.jsx(o,{sx:{fontWeight:"500"},children:"Archive"})]})]})]})})},r.employee_id||r.id)})}),a.jsxs(ba,{open:g,onClose:()=>x(!1),children:[a.jsx(za,{children:u==="archive"?"Archive Employee":"Restore Employee"}),a.jsxs(Ba,{children:[u==="archive"?a.jsxs(a.Fragment,{children:[a.jsx(ta,{severity:"warning",sx:{mb:2},children:"Are you sure you want to archive this employee?"}),a.jsxs("ul",{children:[a.jsx("li",{children:"You cannot archive an employee with active tasks."}),a.jsx("li",{children:"Archived employees can still be assigned new tasks."})]})]}):a.jsx(ta,{severity:"info",sx:{mb:2},children:"Are you sure you want to restore this employee?"}),R&&a.jsx(ta,{severity:"error",sx:{mt:2},children:R})]}),a.jsxs(Xa,{children:[a.jsx(G,{onClick:()=>x(!1),children:"Cancel"}),a.jsx(G,{onClick:L,color:u==="archive"?"error":"success",variant:"contained",sx:u==="restore"?{backgroundColor:"#43a047",color:"#fff","&:hover":{backgroundColor:"#388e3c"}}:{},children:u==="archive"?"Archive":"Restore"})]})]}),a.jsx(Aa,{open:Z,autoHideDuration:3e3,onClose:()=>T(!1),message:F,anchorOrigin:{vertical:"top",horizontal:"center"}})]})},_t=({employee:e,onUpdate:d,onCancel:h})=>{const[c,y]=l.useState({email:e.email||"",cellNo:e.cell_no||"",emergencyContact:e.emergency_contact||"",street:e.street||"",province:e.province||"",city:e.city||"",postalCode:e.postal_code||"",hourlyRate:e.hourly_rate||""}),[i,j]=l.useState(!1),[g,x]=l.useState(""),u=S=>{y({...c,[S.target.name]:S.target.value})},v=async S=>{S.preventDefault(),j(!0),x("");try{await d(c)}catch{x("Failed to update employee.")}j(!1)};return a.jsxs(P,{sx:{p:3,maxWidth:500,mx:"auto"},children:[a.jsx(o,{variant:"h6",gutterBottom:!0,children:"Update Employee Details"}),a.jsxs("form",{onSubmit:v,children:[a.jsxs(s,{container:!0,spacing:2,children:[a.jsx(s,{item:!0,xs:12,children:a.jsx(b,{label:"Email",name:"email",value:c.email,onChange:u,fullWidth:!0,required:!0,type:"email"})}),a.jsx(s,{item:!0,xs:12,children:a.jsx(b,{label:"Cell No",name:"cellNo",value:c.cellNo,onChange:u,fullWidth:!0,required:!0})}),a.jsx(s,{item:!0,xs:12,children:a.jsx(b,{label:"Emergency Contact",name:"emergencyContact",value:c.emergencyContact,onChange:u,fullWidth:!0})}),a.jsx(s,{item:!0,xs:12,children:a.jsx(b,{label:"Street",name:"street",value:c.street,onChange:u,fullWidth:!0})}),a.jsx(s,{item:!0,xs:6,children:a.jsx(b,{label:"Province",name:"province",value:c.province,onChange:u,fullWidth:!0})}),a.jsx(s,{item:!0,xs:6,children:a.jsx(b,{label:"City",name:"city",value:c.city,onChange:u,fullWidth:!0})}),a.jsx(s,{item:!0,xs:6,children:a.jsx(b,{label:"Postal Code",name:"postalCode",value:c.postalCode,onChange:u,fullWidth:!0})}),a.jsx(s,{item:!0,xs:6,children:a.jsx(b,{label:"Hourly Rate",name:"hourlyRate",value:c.hourlyRate,onChange:u,fullWidth:!0,type:"number",inputProps:{min:0,step:"0.01"}})})]}),g&&a.jsx(o,{color:"error",sx:{mt:2},children:g}),a.jsxs(n,{sx:{mt:3,display:"flex",gap:2},children:[a.jsx(G,{type:"submit",variant:"contained",color:"primary",disabled:i,children:"Update"}),a.jsx(G,{variant:"outlined",color:"secondary",onClick:h,disabled:i,children:"Cancel"})]})]})]})},xa=["#8e99f3","#f48fb1","#80cbc4","#ffd54f","#a1887f","#90caf9","#ce93d8","#ffab91"];function At(e){let d=0;if(e)for(let h=0;h<e.length;h++)d+=e.charCodeAt(h);return xa[d%xa.length]}function ya(e){return e<30?"#e53935":e<51?"#ffb300":e<76?"#81c784":"#388e3c"}function fa(e){return e?new Date(e).toISOString().slice(0,10):""}const aa=["#8e99f3","#81c784","#ffd54f","#f48fb1","#ffab91","#90caf9","#ce93d8","#a1887f"],St=({employee:e,onClose:d})=>{const[h,c]=l.useState({projects:[],project_score:0});if(l.useEffect(()=>{e!=null&&e.employee_id&&O.get(`${Sa}/api/employees/${e.employee_id}/project-stats`,{withCredentials:!0}).then(g=>c(g.data)).catch(()=>c({projects:[],project_score:0}))},[e]),!e)return null;const y=`${e.street}, ${e.city}, ${e.province}, ${e.postal_code}`,i=`https://www.google.com/maps?q=${encodeURIComponent(y)}&output=embed`,j=At(e.first_name+e.last_name);return a.jsx(n,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"100vh",p:4},children:a.jsxs(P,{sx:{p:0,maxWidth:1200,mx:"auto",mt:2,borderRadius:3,overflow:"hidden",background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:[a.jsx(n,{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:4,color:"white",position:"relative"},children:a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:3},children:[a.jsxs(I,{sx:{bgcolor:j,width:100,height:100,fontSize:42,fontWeight:700,border:"4px solid rgba(255,255,255,0.3)",boxShadow:"0 8px 25px rgba(0,0,0,0.2)"},children:[e.first_name[0],e.last_name[0]]}),a.jsxs(n,{sx:{flex:1},children:[a.jsxs(o,{variant:"h4",sx:{fontWeight:"bold",textShadow:"0 2px 4px rgba(0,0,0,0.3)",mb:1},children:[e.first_name," ",e.last_name]}),a.jsx(o,{variant:"h6",sx:{color:"rgba(255,255,255,0.9)",fontWeight:"500",mb:2},children:e.role}),a.jsxs(n,{sx:{display:"flex",gap:2,flexWrap:"wrap"},children:[a.jsx($,{icon:a.jsx(ja,{sx:{color:"white !important"}}),label:`ID: ${e.employee_id}`,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white",fontWeight:"bold"}}),a.jsx($,{icon:a.jsx(va,{sx:{color:"white !important"}}),label:`Born: ${fa(e.date_of_birth)}`,sx:{bgcolor:"rgba(255,255,255,0.2)",color:"white",fontWeight:"bold"}})]})]}),a.jsxs(n,{sx:{textAlign:"center"},children:[a.jsx(o,{variant:"body2",sx:{fontWeight:600,color:"rgba(255,255,255,0.9)",mb:1},children:"Project Score"}),a.jsxs(n,{sx:{width:90,height:90,borderRadius:"50%",border:`6px solid ${ya(h.project_score)}`,display:"flex",alignItems:"center",justifyContent:"center",fontWeight:700,fontSize:28,color:ya(h.project_score),bgcolor:"rgba(255,255,255,0.95)",boxShadow:"0 4px 16px rgba(0,0,0,0.2)"},children:[h.project_score||0,"%"]})]})]})}),a.jsxs(n,{sx:{p:4},children:[a.jsxs(s,{container:!0,spacing:3,sx:{mb:4},children:[a.jsx(s,{item:!0,xs:12,md:6,children:a.jsx(la,{sx:{background:"linear-gradient(145deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:2,boxShadow:"0 8px 25px rgba(102, 126, 234, 0.3)"},children:a.jsxs(pa,{children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(Za,{sx:{fontSize:28}}),a.jsx(o,{variant:"h6",sx:{fontWeight:"bold"},children:"Contact Details"})]}),a.jsxs(o,{variant:"body1",sx:{mb:1,opacity:.9},children:["📧 ",e.email]}),a.jsxs(o,{variant:"body1",sx:{opacity:.9},children:["📱 ",e.cell_no]})]})})}),a.jsx(s,{item:!0,xs:12,md:6,children:a.jsx(la,{sx:{background:"linear-gradient(145deg, #48bb78 0%, #38a169 100%)",color:"white",borderRadius:2,boxShadow:"0 8px 25px rgba(72, 187, 120, 0.3)"},children:a.jsxs(pa,{children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2,mb:2},children:[a.jsx(J,{sx:{fontSize:28}}),a.jsx(o,{variant:"h6",sx:{fontWeight:"bold"},children:"Employment"})]}),a.jsxs(o,{variant:"body1",sx:{mb:1,opacity:.9},children:["💼 ",e.employment_type," • ",e.employment_status]}),a.jsxs(o,{variant:"body1",sx:{opacity:.9},children:["R",e.hourly_rate,"/hour"]})]})})})]}),a.jsxs(P,{sx:{p:3,mb:4,borderRadius:2,background:"rgba(255,255,255,0.7)",border:"1px solid rgba(102, 126, 234, 0.2)"},children:[a.jsxs(o,{variant:"h6",sx:{color:"#667eea",fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:[a.jsx(J,{})," Projects Work"]}),h.projects.length===0&&a.jsx(o,{variant:"body2",sx:{mb:2,color:"#64748b"},children:"No project data available."}),h.projects.map((g,x)=>a.jsx(n,{sx:{mb:2},children:a.jsxs(n,{sx:{display:"flex",alignItems:"center",mb:1},children:[a.jsx(n,{sx:{width:20,height:20,bgcolor:aa[x%aa.length],borderRadius:"6px",mr:2,boxShadow:"0 2px 8px rgba(0,0,0,0.15)"}}),a.jsx(o,{variant:"body1",sx:{minWidth:160,fontWeight:"600",color:"#2d3748"},children:g.project_name}),a.jsx(at,{variant:"determinate",value:g.work_percentage,sx:{flex:1,mx:3,height:12,borderRadius:6,bgcolor:"rgba(0,0,0,0.1)","& .MuiLinearProgress-bar":{bgcolor:aa[x%aa.length],borderRadius:6}}}),a.jsxs(o,{variant:"body1",sx:{minWidth:50,fontWeight:"bold",color:"#2d3748"},children:[Math.round(g.work_percentage),"%"]})]})},g.project_id))]}),a.jsxs(s,{container:!0,spacing:3,children:[a.jsx(s,{item:!0,xs:12,md:6,children:a.jsxs(P,{sx:{p:3,borderRadius:2,background:"linear-gradient(145deg, #ed8936 0%, #dd7324 100%)",color:"white",boxShadow:"0 8px 25px rgba(237, 137, 54, 0.3)"},children:[a.jsxs(o,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:[a.jsx(J,{})," Work Information"]}),a.jsxs(n,{sx:{display:"flex",flexDirection:"column",gap:1},children:[a.jsxs(o,{variant:"body1",children:[a.jsx("strong",{children:"Hourly Rate:"})," R",e.hourly_rate]}),a.jsxs(o,{variant:"body1",children:["📋 ",a.jsx("strong",{children:"Employment Type:"})," ",e.employment_type]}),a.jsxs(o,{variant:"body1",children:["✅ ",a.jsx("strong",{children:"Status:"})," ",e.employment_status]}),a.jsxs(o,{variant:"body1",children:["📅 ",a.jsx("strong",{children:"Hired:"})," ",fa(e.hired_date)]})]})]})}),a.jsx(s,{item:!0,xs:12,md:6,children:a.jsxs(P,{sx:{p:3,borderRadius:2,background:"linear-gradient(145deg, #9f7aea 0%, #805ad5 100%)",color:"white",boxShadow:"0 8px 25px rgba(159, 122, 234, 0.3)"},children:[a.jsxs(o,{variant:"h6",sx:{fontWeight:"bold",mb:2,display:"flex",alignItems:"center",gap:1},children:[a.jsx(lt,{})," Location"]}),a.jsx(n,{sx:{bgcolor:"rgba(255,255,255,0.1)",borderRadius:2,p:1,minHeight:140,border:"1px solid rgba(255,255,255,0.2)"},children:a.jsx("iframe",{title:"map",width:"100%",height:"140",frameBorder:"0",src:i,style:{border:0,borderRadius:8},allowFullScreen:!0})})]})})]})]}),a.jsx(n,{sx:{p:4,pt:0,textAlign:"center"},children:a.jsx(G,{variant:"contained",onClick:d,size:"large",sx:{py:1.5,px:4,fontWeight:"bold",borderRadius:2,background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",textTransform:"none",minWidth:150,boxShadow:"0 4px 16px rgba(102, 126, 234, 0.3)","&:hover":{background:"linear-gradient(45deg, #5a67d8, #667eea)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.4)"}},children:"Close"})})]})})};function jt(){var _;const[e,d]=l.useState(!1),[h,c]=l.useState([]),[y,i]=l.useState(null),[j,g]=l.useState(null),[x,u]=l.useState(0);l.useEffect(()=>{O.get("/api/employees",{withCredentials:!0}).then(m=>{c(m.data)}).catch(m=>{console.error("Failed to fetch employees:",m)})},[]);const v=m=>{i(m)},S=async m=>{await O.put(`/api/employees/${y.employee_id}`,m,{withCredentials:!0}),u(Z=>Z+1),i(null)},E=()=>{i(null)},R=m=>{u(Z=>Z+1),d(!1)},k=m=>{g(m)};return a.jsxs(n,{sx:{minHeight:"100vh",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",p:0},children:[a.jsxs(n,{sx:{bgcolor:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",borderBottom:"3px solid #667eea",p:4,mb:0,boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",justifyContent:"center",gap:3,mb:3},children:[a.jsx(I,{sx:{bgcolor:"#667eea",width:64,height:64,boxShadow:"0 6px 16px rgba(102, 126, 234, 0.3)"},children:a.jsx(pt,{sx:{fontSize:36,color:"white"}})}),a.jsxs(n,{sx:{textAlign:"center"},children:[a.jsx(o,{variant:"h3",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #667eea, #764ba2)",backgroundClip:"text",color:"transparent",mb:1},children:"Employee Management"}),a.jsx(o,{variant:"h6",sx:{color:"#64748b",fontWeight:"500"},children:"Manage your team members and workforce"}),a.jsxs(o,{variant:"body2",sx:{color:"#94a3b8",fontWeight:"400",mt:1},children:["Access Level: ",((_=qa())==null?void 0:_.role)||"Unknown"," • Employees Module"]})]})]}),a.jsxs(P,{sx:{p:3,borderRadius:3,background:"rgba(255,255,255,0.9)",backdropFilter:"blur(10px)",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[a.jsxs(n,{sx:{display:"flex",alignItems:"center",gap:2},children:[a.jsx($a,{sx:{color:"#667eea",fontSize:28}}),a.jsxs(n,{children:[a.jsx(o,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Team Overview"}),a.jsxs(n,{sx:{display:"flex",gap:2,mt:1},children:[a.jsx($,{label:`Total Employees: ${h.length}`,sx:{bgcolor:"#667eea",color:"white",fontWeight:"bold"}}),a.jsx($,{label:`Active: ${h.filter(m=>m.employment_status==="active").length}`,sx:{bgcolor:"#48bb78",color:"white",fontWeight:"bold"}})]})]})]}),a.jsx(tt,{permission:"employees",children:a.jsx(Va,{title:"Add New Employee",children:a.jsx(G,{variant:"contained",startIcon:a.jsx(sa,{}),size:"large",onClick:()=>d(!0),sx:{py:1.8,px:4,fontWeight:"bold",fontSize:16,borderRadius:2,minWidth:200,background:"linear-gradient(45deg, #ed8936, #f6ad55)",color:"white",textTransform:"none",boxShadow:"0 4px 16px rgba(237, 137, 54, 0.3)","&:hover":{background:"linear-gradient(45deg, #dd7324, #ed8936)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(237, 137, 54, 0.4)"}},children:"Add Employee"})})})]})]}),a.jsx(n,{sx:{p:4,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",minHeight:"calc(100vh - 280px)"},children:a.jsx(P,{sx:{p:4,borderRadius:3,background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)",minHeight:"500px"},children:a.jsx("div",{children:j?a.jsx(St,{employee:j,onClose:()=>g(null)}):y?a.jsx(_t,{employee:y,onUpdate:S,onCancel:E}):a.jsx(bt,{onEdit:v,onView:k,refreshTrigger:x})})})}),a.jsx(gt,{open:e,onClose:()=>d(!1),onSave:R})]})}const zt=Fa(jt,"employees");export{zt as default};
