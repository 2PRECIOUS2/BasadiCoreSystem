var pu=Object.defineProperty;var bu=(e,t,n)=>t in e?pu(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var nt=(e,t,n)=>(bu(e,typeof t!="symbol"?t+"":t,n),n);import{a5 as us,a6 as Cu,A as yt,j as i,g as no,b as oo,a7 as yr,s as ke,_ as m,a8 as ds,r as d,e as ro,i as Q,k as St,l as lo,Y as xl,d as vr,h as vt,a2 as fs,a as wu,f as Sl,Z as Nr,a9 as xu,R as Su,q as ht,P as xt,z as yu,C as vu,B as Le,T as Z,v as Ki,aa as qi,ab as Iu,ac as Xi,ad as Mu,ae as Yi,af as Qi,ag as Pu,ah as Ji,ai as ku}from"./index-7f2a5a5c.js";import{P as Eu}from"./PageContainer-5b987cfc.js";import{D as Ir}from"./Dialog-b4e01f51.js";import{A as Zi}from"./Avatar-c5f94f89.js";import{T as Gn,C as Tu,W as ea,B as Fu}from"./Work-e20e4d4e.js";import{S as yl,M as ta,F as na,I as oa,i as Wo,A as Yn}from"./Select-d37c91fa.js";import{P as ra}from"./Person-e349477d.js";import{C as Qn}from"./Chip-e53104cd.js";import{D as Vn}from"./Divider-f09bd367.js";import{G as re,C as Hn}from"./Grid-bb9fb0fd.js";import{T as lt}from"./TextField-b5c10dbe.js";import{S as Du,A as hs}from"./Save-981fd805.js";import{D as vl,a as Il}from"./DialogTitle-28245c8f.js";import{D as Ml}from"./DialogActions-7d3cee52.js";import{C as ir}from"./CircularProgress-1de20e04.js";import{A as ju}from"./Add-810ef412.js";import{I as Nt,b as Zt,d as Hu,e as la,o as sa,u as ar,j as $u,l as Ou,m as Ru,n as Lu,F as Au,g as zu}from"./MenuItem-e27c57ab.js";import{P as B}from"./index-b8c9c791.js";import{s as ze,g as Gu}from"./useThemeProps-9087c27b.js";import{M as Bu,i as Vu}from"./InputAdornment-c8da3a91.js";import{M as _u,f as Nu}from"./FormControlLabel-67927353.js";import{M as Wu}from"./Checkbox-7d491049.js";import{M as Uu}from"./ListItemText-44ba3285.js";import{T as al}from"./TableCell-c04f540f.js";import{T as Ku}from"./Toolbar-9e4b0934.js";import{M as qu,a as gs}from"./Switch-2bd478f2.js";import{M as Xu}from"./LinearProgress-076af29f.js";import{M as ms}from"./ListItemIcon-e33201e7.js";import{M as Yu}from"./Autocomplete-3d006622.js";import{M as Qu}from"./Popper-4ae086c2.js";import{C as Ju}from"./ClickAwayListener-abc824ad.js";import{V as Zu}from"./Visibility-46fbeaf7.js";import"./index-40b498ea.js";import"./Stack-c4449878.js";import"./usePreviousProps-8126184a.js";import"./ListSubheader-dc2aff66.js";function Pl(e,t=0,n=1){return Cu(e,t,n)}function ed(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let n=e.match(t);return n&&n[0].length===1&&(n=n.map(o=>o+o)),n?`rgb${n.length===4?"a":""}(${n.map((o,r)=>r<3?parseInt(o,16):Math.round(parseInt(o,16)/255*1e3)/1e3).join(", ")})`:""}function Mr(e){if(e.type)return e;if(e.charAt(0)==="#")return Mr(ed(e));const t=e.indexOf("("),n=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(us(9,e));let o=e.substring(t+1,e.length-1),r;if(n==="color"){if(o=o.split(" "),r=o.shift(),o.length===4&&o[3].charAt(0)==="/"&&(o[3]=o[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(r)===-1)throw new Error(us(10,r))}else o=o.split(",");return o=o.map(l=>parseFloat(l)),{type:n,values:o,colorSpace:r}}function kl(e){const{type:t,colorSpace:n}=e;let{values:o}=e;return t.indexOf("rgb")!==-1?o=o.map((r,l)=>l<3?parseInt(r,10):r):t.indexOf("hsl")!==-1&&(o[1]=`${o[1]}%`,o[2]=`${o[2]}%`),t.indexOf("color")!==-1?o=`${n} ${o.join(" ")}`:o=`${o.join(", ")}`,`${t}(${o})`}function mn(e,t){return e=Mr(e),t=Pl(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,kl(e)}function td(e,t){if(e=Mr(e),t=Pl(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]*=1-t;return kl(e)}function nd(e,t){if(e=Mr(e),t=Pl(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return kl(e)}let $n;function ia(){if($n)return $n;const e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),$n="reverse",e.scrollLeft>0?$n="default":(e.scrollLeft=1,e.scrollLeft===0&&($n="negative")),document.body.removeChild(e),$n}function od(e,t){const n=e.scrollLeft;if(t!=="rtl")return n;switch(ia()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Po(e){"@babel/helpers - typeof";return Po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Po(e)}function rd(e,t){if(Po(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var o=n.call(e,t||"default");if(Po(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ko(e){var t=rd(e,"string");return Po(t)=="symbol"?t:t+""}function ld(e){return String(e).match(/[\d.\-+]*\s*(.*)/)[1]||""}function sd(e){return parseFloat(e)}const id=yt(i.jsx("path",{d:"M18.41 16.59L13.82 12l4.59-4.59L17 6l-6 6 6 6zM6 6h2v12H6z"}),"FirstPage"),ad=yt(i.jsx("path",{d:"M5.59 7.41L10.18 12l-4.59 4.59L7 18l6-6-6-6zM16 6h2v12h-2z"}),"LastPage");function cd(e){return no("MuiSkeleton",e)}oo("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const ud=["animation","className","component","height","style","variant","width"];let cr=e=>e,ps,bs,Cs,ws;const dd=e=>{const{classes:t,variant:n,animation:o,hasChildren:r,width:l,height:s}=e;return lo({root:["root",n,o,r&&"withChildren",r&&!l&&"fitContent",r&&!s&&"heightAuto"]},cd,t)},fd=yr(ps||(ps=cr`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),hd=yr(bs||(bs=cr`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),gd=ke("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.animation!==!1&&t[n.animation],n.hasChildren&&t.withChildren,n.hasChildren&&!n.width&&t.fitContent,n.hasChildren&&!n.height&&t.heightAuto]}})(({theme:e,ownerState:t})=>{const n=ld(e.shape.borderRadius)||"px",o=sd(e.shape.borderRadius);return m({display:"block",backgroundColor:e.vars?e.vars.palette.Skeleton.bg:mn(e.palette.text.primary,e.palette.mode==="light"?.11:.13),height:"1.2em"},t.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${o}${n}/${Math.round(o/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},t.variant==="circular"&&{borderRadius:"50%"},t.variant==="rounded"&&{borderRadius:(e.vars||e).shape.borderRadius},t.hasChildren&&{"& > *":{visibility:"hidden"}},t.hasChildren&&!t.width&&{maxWidth:"fit-content"},t.hasChildren&&!t.height&&{height:"auto"})},({ownerState:e})=>e.animation==="pulse"&&ds(Cs||(Cs=cr`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),fd),({ownerState:e,theme:t})=>e.animation==="wave"&&ds(ws||(ws=cr`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),hd,(t.vars||t).palette.action.hover)),md=d.forwardRef(function(t,n){const o=ro({props:t,name:"MuiSkeleton"}),{animation:r="pulse",className:l,component:s="span",height:c,style:a,variant:u="text",width:f}=o,h=Q(o,ud),g=m({},o,{animation:r,component:s,variant:u,hasChildren:!!h.children}),p=dd(g);return i.jsx(gd,m({as:s,ref:n,className:St(p.root,l),ownerState:g},h,{style:m({width:f,height:c},a)}))}),pd=md;function bd(e){return no("MuiTab",e)}const Cd=oo("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),ln=Cd,wd=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],xd=e=>{const{classes:t,textColor:n,fullWidth:o,wrapped:r,icon:l,label:s,selected:c,disabled:a}=e,u={root:["root",l&&s&&"labelIcon",`textColor${vr(n)}`,o&&"fullWidth",r&&"wrapped",c&&"selected",a&&"disabled"],iconWrapper:["iconWrapper"]};return lo(u,bd,t)},Sd=ke(xl,{name:"MuiTab",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.label&&n.icon&&t.labelIcon,t[`textColor${vr(n.textColor)}`],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,{[`& .${ln.iconWrapper}`]:t.iconWrapper}]}})(({theme:e,ownerState:t})=>m({},e.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},t.label&&{flexDirection:t.iconPosition==="top"||t.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},t.icon&&t.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${ln.iconWrapper}`]:m({},t.iconPosition==="top"&&{marginBottom:6},t.iconPosition==="bottom"&&{marginTop:6},t.iconPosition==="start"&&{marginRight:e.spacing(1)},t.iconPosition==="end"&&{marginLeft:e.spacing(1)})},t.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${ln.selected}`]:{opacity:1},[`&.${ln.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity}},t.textColor==="primary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ln.selected}`]:{color:(e.vars||e).palette.primary.main},[`&.${ln.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.textColor==="secondary"&&{color:(e.vars||e).palette.text.secondary,[`&.${ln.selected}`]:{color:(e.vars||e).palette.secondary.main},[`&.${ln.disabled}`]:{color:(e.vars||e).palette.text.disabled}},t.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},t.wrapped&&{fontSize:e.typography.pxToRem(12)})),yd=d.forwardRef(function(t,n){const o=ro({props:t,name:"MuiTab"}),{className:r,disabled:l=!1,disableFocusRipple:s=!1,fullWidth:c,icon:a,iconPosition:u="top",indicator:f,label:h,onChange:g,onClick:p,onFocus:w,selected:C,selectionFollowsFocus:b,textColor:x="inherit",value:F,wrapped:j=!1}=o,T=Q(o,wd),I=m({},o,{disabled:l,disableFocusRipple:s,selected:C,icon:!!a,iconPosition:u,label:!!h,fullWidth:c,textColor:x,wrapped:j}),k=xd(I),L=a&&h&&d.isValidElement(a)?d.cloneElement(a,{className:St(k.iconWrapper,a.props.className)}):a,v=M=>{!C&&g&&g(M,F),p&&p(M)},y=M=>{b&&!C&&g&&g(M,F),w&&w(M)};return i.jsxs(Sd,m({focusRipple:!s,className:St(k.root,r),ref:n,role:"tab","aria-selected":C,disabled:l,onClick:v,onFocus:y,ownerState:I,tabIndex:C?0:-1},T,{children:[u==="top"||u==="start"?i.jsxs(d.Fragment,{children:[L,h]}):i.jsxs(d.Fragment,{children:[h,L]}),f]}))}),vd=yd,aa=yt(i.jsx("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),ca=yt(i.jsx("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),Id=["backIconButtonProps","count","disabled","getItemAriaLabel","nextIconButtonProps","onPageChange","page","rowsPerPage","showFirstButton","showLastButton","slots","slotProps"],Md=d.forwardRef(function(t,n){var o,r,l,s,c,a,u,f;const{backIconButtonProps:h,count:g,disabled:p=!1,getItemAriaLabel:w,nextIconButtonProps:C,onPageChange:b,page:x,rowsPerPage:F,showFirstButton:j,showLastButton:T,slots:I={},slotProps:k={}}=t,L=Q(t,Id),v=vt(),y=se=>{b(se,0)},M=se=>{b(se,x-1)},O=se=>{b(se,x+1)},D=se=>{b(se,Math.max(0,Math.ceil(g/F)-1))},$=(o=I.firstButton)!=null?o:Nt,z=(r=I.lastButton)!=null?r:Nt,H=(l=I.nextButton)!=null?l:Nt,P=(s=I.previousButton)!=null?s:Nt,E=(c=I.firstButtonIcon)!=null?c:id,G=(a=I.lastButtonIcon)!=null?a:ad,_=(u=I.nextButtonIcon)!=null?u:ca,R=(f=I.previousButtonIcon)!=null?f:aa,A=v?z:$,V=v?H:P,U=v?P:H,N=v?$:z,J=v?k.lastButton:k.firstButton,q=v?k.nextButton:k.previousButton,ue=v?k.previousButton:k.nextButton,de=v?k.firstButton:k.lastButton;return i.jsxs("div",m({ref:n},L,{children:[j&&i.jsx(A,m({onClick:y,disabled:p||x===0,"aria-label":w("first",x),title:w("first",x)},J,{children:v?i.jsx(G,m({},k.lastButtonIcon)):i.jsx(E,m({},k.firstButtonIcon))})),i.jsx(V,m({onClick:M,disabled:p||x===0,color:"inherit","aria-label":w("previous",x),title:w("previous",x)},q??h,{children:v?i.jsx(_,m({},k.nextButtonIcon)):i.jsx(R,m({},k.previousButtonIcon))})),i.jsx(U,m({onClick:O,disabled:p||(g!==-1?x>=Math.ceil(g/F)-1:!1),color:"inherit","aria-label":w("next",x),title:w("next",x)},ue??C,{children:v?i.jsx(R,m({},k.previousButtonIcon)):i.jsx(_,m({},k.nextButtonIcon))})),T&&i.jsx(N,m({onClick:D,disabled:p||x>=Math.ceil(g/F)-1,"aria-label":w("last",x),title:w("last",x)},de,{children:v?i.jsx(E,m({},k.firstButtonIcon)):i.jsx(G,m({},k.lastButtonIcon))}))]}))}),Pd=Md;function kd(e){return no("MuiTablePagination",e)}const Ed=oo("MuiTablePagination",["root","toolbar","spacer","selectLabel","selectRoot","select","selectIcon","input","menuItem","displayedRows","actions"]),Sn=Ed;var xs;const Td=["ActionsComponent","backIconButtonProps","className","colSpan","component","count","disabled","getItemAriaLabel","labelDisplayedRows","labelRowsPerPage","nextIconButtonProps","onPageChange","onRowsPerPageChange","page","rowsPerPage","rowsPerPageOptions","SelectProps","showFirstButton","showLastButton","slotProps","slots"],Fd=ke(al,{name:"MuiTablePagination",slot:"Root",overridesResolver:(e,t)=>t.root})(({theme:e})=>({overflow:"auto",color:(e.vars||e).palette.text.primary,fontSize:e.typography.pxToRem(14),"&:last-child":{padding:0}})),Dd=ke(Ku,{name:"MuiTablePagination",slot:"Toolbar",overridesResolver:(e,t)=>m({[`& .${Sn.actions}`]:t.actions},t.toolbar)})(({theme:e})=>({minHeight:52,paddingRight:2,[`${e.breakpoints.up("xs")} and (orientation: landscape)`]:{minHeight:52},[e.breakpoints.up("sm")]:{minHeight:52,paddingRight:2},[`& .${Sn.actions}`]:{flexShrink:0,marginLeft:20}})),jd=ke("div",{name:"MuiTablePagination",slot:"Spacer",overridesResolver:(e,t)=>t.spacer})({flex:"1 1 100%"}),Hd=ke("p",{name:"MuiTablePagination",slot:"SelectLabel",overridesResolver:(e,t)=>t.selectLabel})(({theme:e})=>m({},e.typography.body2,{flexShrink:0})),$d=ke(yl,{name:"MuiTablePagination",slot:"Select",overridesResolver:(e,t)=>m({[`& .${Sn.selectIcon}`]:t.selectIcon,[`& .${Sn.select}`]:t.select},t.input,t.selectRoot)})({color:"inherit",fontSize:"inherit",flexShrink:0,marginRight:32,marginLeft:8,[`& .${Sn.select}`]:{paddingLeft:8,paddingRight:24,textAlign:"right",textAlignLast:"right"}}),Od=ke(Zt,{name:"MuiTablePagination",slot:"MenuItem",overridesResolver:(e,t)=>t.menuItem})({}),Rd=ke("p",{name:"MuiTablePagination",slot:"DisplayedRows",overridesResolver:(e,t)=>t.displayedRows})(({theme:e})=>m({},e.typography.body2,{flexShrink:0}));function Ld({from:e,to:t,count:n}){return`${e}â€“${t} of ${n!==-1?n:`more than ${t}`}`}function Ad(e){return`Go to ${e} page`}const zd=e=>{const{classes:t}=e;return lo({root:["root"],toolbar:["toolbar"],spacer:["spacer"],selectLabel:["selectLabel"],select:["select"],input:["input"],selectIcon:["selectIcon"],menuItem:["menuItem"],displayedRows:["displayedRows"],actions:["actions"]},kd,t)},Gd=d.forwardRef(function(t,n){var o;const r=ro({props:t,name:"MuiTablePagination"}),{ActionsComponent:l=Pd,backIconButtonProps:s,className:c,colSpan:a,component:u=al,count:f,disabled:h=!1,getItemAriaLabel:g=Ad,labelDisplayedRows:p=Ld,labelRowsPerPage:w="Rows per page:",nextIconButtonProps:C,onPageChange:b,onRowsPerPageChange:x,page:F,rowsPerPage:j,rowsPerPageOptions:T=[10,25,50,100],SelectProps:I={},showFirstButton:k=!1,showLastButton:L=!1,slotProps:v={},slots:y={}}=r,M=Q(r,Td),O=r,D=zd(O),$=(o=v==null?void 0:v.select)!=null?o:I,z=$.native?"option":Od;let H;(u===al||u==="td")&&(H=a||1e3);const P=fs($.id),E=fs($.labelId),G=()=>f===-1?(F+1)*j:j===-1?f:Math.min(f,(F+1)*j);return i.jsx(Fd,m({colSpan:H,ref:n,as:u,ownerState:O,className:St(D.root,c)},M,{children:i.jsxs(Dd,{className:D.toolbar,children:[i.jsx(jd,{className:D.spacer}),T.length>1&&i.jsx(Hd,{className:D.selectLabel,id:E,children:w}),T.length>1&&i.jsx($d,m({variant:"standard"},!$.variant&&{input:xs||(xs=i.jsx(ta,{}))},{value:j,onChange:x,id:P,labelId:E},$,{classes:m({},$.classes,{root:St(D.input,D.selectRoot,($.classes||{}).root),select:St(D.select,($.classes||{}).select),icon:St(D.selectIcon,($.classes||{}).icon)}),disabled:h,children:T.map(_=>d.createElement(z,m({},!Hu(z)&&{ownerState:O},{className:D.menuItem,key:_.label?_.label:_,value:_.value?_.value:_}),_.label?_.label:_))})),i.jsx(Rd,{className:D.displayedRows,children:p({from:f===0?0:F*j+1,to:G(),count:f===-1?-1:f,page:F})}),i.jsx(l,{className:D.actions,backIconButtonProps:s,count:f,nextIconButtonProps:C,onPageChange:b,page:F,rowsPerPage:j,showFirstButton:k,showLastButton:L,slotProps:v.actions,slots:y.actions,getItemAriaLabel:g,disabled:h})]})}))}),Bd=Gd;function Vd(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}function _d(e,t,n,o={},r=()=>{}){const{ease:l=Vd,duration:s=300}=o;let c=null;const a=t[e];let u=!1;const f=()=>{u=!0},h=g=>{if(u){r(new Error("Animation cancelled"));return}c===null&&(c=g);const p=Math.min(1,(g-c)/s);if(t[e]=l(p)*(n-a)+a,p>=1){requestAnimationFrame(()=>{r(null)});return}requestAnimationFrame(h)};return a===n?(r(new Error("Element already at target position")),f):(requestAnimationFrame(h),f)}const Nd=["onChange"],Wd={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function Ud(e){const{onChange:t}=e,n=Q(e,Nd),o=d.useRef(),r=d.useRef(null),l=()=>{o.current=r.current.offsetHeight-r.current.clientHeight};return wu(()=>{const s=la(()=>{const a=o.current;l(),a!==o.current&&t(o.current)}),c=sa(r.current);return c.addEventListener("resize",s),()=>{s.clear(),c.removeEventListener("resize",s)}},[t]),d.useEffect(()=>{l(),t(o.current)},[t]),i.jsx("div",m({style:Wd},n,{ref:r}))}function Kd(e){return no("MuiTabScrollButton",e)}const qd=oo("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Xd=qd,Yd=["className","slots","slotProps","direction","orientation","disabled"],Qd=e=>{const{classes:t,orientation:n,disabled:o}=e;return lo({root:["root",n,o&&"disabled"]},Kd,t)},Jd=ke(xl,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.orientation&&t[n.orientation]]}})(({ownerState:e})=>m({width:40,flexShrink:0,opacity:.8,[`&.${Xd.disabled}`]:{opacity:0}},e.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${e.isRtl?-90:90}deg)`}})),Zd=d.forwardRef(function(t,n){var o,r;const l=ro({props:t,name:"MuiTabScrollButton"}),{className:s,slots:c={},slotProps:a={},direction:u}=l,f=Q(l,Yd),h=vt(),g=m({isRtl:h},l),p=Qd(g),w=(o=c.StartScrollButtonIcon)!=null?o:aa,C=(r=c.EndScrollButtonIcon)!=null?r:ca,b=ar({elementType:w,externalSlotProps:a.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g}),x=ar({elementType:C,externalSlotProps:a.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:g});return i.jsx(Jd,m({component:"div",className:St(p.root,s),ref:n,role:null,ownerState:g,tabIndex:null},f,{children:u==="left"?i.jsx(w,m({},b)):i.jsx(C,m({},x))}))}),ef=Zd;function tf(e){return no("MuiTabs",e)}const nf=oo("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Wr=nf,of=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],Ss=(e,t)=>e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild,ys=(e,t)=>e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild,Uo=(e,t,n)=>{let o=!1,r=n(e,t);for(;r;){if(r===e.firstChild){if(o)return;o=!0}const l=r.disabled||r.getAttribute("aria-disabled")==="true";if(!r.hasAttribute("tabindex")||l)r=n(e,r);else{r.focus();return}}},rf=e=>{const{vertical:t,fixed:n,hideScrollbar:o,scrollableX:r,scrollableY:l,centered:s,scrollButtonsHideMobile:c,classes:a}=e;return lo({root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",o&&"hideScrollbar",r&&"scrollableX",l&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",s&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",c&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[o&&"hideScrollbar"]},tf,a)},lf=ke("div",{name:"MuiTabs",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{[`& .${Wr.scrollButtons}`]:t.scrollButtons},{[`& .${Wr.scrollButtons}`]:n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile},t.root,n.vertical&&t.vertical]}})(({ownerState:e,theme:t})=>m({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},e.vertical&&{flexDirection:"column"},e.scrollButtonsHideMobile&&{[`& .${Wr.scrollButtons}`]:{[t.breakpoints.down("sm")]:{display:"none"}}})),sf=ke("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})(({ownerState:e})=>m({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},e.fixed&&{overflowX:"hidden",width:"100%"},e.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},e.scrollableX&&{overflowX:"auto",overflowY:"hidden"},e.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),af=ke("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})(({ownerState:e})=>m({display:"flex"},e.vertical&&{flexDirection:"column"},e.centered&&{justifyContent:"center"})),cf=ke("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(e,t)=>t.indicator})(({ownerState:e,theme:t})=>m({position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},e.indicatorColor==="primary"&&{backgroundColor:(t.vars||t).palette.primary.main},e.indicatorColor==="secondary"&&{backgroundColor:(t.vars||t).palette.secondary.main},e.vertical&&{height:"100%",width:2,right:0})),uf=ke(Ud)({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),vs={},df=d.forwardRef(function(t,n){const o=ro({props:t,name:"MuiTabs"}),r=Sl(),l=vt(),{"aria-label":s,"aria-labelledby":c,action:a,centered:u=!1,children:f,className:h,component:g="div",allowScrollButtonsMobile:p=!1,indicatorColor:w="primary",onChange:C,orientation:b="horizontal",ScrollButtonComponent:x=ef,scrollButtons:F="auto",selectionFollowsFocus:j,slots:T={},slotProps:I={},TabIndicatorProps:k={},TabScrollButtonProps:L={},textColor:v="primary",value:y,variant:M="standard",visibleScrollbar:O=!1}=o,D=Q(o,of),$=M==="scrollable",z=b==="vertical",H=z?"scrollTop":"scrollLeft",P=z?"top":"left",E=z?"bottom":"right",G=z?"clientHeight":"clientWidth",_=z?"height":"width",R=m({},o,{component:g,allowScrollButtonsMobile:p,indicatorColor:w,orientation:b,vertical:z,scrollButtons:F,textColor:v,variant:M,visibleScrollbar:O,fixed:!$,hideScrollbar:$&&!O,scrollableX:$&&!z,scrollableY:$&&z,centered:u&&!$,scrollButtonsHideMobile:!p}),A=rf(R),V=ar({elementType:T.StartScrollButtonIcon,externalSlotProps:I.startScrollButtonIcon,ownerState:R}),U=ar({elementType:T.EndScrollButtonIcon,externalSlotProps:I.endScrollButtonIcon,ownerState:R}),[N,J]=d.useState(!1),[q,ue]=d.useState(vs),[de,se]=d.useState(!1),[W,X]=d.useState(!1),[te,he]=d.useState(!1),[fe,ge]=d.useState({overflow:"hidden",scrollbarWidth:0}),we=new Map,pe=d.useRef(null),ve=d.useRef(null),He=()=>{const ce=pe.current;let ne;if(ce){const Ce=ce.getBoundingClientRect();ne={clientWidth:ce.clientWidth,scrollLeft:ce.scrollLeft,scrollTop:ce.scrollTop,scrollLeftNormalized:od(ce,l?"rtl":"ltr"),scrollWidth:ce.scrollWidth,top:Ce.top,bottom:Ce.bottom,left:Ce.left,right:Ce.right}}let be;if(ce&&y!==!1){const Ce=ve.current.children;if(Ce.length>0){const Ne=Ce[we.get(y)];be=Ne?Ne.getBoundingClientRect():null}}return{tabsMeta:ne,tabMeta:be}},Re=Nr(()=>{const{tabsMeta:ce,tabMeta:ne}=He();let be=0,Ce;if(z)Ce="top",ne&&ce&&(be=ne.top-ce.top+ce.scrollTop);else if(Ce=l?"right":"left",ne&&ce){const rt=l?ce.scrollLeftNormalized+ce.clientWidth-ce.scrollWidth:ce.scrollLeft;be=(l?-1:1)*(ne[Ce]-ce[Ce]+rt)}const Ne={[Ce]:be,[_]:ne?ne[_]:0};if(isNaN(q[Ce])||isNaN(q[_]))ue(Ne);else{const rt=Math.abs(q[Ce]-Ne[Ce]),pt=Math.abs(q[_]-Ne[_]);(rt>=1||pt>=1)&&ue(Ne)}}),Ue=(ce,{animation:ne=!0}={})=>{ne?_d(H,pe.current,ce,{duration:r.transitions.duration.standard}):pe.current[H]=ce},Y=ce=>{let ne=pe.current[H];z?ne+=ce:(ne+=ce*(l?-1:1),ne*=l&&ia()==="reverse"?-1:1),Ue(ne)},ae=()=>{const ce=pe.current[G];let ne=0;const be=Array.from(ve.current.children);for(let Ce=0;Ce<be.length;Ce+=1){const Ne=be[Ce];if(ne+Ne[G]>ce){Ce===0&&(ne=ce);break}ne+=Ne[G]}return ne},xe=()=>{Y(-1*ae())},ye=()=>{Y(ae())},Ie=d.useCallback(ce=>{ge({overflow:null,scrollbarWidth:ce})},[]),$e=()=>{const ce={};ce.scrollbarSizeListener=$?i.jsx(uf,{onChange:Ie,className:St(A.scrollableX,A.hideScrollbar)}):null;const be=$&&(F==="auto"&&(de||W)||F===!0);return ce.scrollButtonStart=be?i.jsx(x,m({slots:{StartScrollButtonIcon:T.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:V},orientation:b,direction:l?"right":"left",onClick:xe,disabled:!de},L,{className:St(A.scrollButtons,L.className)})):null,ce.scrollButtonEnd=be?i.jsx(x,m({slots:{EndScrollButtonIcon:T.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:U},orientation:b,direction:l?"left":"right",onClick:ye,disabled:!W},L,{className:St(A.scrollButtons,L.className)})):null,ce},Ve=Nr(ce=>{const{tabsMeta:ne,tabMeta:be}=He();if(!(!be||!ne)){if(be[P]<ne[P]){const Ce=ne[H]+(be[P]-ne[P]);Ue(Ce,{animation:ce})}else if(be[E]>ne[E]){const Ce=ne[H]+(be[E]-ne[E]);Ue(Ce,{animation:ce})}}}),ot=Nr(()=>{$&&F!==!1&&he(!te)});d.useEffect(()=>{const ce=la(()=>{pe.current&&Re()});let ne;const be=rt=>{rt.forEach(pt=>{pt.removedNodes.forEach(Vt=>{var bt;(bt=ne)==null||bt.unobserve(Vt)}),pt.addedNodes.forEach(Vt=>{var bt;(bt=ne)==null||bt.observe(Vt)})}),ce(),ot()},Ce=sa(pe.current);Ce.addEventListener("resize",ce);let Ne;return typeof ResizeObserver<"u"&&(ne=new ResizeObserver(ce),Array.from(ve.current.children).forEach(rt=>{ne.observe(rt)})),typeof MutationObserver<"u"&&(Ne=new MutationObserver(be),Ne.observe(ve.current,{childList:!0})),()=>{var rt,pt;ce.clear(),Ce.removeEventListener("resize",ce),(rt=Ne)==null||rt.disconnect(),(pt=ne)==null||pt.disconnect()}},[Re,ot]),d.useEffect(()=>{const ce=Array.from(ve.current.children),ne=ce.length;if(typeof IntersectionObserver<"u"&&ne>0&&$&&F!==!1){const be=ce[0],Ce=ce[ne-1],Ne={root:pe.current,threshold:.99},rt=Yt=>{se(!Yt[0].isIntersecting)},pt=new IntersectionObserver(rt,Ne);pt.observe(be);const Vt=Yt=>{X(!Yt[0].isIntersecting)},bt=new IntersectionObserver(Vt,Ne);return bt.observe(Ce),()=>{pt.disconnect(),bt.disconnect()}}},[$,F,te,f==null?void 0:f.length]),d.useEffect(()=>{J(!0)},[]),d.useEffect(()=>{Re()}),d.useEffect(()=>{Ve(vs!==q)},[Ve,q]),d.useImperativeHandle(a,()=>({updateIndicator:Re,updateScrollButtons:ot}),[Re,ot]);const Se=i.jsx(cf,m({},k,{className:St(A.indicator,k.className),ownerState:R,style:m({},q,k.style)}));let Pe=0;const Te=d.Children.map(f,ce=>{if(!d.isValidElement(ce))return null;const ne=ce.props.value===void 0?Pe:ce.props.value;we.set(ne,Pe);const be=ne===y;return Pe+=1,d.cloneElement(ce,m({fullWidth:M==="fullWidth",indicator:be&&!N&&Se,selected:be,selectionFollowsFocus:j,onChange:C,textColor:v,value:ne},Pe===1&&y===!1&&!ce.props.tabIndex?{tabIndex:0}:{}))}),Ye=ce=>{const ne=ve.current,be=$u(ne).activeElement;if(be.getAttribute("role")!=="tab")return;let Ne=b==="horizontal"?"ArrowLeft":"ArrowUp",rt=b==="horizontal"?"ArrowRight":"ArrowDown";switch(b==="horizontal"&&l&&(Ne="ArrowRight",rt="ArrowLeft"),ce.key){case Ne:ce.preventDefault(),Uo(ne,be,ys);break;case rt:ce.preventDefault(),Uo(ne,be,Ss);break;case"Home":ce.preventDefault(),Uo(ne,null,Ss);break;case"End":ce.preventDefault(),Uo(ne,null,ys);break}},Je=$e();return i.jsxs(lf,m({className:St(A.root,h),ownerState:R,ref:n,as:g},D,{children:[Je.scrollButtonStart,Je.scrollbarSizeListener,i.jsxs(sf,{className:A.scroller,ownerState:R,style:{overflow:fe.overflow,[z?`margin${l?"Left":"Right"}`:"marginBottom"]:O?void 0:-fe.scrollbarWidth},ref:pe,children:[i.jsx(af,{"aria-label":s,"aria-labelledby":c,"aria-orientation":b==="vertical"?"vertical":null,className:A.flexContainer,ownerState:R,onKeyDown:Ye,ref:ve,role:"tablist",children:Te}),N&&Se]}),Je.scrollButtonEnd]}))}),ff=df;function hf(e){return no("MuiToggleButton",e)}const gf=oo("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge","fullWidth"]),Is=gf,mf=d.createContext({}),pf=mf,bf=d.createContext(void 0),Cf=bf;function wf(e,t){return t===void 0||e===void 0?!1:Array.isArray(t)?t.indexOf(e)>=0:e===t}const xf=["value"],Sf=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],yf=e=>{const{classes:t,fullWidth:n,selected:o,disabled:r,size:l,color:s}=e,c={root:["root",o&&"selected",r&&"disabled",n&&"fullWidth",`size${vr(l)}`,s]};return lo(c,hf,t)},vf=ke(xl,{name:"MuiToggleButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[`size${vr(n.size)}`]]}})(({theme:e,ownerState:t})=>{let n=t.color==="standard"?e.palette.text.primary:e.palette[t.color].main,o;return e.vars&&(n=t.color==="standard"?e.vars.palette.text.primary:e.vars.palette[t.color].main,o=t.color==="standard"?e.vars.palette.text.primaryChannel:e.vars.palette[t.color].mainChannel),m({},e.typography.button,{borderRadius:(e.vars||e).shape.borderRadius,padding:11,border:`1px solid ${(e.vars||e).palette.divider}`,color:(e.vars||e).palette.action.active},t.fullWidth&&{width:"100%"},{[`&.${Is.disabled}`]:{color:(e.vars||e).palette.action.disabled,border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:mn(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Is.selected}`]:{color:n,backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:mn(n,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${o} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:mn(n,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${o} / ${e.vars.palette.action.selectedOpacity})`:mn(n,e.palette.action.selectedOpacity)}}}},t.size==="small"&&{padding:7,fontSize:e.typography.pxToRem(13)},t.size==="large"&&{padding:15,fontSize:e.typography.pxToRem(15)})}),If=d.forwardRef(function(t,n){const o=d.useContext(pf),{value:r}=o,l=Q(o,xf),s=d.useContext(Cf),c=xu(m({},l,{selected:wf(t.value,r)}),t),a=ro({props:c,name:"MuiToggleButton"}),{children:u,className:f,color:h="standard",disabled:g=!1,disableFocusRipple:p=!1,fullWidth:w=!1,onChange:C,onClick:b,selected:x,size:F="medium",value:j}=a,T=Q(a,Sf),I=m({},a,{color:h,disabled:g,disableFocusRipple:p,fullWidth:w,size:F}),k=yf(I),L=y=>{b&&(b(y,j),y.defaultPrevented)||C&&C(y,j)},v=s||"";return i.jsx(vf,m({className:St(l.className,k.root,f,v),disabled:g,focusRipple:!p,ref:n,onClick:L,onChange:C,value:j,ownerState:I,"aria-pressed":x},T,{children:u}))}),Mf=If,wn=yt([i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),Pf=yt(i.jsx("path",{d:"m20.54 5.23-1.39-1.68C18.88 3.21 18.47 3 18 3H6c-.47 0-.88.21-1.16.55L3.46 5.23C3.17 5.57 3 6.02 3 6.5V19c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V6.5c0-.48-.17-.93-.46-1.27M12 17.5 6.5 12H10v-2h4v2h3.5zM5.12 5l.81-1h12l.94 1z"}),"Archive"),kf=yt(i.jsx("path",{d:"M20 7h-5V4c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v3H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2M9 12c.83 0 1.5.67 1.5 1.5S9.83 15 9 15s-1.5-.67-1.5-1.5S8.17 12 9 12m3 6H6v-.75c0-1 2-1.5 3-1.5s3 .5 3 1.5zm1-9h-2V4h2zm5 7.5h-4V15h4zm0-3h-4V12h4z"}),"Badge"),Ef=yt(i.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel"),Qo=yt(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),Tf=yt(i.jsx("path",{d:"M9 11H7v2h2zm4 0h-2v2h2zm4 0h-2v2h2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 16H5V9h14z"}),"DateRange"),Ff=yt(i.jsx("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit"),Df=yt(i.jsx("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4z"}),"Refresh"),Eo=yt([i.jsx("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),i.jsx("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"Schedule");function ua(e){var t,n,o="";if(typeof e=="string"||typeof e=="number")o+=e;else if(typeof e=="object")if(Array.isArray(e)){var r=e.length;for(t=0;t<r;t++)e[t]&&(n=ua(e[t]))&&(o&&(o+=" "),o+=n)}else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}function Oe(){for(var e,t,n=0,o="",r=arguments.length;n<r;n++)(e=arguments[n])&&(t=ua(e))&&(o&&(o+=" "),o+=t);return o}function It(...e){const t=d.useRef(void 0),n=d.useCallback(o=>{const r=e.map(l=>{if(l==null)return null;if(typeof l=="function"){const s=l,c=s(o);return typeof c=="function"?c:()=>{s(null)}}return l.current=o,()=>{l.current=null}});return()=>{r.forEach(l=>l==null?void 0:l())}},e);return d.useMemo(()=>e.every(o=>o==null)?null:o=>{t.current&&(t.current(),t.current=void 0),o!=null&&(t.current=n(o))},e)}const jf=typeof window<"u"?d.useLayoutEffect:d.useEffect,Mt=jf;function Be(e){const t=d.useRef(e);return Mt(()=>{t.current=e}),d.useRef((...n)=>(0,t.current)(...n)).current}const Hf=parseInt(d.version,10),me=e=>{if(Hf>=19){const t=n=>e(n,n.ref??null);return t.displayName=e.displayName??e.name,t}return d.forwardRef(e)};let Ms=0;function $f(e){const[t,n]=d.useState(e),o=e||t;return d.useEffect(()=>{t==null&&(Ms+=1,n(`mui-${Ms}`))},[t]),o}const Of={...Su},Ps=Of.useId;function _e(e){if(Ps!==void 0){const t=Ps();return e??t}return $f(e)}const qe=yt,ks=qe(i.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Es=qe(i.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Ts=qe(i.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Fs=qe(i.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),Rf=qe(i.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Ds=qe(i.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),Lf=qe(i.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");qe(i.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");qe(i.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const Af=qe(i.jsx("path",{d:"M14.67 5v14H9.33V5zm1 14H21V5h-5.33zm-7.34 0V5H3v14z"}),"ColumnIcon"),zf=qe(i.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),Gf=qe(i.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),Bf=qe(i.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),Vf=qe(i.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),_f=qe(i.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),js=qe(i.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Hs=qe(i.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),Nf=qe(i.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),Wf=qe(i.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),$s=qe(i.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),Os=qe(i.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),Uf=qe(i.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),Kf=qe(i.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),qf=qe(i.jsx("g",{children:i.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),Rs=qe(i.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Clear");qe(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const Xf=qe(i.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),Yf=qe(i.jsx("path",{d:"M5 20h14v-2H5zM19 9h-4V3H9v6H5l7 7z"}),"Download"),da=d.createContext(void 0),ee=()=>{const e=d.useContext(da);if(!e)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return e},Qf=["sortingOrder"],Jf=d.memo(function(t){const{sortingOrder:n}=t,o=Q(t,Qf),r=ee(),[l]=n,s=l==="asc"?r.slots.columnSortedAscendingIcon:r.slots.columnSortedDescendingIcon;return s?i.jsx(s,m({},o)):null}),fa=d.createContext(void 0);function Me(){const e=d.useContext(fa);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}const Zf=new TextEncoder;let Jo=2*1024,yo=new ArrayBuffer(Jo),Ur=new Uint8Array(yo),Cn=new Int32Array(yo);const eh=th;function th(e){const t=e.length*2;t>Jo&&(Jo=t+(4-t%4),yo=new ArrayBuffer(Jo),Ur=new Uint8Array(yo),Cn=new Int32Array(yo));const n=Zf.encodeInto(e,Ur).written,o=0,r=n|0;let l=0,s=(o+r|0)+374761393|0;if(r<16)for(;(l+3|0)<r;l=l+4|0)s=Math.imul(jt(s+Math.imul(Cn[l]|0,3266489917)|0,17)|0,668265263);else{let c=o+606290984|0,a=o+2246822519|0,u=o,f=o-2654435761|0;for(;(l+15|0)<r;l=l+16|0)c=Math.imul(jt(c+Math.imul(Cn[l+0|0]|0,2246822519)|0,13)|0,2654435761),a=Math.imul(jt(a+Math.imul(Cn[l+4|0]|0,2246822519)|0,13)|0,2654435761),u=Math.imul(jt(u+Math.imul(Cn[l+8|0]|0,2246822519)|0,13)|0,2654435761),f=Math.imul(jt(f+Math.imul(Cn[l+12|0]|0,2246822519)|0,13)|0,2654435761);for(s=(((jt(c,1)|0+jt(a,7)|0)+jt(u,12)|0)+jt(f,18)|0)+r|0;(l+3|0)<r;l=l+4|0)s=Math.imul(jt(s+Math.imul(Cn[l]|0,3266489917)|0,17)|0,668265263)}for(;l<r;l=l+1|0)s=Math.imul(jt(s+Math.imul(Ur[l]|0,374761393)|0,11)|0,2654435761);return s=Math.imul(s^s>>>15,2246822519),s=Math.imul(s^s>>>13,3266489917),((s^s>>>16)>>>0).toString()}function jt(e,t){return e<<t|e>>>32-t}const ha={values:{xs:0,sm:600,md:900,lg:1200,xl:1536},up:e=>{const t=ha.values;return`@media (min-width:${typeof t[e]=="number"?t[e]:e}px)`}},ga={spacingUnit:"--DataGrid-t-spacing-unit",colors:{border:{base:"--DataGrid-t-color-border-base"},foreground:{base:"--DataGrid-t-color-foreground-base",muted:"--DataGrid-t-color-foreground-muted",accent:"--DataGrid-t-color-foreground-accent",disabled:"--DataGrid-t-color-foreground-disabled",error:"--DataGrid-t-color-foreground-error"},background:{base:"--DataGrid-t-color-background-base",overlay:"--DataGrid-t-color-background-overlay",backdrop:"--DataGrid-t-color-background-backdrop"},interactive:{hover:"--DataGrid-t-color-interactive-hover",hoverOpacity:"--DataGrid-t-color-interactive-hover-opacity",focus:"--DataGrid-t-color-interactive-focus",focusOpacity:"--DataGrid-t-color-interactive-focus-opacity",disabled:"--DataGrid-t-color-interactive-disabled",disabledOpacity:"--DataGrid-t-color-interactive-disabled-opacity",selected:"--DataGrid-t-color-interactive-selected",selectedOpacity:"--DataGrid-t-color-interactive-selected-opacity"}},header:{background:{base:"--DataGrid-t-header-background-base"}},cell:{background:{pinned:"--DataGrid-t-cell-background-pinned"}},radius:{base:"--DataGrid-t-radius-base"},typography:{font:{body:"--DataGrid-t-typography-font-body",small:"--DataGrid-t-typography-font-small",large:"--DataGrid-t-typography-font-large"},fontFamily:{base:"--DataGrid-t-typography-font-family-base"},fontWeight:{light:"--DataGrid-t-typography-font-weight-light",regular:"--DataGrid-t-typography-font-weight-regular",medium:"--DataGrid-t-typography-font-weight-medium",bold:"--DataGrid-t-typography-font-weight-bold"}},transitions:{easing:{easeIn:"--DataGrid-t-transition-easing-ease-in",easeOut:"--DataGrid-t-transition-easing-ease-out",easeInOut:"--DataGrid-t-transition-easing-ease-in-out"},duration:{short:"--DataGrid-t-transition-duration-short",base:"--DataGrid-t-transition-duration-base",long:"--DataGrid-t-transition-duration-long"}},shadows:{base:"--DataGrid-t-shadow-base",overlay:"--DataGrid-t-shadow-overlay"},zIndex:{panel:"--DataGrid-t-z-index-panel",menu:"--DataGrid-t-z-index-menu"}},nh=ma(ga),oe=m({breakpoints:ha,spacing:oh,transition:rh,keys:ga},nh);function oh(e,t,n,o){return e===void 0?Ht(1):t===void 0?Ht(e):n===void 0?Ht(e)+" "+Ht(t):o===void 0?Ht(e)+" "+Ht(t)+" "+Ht(n):Ht(e)+" "+Ht(t)+" "+Ht(n)+" "+Ht(o)}function Ht(e){return e===0?"0":`calc(var(--DataGrid-t-spacing-unit) * ${e})`}function rh(e,t){const{duration:n=oe.transitions.duration.base,easing:o=oe.transitions.easing.easeInOut,delay:r=0}=t??{};return e.map(l=>`${l} ${n} ${o} ${r}ms`).join(", ")}function ma(e){if(typeof e=="string")return`var(${e})`;const t={};for(const n in e)Object.hasOwn(e,n)&&(t[n]=ma(e[n]));return t}function lh(){const e=Sl();return d.useMemo(()=>{const t=eh(uh(e)),n=sh(e);return{id:t,variables:n}},[e])}function sh(e){var w,C,b,x,F,j;const t=ah(e),n=(e.vars||e).palette.DataGrid,o=(n==null?void 0:n.bg)??(e.vars||e).palette.background.default,r=(n==null?void 0:n.headerBg)??o,l=(n==null?void 0:n.pinnedBg)??o,s=e.vars?`rgba(${e.vars.palette.background.defaultChannel} / ${e.vars.palette.action.disabledOpacity})`:mn(e.palette.background.default,e.palette.action.disabledOpacity),c=e.palette.mode==="dark"?`color-mix(in srgb, ${(e.vars||e).palette.background.paper} 95%, #fff)`:(e.vars||e).palette.background.paper,a=e.vars?`rgb(${e.vars.palette.primary.mainChannel})`:e.palette.primary.main,u=ih(e),f=((C=(w=e.vars)==null?void 0:w.font)==null?void 0:C.body2)??Kr(e.typography.body2),h=((x=(b=e.vars)==null?void 0:b.font)==null?void 0:x.caption)??Kr(e.typography.caption),g=((j=(F=e.vars)==null?void 0:F.font)==null?void 0:j.body1)??Kr(e.typography.body1),p=oe.keys;return{[p.spacingUnit]:e.vars?e.vars.spacing??e.spacing(1):e.spacing(1),[p.colors.border.base]:t,[p.colors.background.base]:o,[p.colors.background.overlay]:c,[p.colors.background.backdrop]:s,[p.colors.foreground.base]:(e.vars||e).palette.text.primary,[p.colors.foreground.muted]:(e.vars||e).palette.text.secondary,[p.colors.foreground.accent]:(e.vars||e).palette.primary.dark,[p.colors.foreground.disabled]:(e.vars||e).palette.text.disabled,[p.colors.foreground.error]:(e.vars||e).palette.error.dark,[p.colors.interactive.hover]:(e.vars||e).palette.action.hover,[p.colors.interactive.hoverOpacity]:(e.vars||e).palette.action.hoverOpacity,[p.colors.interactive.focus]:Ls((e.vars||e).palette.primary.main),[p.colors.interactive.focusOpacity]:(e.vars||e).palette.action.focusOpacity,[p.colors.interactive.disabled]:Ls((e.vars||e).palette.action.disabled),[p.colors.interactive.disabledOpacity]:(e.vars||e).palette.action.disabledOpacity,[p.colors.interactive.selected]:a,[p.colors.interactive.selectedOpacity]:(e.vars||e).palette.action.selectedOpacity,[p.header.background.base]:r,[p.cell.background.pinned]:l,[p.radius.base]:u,[p.typography.fontFamily.base]:e.typography.fontFamily,[p.typography.fontWeight.light]:e.typography.fontWeightLight,[p.typography.fontWeight.regular]:e.typography.fontWeightRegular,[p.typography.fontWeight.medium]:e.typography.fontWeightMedium,[p.typography.fontWeight.bold]:e.typography.fontWeightBold,[p.typography.font.body]:f,[p.typography.font.small]:h,[p.typography.font.large]:g,[p.transitions.easing.easeIn]:e.transitions.easing.easeIn,[p.transitions.easing.easeOut]:e.transitions.easing.easeOut,[p.transitions.easing.easeInOut]:e.transitions.easing.easeInOut,[p.transitions.duration.short]:`${e.transitions.duration.shorter}ms`,[p.transitions.duration.base]:`${e.transitions.duration.short}ms`,[p.transitions.duration.long]:`${e.transitions.duration.standard}ms`,[p.shadows.base]:(e.vars||e).shadows[2],[p.shadows.overlay]:(e.vars||e).shadows[8],[p.zIndex.panel]:(e.vars||e).zIndex.modal,[p.zIndex.menu]:(e.vars||e).zIndex.modal}}function ih(e){return e.vars?e.vars.shape.borderRadius:typeof e.shape.borderRadius=="number"?`${e.shape.borderRadius}px`:e.shape.borderRadius}function ah(e){return e.vars?e.vars.palette.TableCell.border:e.palette.mode==="light"?nd(mn(e.palette.divider,1),.88):td(mn(e.palette.divider,1),.68)}function ch(e,t){return`rgba(from ${e} r g b / ${t})`}function Ls(e){return ch(e,1)}function Kr(e){if(!e)return;const t=typeof e.fontSize=="number"?`${e.fontSize}px`:e.fontSize;return`${e.fontWeight} ${t} / ${e.lineHeight} ${e.fontFamily}`}function uh(e){const t=new WeakSet;return JSON.stringify(e,(n,o)=>{if(typeof window<"u"&&o===window||typeof document<"u"&&o===document)return o.toString();if(o!==null&&typeof o=="object"){if(d.isValidElement(o)||t.has(o))return null;t.add(o)}return o})}const dh=["id","label","labelId","material","disabled","slotProps","onChange","onKeyDown","onOpen","onClose","size","style","fullWidth"],fh=["onRowsPerPageChange","material","disabled"],hh=["material"],gh=["autoFocus","label","fullWidth","slotProps","className","material"],mh=["material"],ph=["material"],bh=["material"],Ch=["material"],wh=["material"],xh=["material"],Sh=["material"],yh=["material"],vh=["material"],Ih=["material","label","className"],Mh=["material"],Ph=["inert","iconStart","iconEnd","children","material"],kh=["slotProps","material"],Eh=["id","multiple","freeSolo","options","getOptionLabel","isOptionEqualToValue","value","onChange","label","placeholder","slotProps","material"],Th=["key"],Fh=["inputProps","InputProps","InputLabelProps"],Dh=["slotProps","material"],jh=["ref","open","children","className","clickAwayTouchEvent","clickAwayMouseEvent","flip","focusTrap","onExited","onClickAway","onDidShow","onDidHide","id","target","transition","placement","material"],Hh=["native"],$h=["children","value","active"],Oh=["items","value","material"],As=ke(Bu)(({theme:e})=>({[`&.${Vu.positionEnd} .${Ou.sizeSmall}`]:{marginRight:e.spacing(-.75)}})),pa=ke(_u,{shouldForwardProp:e=>e!=="fullWidth"})(({theme:e})=>({gap:e.spacing(.5),margin:0,overflow:"hidden",[`& .${Nu.label}`]:{fontSize:e.typography.pxToRem(14),overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},variants:[{props:{fullWidth:!0},style:{width:"100%"}}]})),zs=ke(Wu,{shouldForwardProp:e=>e!=="density"})(({theme:e})=>({variants:[{props:{density:"compact"},style:{padding:e.spacing(.5)}}]})),Rh=ke(Uu)({[`& .${Ru.primary}`]:{overflowX:"clip",textOverflow:"ellipsis",maxWidth:"300px"}}),Lh=me(function(t,n){const{id:o,label:r,labelId:l,material:s,disabled:c,slotProps:a,onChange:u,onKeyDown:f,onOpen:h,onClose:g,size:p,style:w,fullWidth:C}=t,b=Q(t,dh),x={PaperProps:{onKeyDown:f}};return g&&(x.onClose=g),i.jsxs(na,{size:p,fullWidth:C,style:w,disabled:c,ref:n,children:[i.jsx(oa,{id:l,htmlFor:o,shrink:!0,variant:"outlined",children:r}),i.jsx(yl,m({id:o,labelId:l,label:r,displayEmpty:!0,onChange:u,variant:"outlined"},b,{notched:!0,inputProps:a==null?void 0:a.htmlInput,onOpen:h,MenuProps:x,size:p},s))]})}),Ah=ke(Bd)(({theme:e})=>({[`& .${Sn.selectLabel}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"block"}},[`& .${Sn.input}`]:{display:"none",[e.breakpoints.up("sm")]:{display:"inline-flex"}}})),zh=me(function(t,n){const{onRowsPerPageChange:o,material:r,disabled:l}=t,s=Q(t,fh),c=d.useMemo(()=>{if(l)return{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}},[l]),a=Me(),u=ee(),{estimatedRowCount:f}=u;return i.jsx(Ah,m({component:"div",onRowsPerPageChange:Be(h=>{o==null||o(Number(h.target.value))}),labelRowsPerPage:a.current.getLocaleText("paginationRowsPerPage"),labelDisplayedRows:h=>a.current.getLocaleText("paginationDisplayedRows")(m({},h,{estimated:f})),getItemAriaLabel:a.current.getLocaleText("paginationItemAriaLabel")},c,s,r,{ref:n}))}),Gh=me(function(t,n){const{material:o}=t,r=Q(t,hh);return i.jsx(qu,m({},r,o,{ref:n}))}),Bh=me(function(t,n){const{autoFocus:o,label:r,fullWidth:l,slotProps:s,className:c,material:a}=t,u=Q(t,gh),f=d.useRef(null),h=It(f,n),g=d.useRef(null);return d.useEffect(()=>{var p;if(o){const w=(p=f.current)==null?void 0:p.querySelector("input");w==null||w.focus({preventScroll:!0})}else o===!1&&g.current&&g.current.stop({})},[o]),r?i.jsx(pa,{className:c,control:i.jsx(zs,m({},u,a,{inputProps:s==null?void 0:s.htmlInput,ref:h,touchRippleRef:g})),label:r,fullWidth:l}):i.jsx(zs,m({},u,a,{className:Oe(c,a==null?void 0:a.className),inputProps:s==null?void 0:s.htmlInput,ref:h,touchRippleRef:g}))}),Vh=me(function(t,n){const{material:o}=t,r=Q(t,mh);return i.jsx(ir,m({},r,o,{ref:n}))}),_h=me(function(t,n){const{material:o}=t,r=Q(t,ph);return i.jsx(Vn,m({},r,o,{ref:n}))}),Nh=me(function(t,n){const{material:o}=t,r=Q(t,bh);return i.jsx(Xu,m({},r,o,{ref:n}))}),Wh=me(function(t,n){const{material:o}=t,r=Q(t,Ch);return i.jsx(ht,m({},r,o,{ref:n}))}),Uh=ke(Mf)(({theme:e})=>({gap:e.spacing(1),border:0})),Kh=me(function(t,n){const{material:o}=t,r=Q(t,wh);return i.jsx(Uh,m({size:"small",color:"primary"},r,o,{ref:n}))}),qh=me(function(t,n){const{material:o}=t,r=Q(t,xh);return i.jsx(Qn,m({},r,o,{ref:n}))}),Xh=me(function(t,n){const{material:o}=t,r=Q(t,Sh);return i.jsx(Nt,m({},r,o,{ref:n}))}),Yh=me(function(t,n){const{material:o}=t,r=Q(t,yh);return i.jsx(Gn,m({},r,o,{ref:n}))}),Qh=me(function(t,n){const{material:o}=t,r=Q(t,vh);return i.jsx(pd,m({},r,o,{ref:n}))}),Jh=me(function(t,n){const{material:o,label:r,className:l}=t,s=Q(t,Ih);return r?i.jsx(pa,{className:l,control:i.jsx(gs,m({},s,o,{ref:n})),label:r}):i.jsx(gs,m({},s,o,{className:l,ref:n}))}),Zh=me(function(t,n){const{material:o}=t,r=Q(t,Mh);return i.jsx(Lu,m({},r,o,{ref:n}))});function eg(e){const{inert:t,iconStart:n,iconEnd:o,children:r,material:l}=e,s=Q(e,Ph);return t&&(s.disableRipple=!0),d.createElement(Zt,m({},s,l),[n&&i.jsx(ms,{children:n},"1"),i.jsx(Rh,{children:r},"2"),o&&i.jsx(ms,{children:o},"3")])}function tg(e){const{slotProps:t,material:n}=e,o=Q(e,kh);return i.jsx(lt,m({variant:"outlined"},o,n,{inputProps:t==null?void 0:t.htmlInput,InputProps:El(t==null?void 0:t.input),InputLabelProps:m({shrink:!0},t==null?void 0:t.inputLabel)}))}function ng(e){const t=ee(),{id:n,multiple:o,freeSolo:r,options:l,getOptionLabel:s,isOptionEqualToValue:c,value:a,onChange:u,label:f,placeholder:h,slotProps:g,material:p}=e,w=Q(e,Eh);return i.jsx(Yu,m({id:n,multiple:o,freeSolo:r,options:l,getOptionLabel:s,isOptionEqualToValue:c,value:a,onChange:u,renderTags:(C,b)=>C.map((x,F)=>{const j=b({index:F}),{key:T}=j,I=Q(j,Th);return i.jsx(Qn,m({variant:"outlined",size:"small",label:typeof x=="string"?x:s==null?void 0:s(x)},I),T)}),renderInput:C=>{var T;const{inputProps:b,InputProps:x,InputLabelProps:F}=C,j=Q(C,Fh);return i.jsx(lt,m({},j,{label:f,placeholder:h,inputProps:b,InputProps:El(x,!1),InputLabelProps:m({shrink:!0},F)},g==null?void 0:g.textField,(T=t.slotProps)==null?void 0:T.baseTextField))}},w,p))}function og(e){return i.jsx(ta,m({},El(e)))}function El(e,t=!0){if(!e)return;const{slotProps:n,material:o}=e,l=Q(e,Dh);t&&(l.startAdornment&&(l.startAdornment=i.jsx(As,{position:"start",children:l.startAdornment})),l.endAdornment&&(l.endAdornment=i.jsx(As,{position:"end",children:l.endAdornment})));for(const s in o)Object.hasOwn(o,s)&&(l[s]=o[s]);return n!=null&&n.htmlInput&&(l.inputProps?l.inputProps=m({},l.inputProps,n==null?void 0:n.htmlInput):l.inputProps=n==null?void 0:n.htmlInput),l}const rg={"bottom-start":"top left","bottom-end":"top right"};function lg(e){const{open:t,children:n,className:o,flip:r,onExited:l,onDidShow:s,onDidHide:c,id:a,target:u,transition:f,placement:h,material:g}=e,p=Q(e,jh),w=d.useMemo(()=>{const b=[{name:"preventOverflow",options:{padding:8}}];return r&&b.push({name:"flip",enabled:!0,options:{rootBoundary:"document"}}),(s||c)&&b.push({name:"isPlaced",enabled:!0,phase:"main",fn:()=>{s==null||s()},effect:()=>()=>{c==null||c()}}),b},[r,s,c]);let C;if(!f)C=Gs(e,n);else{const b=x=>F=>{x&&x(),l&&l(F)};C=x=>{var F;return Gs(e,i.jsx(zu,m({},x.TransitionProps,{style:{transformOrigin:rg[x.placement]},onExited:b((F=x.TransitionProps)==null?void 0:F.onExited),children:i.jsx(xt,{children:n})})))}}return i.jsx(Qu,m({id:a,className:o,open:t,anchorEl:u,transition:f,placement:h,modifiers:w},p,g,{children:C}))}function Gs(e,t){return ig(e,sg(e,t))}function sg(e,t){return e.onClickAway===void 0?t:i.jsx(Ju,{onClickAway:e.onClickAway,touchEvent:e.clickAwayTouchEvent,mouseEvent:e.clickAwayMouseEvent,children:t})}function ig(e,t){return e.focusTrap===void 0?t:i.jsx(Au,{open:!0,disableEnforceFocus:!0,disableAutoFocus:!0,children:i.jsx("div",{tabIndex:-1,children:t})})}function ag(e){let{native:t}=e,n=Q(e,Hh);return t?i.jsx("option",m({},n)):i.jsx(Zt,m({},n))}const cg=ke(ff,{name:"MuiDataGrid",slot:"Tabs"})(({theme:e})=>({borderBottom:`1px solid ${e.palette.divider}`})),ug=ke(vd,{name:"MuiDataGrid",slot:"Tab"})({flex:1,minWidth:"fit-content"}),dg=ke("div",{name:"MuiDataGrid",slot:"TabPanel"})({flex:1,display:"flex",flexDirection:"column",overflow:"hidden"});function fg(e){const{children:t,active:n}=e,o=Q(e,$h);return i.jsx(dg,m({role:"tabpanel",style:{display:n?"flex":"none"}},o,{children:t}))}function hg(e){let{items:t,value:n,material:o}=e,r=Q(e,Oh);const l=_e(),s=`${l}-tab-${n}`,c=`${l}-tabpanel-${n}`;return i.jsxs(d.Fragment,{children:[i.jsx(cg,m({},r,{value:n,variant:"scrollable",scrollButtons:"auto"},o,{children:t.map(a=>i.jsx(ug,{value:a.value,label:a.label,id:s,"aria-controls":c},a.value))})),t.map(a=>i.jsx(fg,{value:a.value,active:n===a.value,id:c,"aria-labelledby":s,children:a.children},a.value))]})}const gg={booleanCellTrueIcon:Os,booleanCellFalseIcon:js,columnMenuIcon:_f,openFilterButtonIcon:Rf,filterPanelDeleteIcon:js,columnFilteredIcon:Ds,columnSelectorIcon:Af,columnUnsortedIcon:Jf,columnSortedAscendingIcon:ks,columnSortedDescendingIcon:Es,columnResizeIcon:zf,densityCompactIcon:Gf,densityStandardIcon:Bf,densityComfortableIcon:Vf,exportIcon:Yf,moreActionsIcon:Uf,treeDataCollapseIcon:Fs,treeDataExpandIcon:Ts,groupingCriteriaCollapseIcon:Fs,groupingCriteriaExpandIcon:Ts,detailPanelExpandIcon:Hs,detailPanelCollapseIcon:Nf,rowReorderIcon:$s,quickFilterIcon:Lf,quickFilterClearIcon:Rs,columnMenuHideIcon:Kf,columnMenuSortAscendingIcon:ks,columnMenuSortDescendingIcon:Es,columnMenuUnsortIcon:null,columnMenuFilterIcon:Ds,columnMenuManageColumnsIcon:qf,columnMenuClearIcon:Rs,loadIcon:Wf,filterPanelAddIcon:Hs,filterPanelRemoveAllIcon:Xf,columnReorderIcon:$s,menuItemCheckIcon:Os},mg={baseAutocomplete:ng,baseBadge:Gh,baseCheckbox:Bh,baseChip:qh,baseCircularProgress:Vh,baseDivider:_h,baseInput:og,baseLinearProgress:Nh,baseMenuList:Zh,baseMenuItem:eg,baseTextField:tg,baseButton:Wh,baseIconButton:Xh,baseToggleButton:Kh,baseTooltip:Yh,baseTabs:hg,basePagination:zh,basePopper:lg,baseSelect:Lh,baseSelectOption:ag,baseSkeleton:Qh,baseSwitch:Jh},pg=m({},mg,gg),bg=pg;function Fe(e,t,n=void 0){const o={};for(const r in e){const l=e[r];let s="",c=!0;for(let a=0;a<l.length;a+=1){const u=l[a];u&&(s+=(c===!0?"":" ")+t(u),c=!1,n&&n[u]&&(s+=" "+n[u]))}o[r]=s}return o}var ur=Symbol("NOT_FOUND");function Cg(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wg(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function xg(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(o=>typeof o=="function"?`function ${o.name||"unnamed"}()`:typeof o).join(", ");throw new TypeError(`${t}[${n}]`)}}var Bs=e=>Array.isArray(e)?e:[e];function Sg(e){const t=Array.isArray(e[0])?e[0]:e;return xg(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function yg(e,t){const n=[],{length:o}=e;for(let r=0;r<o;r++)n.push(e[r].apply(null,t));return n}function vg(e){let t;return{get(n){return t&&e(t.key,n)?t.value:ur},put(n,o){t={key:n,value:o}},getEntries(){return t?[t]:[]},clear(){t=void 0}}}function Ig(e,t){let n=[];function o(c){const a=n.findIndex(u=>t(c,u.key));if(a>-1){const u=n[a];return a>0&&(n.splice(a,1),n.unshift(u)),u.value}return ur}function r(c,a){o(c)===ur&&(n.unshift({key:c,value:a}),n.length>e&&n.pop())}function l(){return n}function s(){n=[]}return{get:o,put:r,getEntries:l,clear:s}}var Mg=(e,t)=>e===t;function Pg(e){return function(n,o){if(n===null||o===null||n.length!==o.length)return!1;const{length:r}=n;for(let l=0;l<r;l++)if(!e(n[l],o[l]))return!1;return!0}}function Pr(e,t){const n=typeof t=="object"?t:{equalityCheck:t},{equalityCheck:o=Mg,maxSize:r=1,resultEqualityCheck:l}=n,s=Pg(o);let c=0;const a=r<=1?vg(s):Ig(r,s);function u(){let f=a.get(arguments);if(f===ur){if(f=e.apply(null,arguments),c++,l){const g=a.getEntries().find(p=>l(p.value,f));g&&(f=g.value,c!==0&&c--)}a.put(arguments,f)}return f}return u.clearCache=()=>{a.clear(),u.resetResultsCount()},u.resultsCount=()=>c,u.resetResultsCount=()=>{c=0},u}var kg=class{constructor(e){this.value=e}deref(){return this.value}},Eg=typeof WeakRef<"u"?WeakRef:kg,Tg=0,Vs=1;function Ko(){return{s:Tg,v:void 0,o:null,p:null}}function ba(e,t={}){let n=Ko();const{resultEqualityCheck:o}=t;let r,l=0;function s(){var h;let c=n;const{length:a}=arguments;for(let g=0,p=a;g<p;g++){const w=arguments[g];if(typeof w=="function"||typeof w=="object"&&w!==null){let C=c.o;C===null&&(c.o=C=new WeakMap);const b=C.get(w);b===void 0?(c=Ko(),C.set(w,c)):c=b}else{let C=c.p;C===null&&(c.p=C=new Map);const b=C.get(w);b===void 0?(c=Ko(),C.set(w,c)):c=b}}const u=c;let f;if(c.s===Vs)f=c.v;else if(f=e.apply(null,arguments),l++,o){const g=((h=r==null?void 0:r.deref)==null?void 0:h.call(r))??r;g!=null&&o(g,f)&&(f=g,l!==0&&l--),r=typeof f=="object"&&f!==null||typeof f=="function"?new Eg(f):f}return u.s=Vs,u.v=f,f}return s.clearCache=()=>{n=Ko(),s.resetResultsCount()},s.resultsCount=()=>l,s.resetResultsCount=()=>{l=0},s}function Tl(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,o=(...r)=>{let l=0,s=0,c,a={},u=r.pop();typeof u=="object"&&(a=u,u=r.pop()),Cg(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...n,...a},{memoize:h,memoizeOptions:g=[],argsMemoize:p=ba,argsMemoizeOptions:w=[],devModeChecks:C={}}=f,b=Bs(g),x=Bs(w),F=Sg(r),j=h(function(){return l++,u.apply(null,arguments)},...b),T=p(function(){s++;const k=yg(F,arguments);return c=j.apply(null,k),c},...x);return Object.assign(T,{resultFunc:u,memoizedResultFunc:j,dependencies:F,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>c,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:h,argsMemoize:p})};return Object.assign(o,{withTypes:()=>o}),o}var Fg=Tl(ba),Dg=Object.assign((e,t=Fg)=>{wg(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),o=n.map(l=>e[l]);return t(o,(...l)=>l.reduce((s,c,a)=>(s[n[a]]=c,s),{}))},{withTypes:()=>Dg});const jg=Tl({memoize:Pr,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Hg=(e,t,n,o,r,l,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let c;if(e&&t&&n&&o&&r&&l)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h),C=o(a,u,f,h),b=r(a,u,f,h);return l(g,p,w,C,b,u,f,h)};else if(e&&t&&n&&o&&r)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h),C=o(a,u,f,h);return r(g,p,w,C,u,f,h)};else if(e&&t&&n&&o)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h);return o(g,p,w,u,f,h)};else if(e&&t&&n)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h);return n(g,p,u,f,h)};else if(e&&t)c=(a,u,f,h)=>{const g=e(a,u,f,h);return t(g,u,f,h)};else if(e)c=e;else throw new Error("Missing arguments");return c},$g=(...e)=>{const t=new WeakMap;let n=1;const o=e[e.length-1],r=e.length-1||1,l=Math.max(o.length-r,0);if(l>3)throw new Error("Unsupported number of arguments");return(c,a,u,f)=>{let h=c.__cacheKey__;h||(h={id:n},c.__cacheKey__=h,n+=1);let g=t.get(h);if(!g){const p=e.length===1?[b=>b,o]:e;let w=e;const C=[void 0,void 0,void 0];switch(l){case 0:break;case 1:{w=[...p.slice(0,-1),()=>C[0],o];break}case 2:{w=[...p.slice(0,-1),()=>C[0],()=>C[1],o];break}case 3:{w=[...p.slice(0,-1),()=>C[0],()=>C[1],()=>C[2],o];break}default:throw new Error("Unsupported number of arguments")}g=jg(...w),g.selectorArgs=C,t.set(h,g)}switch(l){case 3:g.selectorArgs[2]=f;case 2:g.selectorArgs[1]=u;case 1:g.selectorArgs[0]=a}switch(l){case 0:return g(c);case 1:return g(c,a);case 2:return g(c,a,u);case 3:return g(c,a,u,f);default:throw new Error("unreachable")}}};var Ca={exports:{}},wa={},xa={exports:{}},Sa={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jn=d;function Og(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rg=typeof Object.is=="function"?Object.is:Og,Lg=Jn.useState,Ag=Jn.useEffect,zg=Jn.useLayoutEffect,Gg=Jn.useDebugValue;function Bg(e,t){var n=t(),o=Lg({inst:{value:n,getSnapshot:t}}),r=o[0].inst,l=o[1];return zg(function(){r.value=n,r.getSnapshot=t,qr(r)&&l({inst:r})},[e,n,t]),Ag(function(){return qr(r)&&l({inst:r}),e(function(){qr(r)&&l({inst:r})})},[e]),Gg(n),n}function qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Rg(e,n)}catch{return!0}}function Vg(e,t){return t()}var _g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vg:Bg;Sa.useSyncExternalStore=Jn.useSyncExternalStore!==void 0?Jn.useSyncExternalStore:_g;xa.exports=Sa;var Fl=xa.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kr=d,Ng=Fl;function Wg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ug=typeof Object.is=="function"?Object.is:Wg,Kg=Ng.useSyncExternalStore,qg=kr.useRef,Xg=kr.useEffect,Yg=kr.useMemo,Qg=kr.useDebugValue;wa.useSyncExternalStoreWithSelector=function(e,t,n,o,r){var l=qg(null);if(l.current===null){var s={hasValue:!1,value:null};l.current=s}else s=l.current;l=Yg(function(){function a(p){if(!u){if(u=!0,f=p,p=o(p),r!==void 0&&s.hasValue){var w=s.value;if(r(w,p))return h=w}return h=p}if(w=h,Ug(f,p))return w;var C=o(p);return r!==void 0&&r(w,C)?(f=p,w):(f=p,h=C)}var u=!1,f,h,g=n===void 0?null:n;return[function(){return a(t())},g===null?void 0:function(){return a(g())}]},[t,n,o,r]);var c=Kg(e,l[0],l[1]);return Xg(function(){s.hasValue=!0,s.value=c},[c]),Qg(c),c};Ca.exports=wa;var ya=Ca.exports;function _s(e,t,n,o,r){const l=s=>t(s,n,o,r);return ya.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,l)}const Ns={};function tn(e,t){const n=d.useRef(Ns);return n.current===Ns&&(n.current=e(t)),n}const Jg=[];function Er(e){d.useEffect(e,Jg)}const Zg=()=>{};function cl(e,t,n){const o=tn(em,{store:e,selector:t}).current;o.effect=n,Er(o.onMount)}function em(e){const{store:t,selector:n}=e;let o=n(t.state);const r={effect:Zg,dispose:null,subscribe:()=>{r.dispose??(r.dispose=t.subscribe(l=>{const s=n(l);r.effect(o,s),o=s}))},onMount:()=>(r.subscribe(),()=>{var l;(l=r.dispose)==null||l.call(r),r.dispose=null})};return r.subscribe(),r}let tm=class va{constructor(t){nt(this,"subscribe",t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}));nt(this,"getSnapshot",()=>this.state);this.state=t,this.listeners=new Set,this.updateTick=0}static create(t){return new va(t)}setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,o=this.listeners.values();let r;for(;r=o.next(),!r.done;){if(n!==this.updateTick)return;const l=r.value;l(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(m({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(m({},this.state,{[t]:n}))}};const ie=(...e)=>{const t=Hg(...e);return(o,r,l,s)=>t(Dl(o),r,l,s)},Ae=(...e)=>{const t=$g(...e);return(o,r,l,s)=>t(Dl(o),r,l,s)},Xe=e=>(t,n)=>e(Dl(t),n);function Dl(e){return"current"in e?e.current.state:e}const et=Xe(e=>e.dimensions),jl=ie(et,e=>e.columnsTotalWidth),nm=ie(et,e=>e.rowHeight);ie(et,e=>e.contentSize.height);const om=ie(et,e=>e.hasScrollX),rm=ie(et,e=>e.hasScrollY),Ia=ie(et,e=>e.columnsTotalWidth<e.viewportOuterSize.width),lm=ie(et,e=>e.headerHeight),sm=ie(et,e=>e.groupHeaderHeight);ie(et,e=>e.headerFilterHeight);const im=ie(et,e=>e.hasScrollX?e.scrollbarSize:0),Ma=ie(et,e=>e.hasScrollY?e.scrollbarSize:0),am=ie(et,im,(e,t)=>{const n=e.viewportOuterSize.height-e.minimumSize.height>0;return!(t===0&&!n)}),Hl=Xe(e=>e.rowsMeta),Bt=Xe(e=>e.rows),so=ie(Bt,e=>e.totalRowCount),cm=ie(Bt,e=>e.loading),um=ie(Bt,e=>e.totalTopLevelRowCount),Tt=ie(Bt,e=>e.dataRowIdToModelLookup);ie(Tt,(e,t)=>e[t]);const dt=ie(Bt,e=>e.tree),Wt=ie(dt,(e,t)=>e[t]),dm=ie(Bt,e=>e.groupsToFetch),fm=ie(Bt,e=>e.groupingName),Ws=ie(Bt,e=>e.treeDepths),Ho=Ae(Bt,e=>{const t=Object.entries(e.treeDepths);return t.length===0?1:(t.filter(([,n])=>n>0).map(([n])=>Number(n)).sort((n,o)=>o-n)[0]??0)+1}),xn=ie(Bt,e=>e.dataRowIds),hm=Ae(xn,Tt,(e,t)=>e.reduce((n,o)=>(t[o]&&n.push(t[o]),n),[])),gm=ie(Bt,e=>e==null?void 0:e.additionalRowGroups),$o=Ae(gm,e=>{var n,o;const t=e==null?void 0:e.pinnedRows;return{bottom:((n=t==null?void 0:t.bottom)==null?void 0:n.map(r=>({id:r.id,model:r.model??{}})))??[],top:((o=t==null?void 0:t.top)==null?void 0:o.map(r=>({id:r.id,model:r.model??{}})))??[]}}),Pa=ie($o,e=>{var t,n;return(((t=e==null?void 0:e.top)==null?void 0:t.length)||0)+(((n=e==null?void 0:e.bottom)==null?void 0:n.length)||0)}),ct="auto-generated-group-node-root",In=Symbol("mui.id_autogenerated"),mm=()=>({type:"group",id:ct,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function pm(e,t,n="A row was provided without id in the rows prop:"){if(e==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",n,JSON.stringify(t)].join(`
`))}const Tr=(e,t,n)=>{const o=t?t(e):e.id;return pm(o,e,n),o},bm=(e,t,n)=>{const o=t.field;if(!t||!t.valueGetter)return e[o];const r=e[t.field];return t.valueGetter(r,e,t,n)},Zo=({rows:e,getRowId:t,loading:n,rowCount:o})=>{const r={type:"full",rows:[]},l={};for(let s=0;s<e.length;s+=1){const c=e[s],a=Tr(c,t);l[a]=c,r.rows.push(a)}return{rowsBeforePartialUpdates:e,loadingPropBeforePartialUpdates:n,rowCountPropBeforePartialUpdates:o,updates:r,dataRowIdToModelLookup:l}},ka=({tree:e,rowCountProp:t=0})=>{const n=e[ct];return Math.max(t,n.children.length+(n.footerId==null?0:1))},Ea=({apiRef:e,rowCountProp:t=0,loadingProp:n,previousTree:o,previousTreeDepths:r,previousGroupsToFetch:l})=>{const s=e.current.caches.rows,{tree:c,treeDepths:a,dataRowIds:u,groupingName:f,groupsToFetch:h=[]}=e.current.applyStrategyProcessor("rowTreeCreation",{previousTree:o,previousTreeDepths:r,updates:s.updates,dataRowIdToModelLookup:s.dataRowIdToModelLookup,previousGroupsToFetch:l}),g=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:c,treeDepths:a,dataRowIds:u,dataRowIdToModelLookup:s.dataRowIdToModelLookup});return e.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},m({},g,{totalRowCount:Math.max(t,g.dataRowIds.length),totalTopLevelRowCount:ka({tree:g.tree,rowCountProp:t}),groupingName:f,loading:n,groupsToFetch:h})},Ta=e=>In in e,Zn=e=>e.type==="skeletonRow"||e.type==="footer"||e.type==="group"&&e.isAutoGenerated||e.type==="pinnedRow"&&e.isAutoGenerated,$l=(e,t,n,o)=>{const r=e[t];if(r.type!=="group")return[];const l=[];for(let s=0;s<r.children.length;s+=1){const c=r.children[s];if((!n||!Zn(e[c]))&&l.push(c),o)continue;const a=$l(e,c,n,o);for(let u=0;u<a.length;u+=1)l.push(a[u])}return!n&&r.footerId!=null&&l.push(r.footerId),l},Us=({previousCache:e,getRowId:t,updates:n,groupKeys:o})=>{if(e.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const r=new Map;n.forEach(u=>{const f=Tr(u,t,"A row was provided without id when calling updateRows():");r.has(f)?r.set(f,m({},r.get(f),u)):r.set(f,u)});const l={type:"partial",actions:{insert:[...e.updates.actions.insert??[]],modify:[...e.updates.actions.modify??[]],remove:[...e.updates.actions.remove??[]]},idToActionLookup:m({},e.updates.idToActionLookup),groupKeys:o},s=m({},e.dataRowIdToModelLookup),c={insert:{},modify:{},remove:{}};r.forEach((u,f)=>{const h=l.idToActionLookup[f];if(u._action==="delete"){if(h==="remove"||!s[f])return;h!=null&&(c[h][f]=!0),l.actions.remove.push(f),delete s[f];return}const g=s[f];if(g){h==="remove"?(c.remove[f]=!0,l.actions.modify.push(f)):h==null&&l.actions.modify.push(f),s[f]=m({},g,u);return}h==="remove"?(c.remove[f]=!0,l.actions.insert.push(f)):h==null&&l.actions.insert.push(f),s[f]=u});const a=Object.keys(c);for(let u=0;u<a.length;u+=1){const f=a[u],h=c[f];Object.keys(h).length>0&&(l.actions[f]=l.actions[f].filter(g=>!h[g]))}return{dataRowIdToModelLookup:s,updates:l,rowsBeforePartialUpdates:e.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:e.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:e.rowCountPropBeforePartialUpdates}},Fa="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function Ks(e,t,n){const o=[];return t.forEach(r=>{const l=Tr(r,n,"A row was provided without id when calling updateRows():"),s=Wt(e,l);if((s==null?void 0:s.type)==="pinnedRow"){const c=e.current.caches.pinnedRows,a=c.idLookup[l];a&&(c.idLookup[l]=m({},a,r))}else o.push(r)}),o}const Da=(e,t,n)=>typeof e=="number"&&e>0?e:t,Cm=Object.is;function ja(e,t){if(e===t)return!0;if(!(e instanceof Object)||!(t instanceof Object))return!1;let n=0,o=0;for(const r in e)if(n+=1,!Cm(e[r],t[r])||!(r in t))return!1;for(const r in t)o+=1;return n===o}function nn(e){return d.memo(e,ja)}const wm={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",noColumnsOverlayLabel:"No columns",noColumnsOverlayManageColumns:"Manage columns",emptyPivotOverlayLabel:"Add fields to rows, columns, and values to create a pivot table",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,toolbarQuickFilterPlaceholder:"Searchâ€¦",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",toolbarPivot:"Pivot",toolbarCharts:"Charts",toolbarAssistant:"AI Assistant",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",headerFilterClear:"Clear filter",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:e=>`${e} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnMenuManagePivot:"Manage pivot",columnMenuManageCharts:"Manage charts",columnHeaderFiltersTooltipActive:e=>e!==1?`${e} active filters`:`${e} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:e=>e!==1?`${e.toLocaleString()} rows selected`:`${e.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(e,t)=>`${e.toLocaleString()} of ${t.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:e=>`Group by ${e}`,unGroupColumn:e=>`Stop grouping by ${e}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",paginationRowsPerPage:"Rows per page:",paginationDisplayedRows:({from:e,to:t,count:n,estimated:o})=>{if(!o)return`${e}â€“${t} of ${n!==-1?n:`more than ${t}`}`;const r=o&&o>t?`around ${o}`:`more than ${t}`;return`${e}â€“${t} of ${n!==-1?n:r}`},paginationItemAriaLabel:e=>e==="first"?"Go to first page":e==="last"?"Go to last page":e==="next"?"Go to next page":"Go to previous page",rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelNone:"none",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size",pivotToggleLabel:"Pivot",pivotRows:"Rows",pivotColumns:"Columns",pivotValues:"Values",pivotCloseButton:"Close pivot settings",pivotSearchButton:"Search fields",pivotSearchControlPlaceholder:"Search fields",pivotSearchControlLabel:"Search fields",pivotSearchControlClear:"Clear search",pivotNoFields:"No fields",pivotMenuMoveUp:"Move up",pivotMenuMoveDown:"Move down",pivotMenuMoveToTop:"Move to top",pivotMenuMoveToBottom:"Move to bottom",pivotMenuRows:"Rows",pivotMenuColumns:"Columns",pivotMenuValues:"Values",pivotMenuOptions:"Field options",pivotMenuAddToRows:"Add to Rows",pivotMenuAddToColumns:"Add to Columns",pivotMenuAddToValues:"Add to Values",pivotMenuRemove:"Remove",pivotDragToRows:"Drag here to create rows",pivotDragToColumns:"Drag here to create columns",pivotDragToValues:"Drag here to create values",pivotYearColumnHeaderName:"(Year)",pivotQuarterColumnHeaderName:"(Quarter)",chartsNoCharts:"There are no charts available",chartsChartNotSelected:"Select a chart type to configure its options",chartsTabChart:"Chart",chartsTabFields:"Fields",chartsTabCustomize:"Customize",chartsCloseButton:"Close charts configuration",chartsSyncButtonLabel:"Sync chart",chartsSearchPlaceholder:"Search fields",chartsSearchLabel:"Search fields",chartsSearchClear:"Clear search",chartsNoFields:"No fields",chartsFieldBlocked:"This field cannot be added to any section",chartsCategories:"Categories",chartsSeries:"Series",chartsMenuAddToDimensions:e=>`Add to ${e}`,chartsMenuAddToValues:e=>`Add to ${e}`,chartsMenuMoveUp:"Move up",chartsMenuMoveDown:"Move down",chartsMenuMoveToTop:"Move to top",chartsMenuMoveToBottom:"Move to bottom",chartsMenuOptions:"Field options",chartsMenuRemove:"Remove",chartsDragToDimensions:e=>`Drag here to use column as ${e}`,chartsDragToValues:e=>`Drag here to use column as ${e}`,aiAssistantPanelTitle:"AI Assistant",aiAssistantPanelClose:"Close AI Assistant",aiAssistantPanelNewConversation:"New conversation",aiAssistantPanelConversationHistory:"Conversation history",aiAssistantPanelEmptyConversation:"No prompt history",aiAssistantSuggestions:"Suggestions",promptFieldLabel:"Prompt",promptFieldPlaceholder:"Type a promptâ€¦",promptFieldPlaceholderWithRecording:"Type or record a promptâ€¦",promptFieldPlaceholderListening:"Listening for promptâ€¦",promptFieldSpeechRecognitionNotSupported:"Speech recognition is not supported in this browser",promptFieldSend:"Send",promptFieldRecord:"Record",promptFieldStopRecording:"Stop recording",promptRerun:"Run again",promptProcessing:"Processingâ€¦",promptAppliedChanges:"Applied changes",promptChangeGroupDescription:e=>`Group by ${e}`,promptChangeAggregationLabel:(e,t)=>`${e} (${t})`,promptChangeAggregationDescription:(e,t)=>`Aggregate ${e} (${t})`,promptChangeFilterLabel:(e,t,n)=>t==="is any of"?`${e} is any of: ${n}`:`${e} ${t} ${n}`,promptChangeFilterDescription:(e,t,n)=>t==="is any of"?`Filter where ${e} is any of: ${n}`:`Filter where ${e} ${t} ${n}`,promptChangeSortDescription:(e,t)=>`Sort by ${e} (${t})`,promptChangePivotEnableLabel:"Pivot",promptChangePivotEnableDescription:"Enable pivot",promptChangePivotColumnsLabel:e=>`Columns (${e})`,promptChangePivotColumnsDescription:(e,t)=>`${e}${t?` (${t})`:""}`,promptChangePivotRowsLabel:e=>`Rows (${e})`,promptChangePivotValuesLabel:e=>`Values (${e})`,promptChangePivotValuesDescription:(e,t)=>`${e} (${t})`},qs=e=>e,xm=()=>{let e=qs;return{configure(t){e=t},generate(t){return e(t)},reset(){e=qs}}},Sm=xm(),ym=Sm,vm={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Ha(e,t,n="Mui"){const o=vm[t];return o?`${n}-${o}`:`${ym.generate(e)}-${t}`}function $a(e,t,n="Mui"){const o={};return t.forEach(r=>{o[r]=Ha(e,r,n)}),o}function De(e){return Ha("MuiDataGrid",e)}const S=$a("MuiDataGrid",["aiAssistantPanel","aiAssistantPanelHeader","aiAssistantPanelTitleContainer","aiAssistantPanelTitle","aiAssistantPanelBody","aiAssistantPanelEmptyText","aiAssistantPanelFooter","aiAssistantPanelConversation","aiAssistantPanelConversationList","aiAssistantPanelConversationTitle","aiAssistantPanelSuggestions","aiAssistantPanelSuggestionsList","aiAssistantPanelSuggestionsItem","aiAssistantPanelSuggestionsLabel","actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","aggregationRowOverlayWrapper","autoHeight","autosizing","mainContent","withSidePanel","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","collapsible","collapsibleTrigger","collapsibleIcon","collapsiblePanel","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeader--filter","columnHeaderFilterInput","columnHeaderFilterOperatorLabel","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","columnsManagementScrollArea","columnsManagementEmptyText","container--top","container--bottom","detailPanel","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hiddenContent","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dropAbove","row--dropBelow","row--beingDragged","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowReorderIcon","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","shadowScrollArea","sidebar","sidebarHeader","toolbarContainer","toolbar","toolbarLabel","toolbarDivider","toolbarFilterList","toolbarQuickFilter","toolbarQuickFilterTrigger","toolbarQuickFilterControl","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pivotPanelAvailableFields","pivotPanelField","pivotPanelField--sorted","pivotPanelFieldActionContainer","pivotPanelFieldCheckbox","pivotPanelFieldDragIcon","pivotPanelFieldList","pivotPanelFieldName","pivotPanelHeader","pivotPanelPlaceholder","pivotPanelScrollArea","pivotPanelSearchContainer","pivotPanelSection","pivotPanelSectionTitle","pivotPanelSections","pivotPanelSwitch","pivotPanelSwitchLabel","prompt","promptContent","promptText","promptFeedback","promptChangeList","promptChangesToggle","promptChangesToggleIcon","promptIcon","promptIconContainer","promptError","promptAction"]);let Lt=function(e){return e.DataGrid="DataGrid",e.DataGridPro="DataGridPro",e.DataGridPremium="DataGridPremium",e}({});const Xs=1e3;class Im{constructor(t=Xs){nt(this,"timeouts",(()=>new Map)());nt(this,"cleanupTimeout",(()=>Xs)());this.cleanupTimeout=t}register(t,n,o){this.timeouts||(this.timeouts=new Map);const r=setTimeout(()=>{typeof n=="function"&&n(),this.timeouts.delete(o.cleanupToken)},this.cleanupTimeout);this.timeouts.set(o.cleanupToken,r)}unregister(t){const n=this.timeouts.get(t.cleanupToken);n&&(this.timeouts.delete(t.cleanupToken),clearTimeout(n))}reset(){this.timeouts&&(this.timeouts.forEach((t,n)=>{this.unregister({cleanupToken:n})}),this.timeouts=void 0)}}class Mm{constructor(){nt(this,"registry",(()=>new FinalizationRegistry(t=>{typeof t=="function"&&t()}))())}register(t,n,o){this.registry.register(t,n,o)}unregister(t){this.registry.unregister(t)}reset(){}}class Ol{static create(){return new Ol}}const qo={current:km()};let Ys=0;function le(e,t,n,o){const r=d.useState(Ol.create)[0],l=d.useRef(null),s=d.useRef(null);s.current=n;const c=d.useRef(null);if(!l.current&&s.current){const a=(u,f,h)=>{var g;f.defaultMuiPrevented||(g=s.current)==null||g.call(s,u,f,h)};l.current=e.current.subscribeEvent(t,a,o),Ys+=1,c.current={cleanupToken:Ys},qo.current.register(r,()=>{var u;(u=l.current)==null||u.call(l),l.current=null,c.current=null},c.current)}else!s.current&&l.current&&(l.current(),l.current=null,c.current&&(qo.current.unregister(c.current),c.current=null));d.useEffect(()=>{if(!l.current&&s.current){const a=(u,f,h)=>{var g;f.defaultMuiPrevented||(g=s.current)==null||g.call(s,u,f,h)};l.current=e.current.subscribeEvent(t,a,o)}return c.current&&qo.current&&(qo.current.unregister(c.current),c.current=null),()=>{var a;(a=l.current)==null||a.call(l),l.current=null}},[e,t,o])}const Pm={isFirst:!0};function We(e,t,n){le(e,t,n,Pm)}function km(){return typeof FinalizationRegistry<"u"?new Mm:new Im}const Em=Object.is,Oa=ja,Tm=(e,t)=>e===t?!0:e.length===t.length&&e.every((n,o)=>n===t[o]),Fm=(e,t)=>{let n=Object.is;return t instanceof Array?n=Tm:t instanceof Object&&(n=Oa),n(e,t)},Dm=()=>({state:null,equals:null,selector:null,args:void 0}),Qs=[],jm=()=>null;function K(e,t,n=void 0,o=Em){const r=tn(Dm),l=r.current.selector!==null,[s,c]=d.useState(l?null:t(e,n));r.current.state=s,r.current.equals=o,r.current.selector=t;const a=r.current.args;if(r.current.args=n,l&&!Fm(a,n)){const h=r.current.selector(e,r.current.args);r.current.equals(r.current.state,h)||(r.current.state=h,c(h))}const u=d.useCallback(()=>(r.current.subscription||(r.current.subscription=e.current.store.subscribe(()=>{const h=r.current.selector(e,r.current.args);r.current.equals(r.current.state,h)||(r.current.state=h,c(h))})),null),Qs),f=d.useCallback(()=>(r.current.subscription||u(),()=>{r.current.subscription&&(r.current.subscription(),r.current.subscription=void 0)}),Qs);return Fl.useSyncExternalStore(f,u,jm),s}const Hm=.7,$m=1.3,Om={compact:Hm,comfortable:$m,standard:1},_n=Xe(e=>e.density),Oo=ie(_n,e=>Om[e]);let Rm=class Ra{constructor(){nt(this,"currentId",null);nt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});nt(this,"disposeEffect",()=>this.clear)}static create(){return new Ra}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}};function io(){const e=tn(Rm.create).current;return Er(e.disposeEffect),e}function La(e,t,n=!1){const o={...t};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const l=r;if(l==="components"||l==="slots")o[l]={...e[l],...o[l]};else if(l==="componentsProps"||l==="slotProps"){const s=e[l],c=t[l];if(!c)o[l]=s||{};else if(!s)o[l]=c;else{o[l]={...c};for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)){const u=a;o[l][u]=La(s[u],c[u],n)}}}else l==="className"&&n&&t.className?o.className=Oe(e==null?void 0:e.className,t==null?void 0:t.className):l==="style"&&n&&t.style?o.style={...e==null?void 0:e.style,...t==null?void 0:t.style}:o[l]===void 0&&(o[l]=e[l])}return o}function qt(e){throw new Error("Failed assertion: should not be rendered")}const Lm=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange","slotProps"],Am=e=>{const{classes:t}=e;return Fe({root:["editInputCell"]},De,t)},zm=ke(qt,{name:"MuiDataGrid",slot:"EditInputCell"})({font:oe.typography.font.body,padding:"1px 0","& input":{padding:"0 16px",height:"100%"}}),Gm=me((e,t)=>{const n=ee(),{id:o,value:r,field:l,colDef:s,hasFocus:c,debounceMs:a=200,isProcessingProps:u,onValueChange:f,slotProps:h}=e,g=Q(e,Lm),p=Me(),w=d.useRef(null),[C,b]=d.useState(r),x=Am(n),F=d.useCallback(async T=>{const I=T.target.value,k=p.current.getColumn(l);let L=I;k.valueParser&&(L=k.valueParser(I,p.current.getRow(o),k,p)),b(L),p.current.setEditCellValue({id:o,field:l,value:L,debounceMs:a,unstable_skipValueParser:!0},T),f&&await f(T,I)},[p,a,l,o,f]),j=p.current.unstable_getEditCellMeta(o,l);return d.useEffect(()=>{(j==null?void 0:j.changeReason)!=="debouncedSetEditCellValue"&&b(r)},[j,r]),Mt(()=>{c&&w.current.focus()},[c]),i.jsx(zm,m({as:n.slots.baseInput,inputRef:w,className:x.root,ownerState:n,fullWidth:!0,type:s.type==="number"?s.type:"text",value:C??"",onChange:F,endAdornment:u?i.jsx(n.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},g,h==null?void 0:h.root,{ref:t}))}),Bm=e=>i.jsx(Gm,m({},e)),Aa=(e,t)=>t&&e.length>1?[e[0]]:e,Js=(e,t)=>n=>m({},n,{sorting:m({},n.sorting,{sortModel:Aa(e,t)})}),Vm=e=>e==="desc",_m=(e,t,n)=>{const o=n.current.getColumn(e.field);if(!o||e.sort===null)return null;let r;return o.getSortComparator?r=o.getSortComparator(e.sort):r=Vm(e.sort)?(...s)=>-1*o.sortComparator(...s):o.sortComparator,r?{getSortCellParams:s=>({id:s,field:o.field,rowNode:Wt(n,s),value:t(s,o.field),api:n.current}),comparator:r}:null},Nm=(e,t,n)=>e.reduce((o,r,l)=>{if(o!==0)return o;const s=t.params[l],c=n.params[l];return o=r.comparator(s.value,c.value,s,c),o},0),Wm=(e,t,n)=>{const o=e.map(r=>_m(r,t,n)).filter(r=>!!r);return o.length===0?null:r=>r.map(l=>({node:l,params:o.map(s=>s.getSortCellParams(l.id))})).sort((l,s)=>Nm(o,l,s)).map(l=>l.node.id)},Zs=(e,t)=>{const n=e.indexOf(t);return!t||n===-1||n+1===e.length?e[0]:e[n+1]},Rl=(e,t)=>e==null&&t!=null?-1:t==null&&e!=null?1:e==null&&t==null?0:null,Um=new Intl.Collator,Km=(e,t)=>{const n=Rl(e,t);return n!==null?n:typeof e=="string"?Um.compare(e.toString(),t.toString()):e-t},za=(e,t)=>{const n=Rl(e,t);return n!==null?n:Number(e)-Number(t)},Ga=(e,t)=>{const n=Rl(e,t);return n!==null?n:e>t?1:e<t?-1:0},qm=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","slotProps","clearButton","headerFilterMenu"];function Et(e){var I,k,L;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,tabIndex:s,disabled:c,slotProps:a,clearButton:u,headerFilterMenu:f}=e,h=Q(e,qm),g=a==null?void 0:a.root,p=io(),[w,C]=d.useState(Xr(t.value)),[b,x]=d.useState(!1),F=_e(),j=ee(),T=d.useCallback(v=>{const y=Xr(v.target.value);C(y),x(!0),p.start(j.filterDebounceMs,()=>{const M=m({},t,{value:o==="number"&&!Number.isNaN(Number(y))?Number(y):y,fromInput:F});n(M),x(!1)})},[p,j.filterDebounceMs,t,o,F,n]);return d.useEffect(()=>{(t.fromInput!==F||t.value==null)&&C(Xr(t.value))},[F,t]),i.jsxs(d.Fragment,{children:[i.jsx(j.slots.baseTextField,m({id:F,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:w??"",onChange:T,type:o||"text",disabled:c,slotProps:m({},g==null?void 0:g.slotProps,{input:m({endAdornment:b?i.jsx(j.slots.loadIcon,{fontSize:"small",color:"action"}):null},(I=g==null?void 0:g.slotProps)==null?void 0:I.input),htmlInput:m({tabIndex:s},(k=g==null?void 0:g.slotProps)==null?void 0:k.htmlInput)}),inputRef:l},(L=j.slotProps)==null?void 0:L.baseTextField,h,g)),f,u]})}function Xr(e){if(!(e==null||e===""))return String(e)}function Xm(e){return typeof e=="number"&&!Number.isNaN(e)}function Ym(e){return typeof e=="function"}function Ll(e){return typeof e=="object"&&e!==null}function Qm(){try{const e="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch{return!1}}function dr(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const yn=(e,t,n)=>Math.max(t,Math.min(n,e));function Jm(e){return()=>{let t=e+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function Zm(e){const t=Jm(e);return(n,o)=>n+(o-n)*t()}function Ba(e){return typeof structuredClone=="function"?structuredClone(e):JSON.parse(JSON.stringify(e))}const fn=(e,t)=>n=>{e&&t(n)};function Va(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s}=e,c=_e(),[a,u]=d.useState([]),[f,h]=d.useState(t.value||[]),g=ee();d.useEffect(()=>{const b=t.value??[];h(b.map(String))},[t.value]);const p=d.useCallback((b,x)=>{h(x.map(String)),n(m({},t,{value:[...x.map(F=>o==="number"?Number(F):F)]}))},[n,t,o]),w=d.useCallback((b,x)=>{u(x===""?[]:[x])},[u]),C=g.slots.baseAutocomplete;return i.jsx(C,m({multiple:!0,freeSolo:!0,options:a,id:c,value:f,onChange:p,onInputChange:w,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:o||"text",inputRef:l}}},s==null?void 0:s.root))}var Kt=function(e){return e.Cell="cell",e.Row="row",e}(Kt||{}),Ge=function(e){return e.Edit="edit",e.View="view",e}(Ge||{}),Ke=function(e){return e.Edit="edit",e.View="view",e}(Ke||{}),gt=function(e){return e.And="and",e.Or="or",e}(gt||{});class ep{constructor(t){this.data=t.ids}has(t){return this.data.has(t)}select(t){this.data.add(t)}unselect(t){this.data.delete(t)}}class tp{constructor(t){this.data=t.ids}has(t){return!this.data.has(t)}select(t){this.data.delete(t)}unselect(t){this.data.add(t)}}const hn=e=>e.type==="include"?new ep(e):new tp(e);var Jt=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e.pasteKeyDown="pasteKeyDown",e}(Jt||{}),Ot=function(e){return e.cellFocusOut="cellFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(Ot||{}),an=function(e){return e.enterKeyDown="enterKeyDown",e.cellDoubleClick="cellDoubleClick",e.printableKeyDown="printableKeyDown",e.deleteKeyDown="deleteKeyDown",e}(an||{}),_t=function(e){return e.rowFocusOut="rowFocusOut",e.escapeKeyDown="escapeKeyDown",e.enterKeyDown="enterKeyDown",e.tabKeyDown="tabKeyDown",e.shiftTabKeyDown="shiftTabKeyDown",e}(_t||{});function _a(e){return e.field!==void 0}const Na={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},To=()=>({items:[],logicOperator:gt.And,quickFilterValues:[],quickFilterLogicOperator:gt.And});function Wa(e){return{current:e.current.getPublicApi()}}let un=function(e){return e.LEFT="left",e.RIGHT="right",e}({});const fr={left:[],right:[]},Ua=Xe(e=>e.isRtl),Ka=Xe(e=>e.props.listView??!1),qa=Xe(e=>e.listViewColumn),At=Xe(e=>e.columns),Ut=ie(At,e=>e.orderedFields),on=ie(At,e=>e.lookup),Dt=Ae(Ut,on,(e,t)=>e.map(n=>t[n])),Ft=ie(At,e=>e.columnVisibilityModel),np=ie(At,e=>e.initialColumnVisibilityModel),Ze=Ae(Dt,Ft,Ka,qa,(e,t,n,o)=>n&&o?[o]:e.filter(r=>t[r.field]!==!1)),Ro=Ae(Ze,e=>e.map(t=>t.field)),Xa=Xe(e=>e.pinnedColumns);Ae(Xa,Ut,Ua,(e,t,n)=>Ya(e,t,n));const Fr=Ae(At,Xa,Ro,Ua,Ka,(e,t,n,o,r)=>{if(r)return fr;const l=Ya(t,n,o);return{left:l.left.map(c=>e.lookup[c]),right:l.right.map(c=>e.lookup[c])}});function Ya(e,t,n){var c,a;if(!Array.isArray(e.left)&&!Array.isArray(e.right)||((c=e.left)==null?void 0:c.length)===0&&((a=e.right)==null?void 0:a.length)===0)return fr;const o=(u,f)=>Array.isArray(u)?u.filter(h=>f.includes(h)):[],r=o(e.left,t),l=t.filter(u=>!r.includes(u)),s=o(e.right,l);return n?{left:s,right:r}:{left:r,right:s}}const Fn=Ae(Ze,e=>{const t=[];let n=0;for(let o=0;o<e.length;o+=1)t.push(n),n+=e[o].computedWidth;return t}),Qa=Ae(Dt,e=>e.filter(t=>t.filterable)),op=Ae(Dt,e=>e.reduce((t,n)=>(n.filterable&&(t[n.field]=n),t),{})),rp=Ae(Dt,e=>e.some(t=>t.colSpan!==void 0));let go;function lp(){if(go!==void 0)return go;try{go=new Function("return true")()}catch{go=!1}return go}const ul=(e,t)=>{const n=m({},e);if(n.id==null&&(n.id=Math.round(Math.random()*1e5)),n.operator==null){const o=on(t)[n.field];n.operator=o&&o.filterOperators[0].value}return n},Al=(e,t,n)=>{const o=e.items.length>1;let r;o&&t?r=[e.items[0]]:r=e.items;const l=o&&r.some(c=>c.id==null);return r.some(c=>c.operator==null)||l?m({},e,{items:r.map(c=>ul(c,n))}):e.items!==r?m({},e,{items:r}):e},ei=(e,t,n)=>o=>m({},o,{filterModel:Al(e,t,n)}),Fo=e=>typeof e=="string"?e.normalize("NFD").replace(/[\u0300-\u036f]/g,""):e,Ja=(e,t,n)=>{var h;if(!e.field||!e.operator)return null;const o=n.current.getColumn(e.field);if(!o)return null;let r;if(o.valueParser){const g=o.valueParser;r=Array.isArray(e.value)?(h=e.value)==null?void 0:h.map(p=>g(p,void 0,o,n)):g(e.value,void 0,o,n)}else r=e.value;const{ignoreDiacritics:l}=n.current.rootProps;l&&(r=Fo(r));const s=m({},e,{value:r}),c=o.filterOperators;if(!(c!=null&&c.length))throw new Error(`MUI X: No filter operators found for column '${o.field}'.`);const a=c.find(g=>g.value===s.operator);if(!a)throw new Error(`MUI X: No filter operator found for column '${o.field}' and operator value '${s.operator}'.`);const u=Wa(n),f=a.getApplyFilterFn(s,o);return typeof f!="function"?null:{item:s,fn:g=>{let p=t(g,o);return l&&(p=Fo(p)),f(p,g,o,u)}}};let ti=1;const sp=(e,t,n,o)=>{const{items:r}=e,l=r.map(a=>Ja(a,t,n)).filter(a=>!!a);if(l.length===0)return null;if(o||!lp())return(a,u)=>{const f={};for(let h=0;h<l.length;h+=1){const g=l[h];(!u||u(g.item.field))&&(f[g.item.id]=g.fn(a))}return f};const s=new Function("appliers","row","shouldApplyFilter",`"use strict";
${l.map((a,u)=>`const shouldApply${u} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(a.item.field)});`).join(`
`)}

const result$$ = {
${l.map((a,u)=>`  ${JSON.stringify(String(a.item.id))}: !shouldApply${u} ? false : appliers[${u}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(ti)));return ti+=1,(a,u)=>s(l,a,u)},Za=e=>e.quickFilterExcludeHiddenColumns??!0,ip=(e,t,n)=>{var f;const o=((f=e.quickFilterValues)==null?void 0:f.filter(Boolean))??[];if(o.length===0)return null;const r=Ut(n),l=Ft(n);let s;Za(e)?s=r.filter(h=>l[h]!==!1):s=r;const c=[],{ignoreDiacritics:a}=n.current.rootProps,u=Wa(n);return s.forEach(h=>{const g=n.current.getColumn(h),p=g==null?void 0:g.getApplyQuickFilterFn;p&&c.push({column:g,appliers:o.map(w=>{const C=a?Fo(w):w;return{fn:p(C,g,u)}})})}),function(g,p){const w={};e:for(let C=0;C<o.length;C+=1){const b=o[C];for(let x=0;x<c.length;x+=1){const{column:F,appliers:j}=c[x],{field:T}=F;if(p&&!p(T))continue;const I=j[C];let k=t(g,F);if(I.fn===null)continue;if(a&&(k=Fo(k)),I.fn(k,g,F,u)){w[b]=!0;continue e}}w[b]=!1}return w}},ap=(e,t,n,o)=>{const r=sp(e,t,n,o),l=ip(e,t,n);return function(c,a,u){u.passingFilterItems=(r==null?void 0:r(c,a))??null,u.passingQuickFilterValues=(l==null?void 0:l(c,a))??null}},ni=e=>e!=null,cp=(e,t,n,o)=>(e.cleanedFilterItems||(e.cleanedFilterItems=o.filter(r=>Ja(r,t,n)!==null)),e.cleanedFilterItems),up=(e,t,n,o,r,l)=>{const s=cp(l,o,r,n.items),c=e.filter(ni),a=t.filter(ni);if(c.length>0){const u=h=>c.some(g=>g[h.id]);if((n.logicOperator??To().logicOperator)===gt.And){if(!s.every(u))return!1}else if(!s.some(u))return!1}if(a.length>0&&n.quickFilterValues!=null){const u=h=>a.some(g=>g[h]);if((n.quickFilterLogicOperator??To().quickFilterLogicOperator)===gt.And){if(!n.quickFilterValues.every(u))return!1}else if(!n.quickFilterValues.some(u))return!1}return!0},dp=e=>{if(!e)return null;const t=new RegExp(dr(e),"i");return(n,o,r,l)=>{let s=l.current.getRowFormattedValue(o,r);return l.current.ignoreDiacritics&&(s=Fo(s)),s!=null?t.test(s.toString()):!1}},oi=(e,t)=>n=>{if(!n.value)return null;const o=e?n.value:n.value.trim(),r=new RegExp(dr(o),"i");return l=>{if(l==null)return t;const s=r.test(String(l));return t?!s:s}},ri=(e,t)=>n=>{if(!n.value)return null;const o=e?n.value:n.value.trim(),r=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return l=>{if(l==null)return t;const s=r.compare(o,l.toString())===0;return t?!s:s}},li=e=>()=>t=>{const n=t===""||t==null;return e?!n:n},fp=(e=!1)=>[{value:"contains",getApplyFilterFn:oi(e,!1),InputComponent:Et},{value:"doesNotContain",getApplyFilterFn:oi(e,!0),InputComponent:Et},{value:"equals",getApplyFilterFn:ri(e,!1),InputComponent:Et},{value:"doesNotEqual",getApplyFilterFn:ri(e,!0),InputComponent:Et},{value:"startsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`^${dr(n)}.*$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:Et},{value:"endsWith",getApplyFilterFn:t=>{if(!t.value)return null;const n=e?t.value:t.value.trim(),o=new RegExp(`.*${dr(n)}$`,"i");return r=>r!=null?o.test(r.toString()):!1},InputComponent:Et},{value:"isEmpty",getApplyFilterFn:li(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:li(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const n=e?t.value:t.value.map(r=>r.trim()),o=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return r=>r!=null?n.some(l=>o.compare(l,r.toString()||"")===0):!1},InputComponent:Va}],zt={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,chartable:!0,editable:!1,sortComparator:Km,type:"string",align:"left",filterOperators:fp(),renderEditCell:Bm,getApplyQuickFilterFn:dp};function ec(e){return e.key.length===1&&!e.ctrlKey&&!e.metaKey}const hr=e=>e.indexOf("Arrow")===0||e.indexOf("Page")===0||e===" "||e==="Home"||e==="End",hp=e=>!!e.key,tc=e=>e==="Tab"||e==="Escape";function nc(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="V"&&!e.shiftKey&&!e.altKey}function gp(e){return(e.ctrlKey||e.metaKey)&&String.fromCharCode(e.keyCode)==="C"&&!e.shiftKey&&!e.altKey}const oc=d.createContext(void 0),Dr=()=>{const e=d.useContext(oc);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e},mp="MuiDataGridVariables",zl=d.createContext({className:"unset",tag:i.jsx("style",{href:"/unset"})});function rc(){return d.useContext(zl).className}function pp(){return d.useContext(zl)}function bp(e){const t=Dr(),n=ee(),o=t.hooks.useCSSVariables(),r=d.useMemo(()=>{const l=`${mp}-${o.id}`,s=`.${l}{${Cp(o.variables)}}`,c=i.jsx("style",{href:`/${l}`,nonce:n.nonce,children:s});return{className:l,tag:c}},[n.nonce,o]);return i.jsx(zl.Provider,{value:r,children:e.children})}function Cp(e){let t="";for(const n in e)Object.hasOwn(e,n)&&e[n]!==void 0&&(t+=`${n}:${e[n]};`);return t}const wp=["open","target","onClose","children","position","className","onExited"],xp=e=>{const{classes:t}=e;return Fe({root:["menu"]},De,t)},Sp=ke(qt,{name:"MuiDataGrid",slot:"Menu"})({zIndex:oe.zIndex.menu,[`& .${S.menuList}`]:{outline:0}});function jr(e){var b;const{open:t,target:n,onClose:o,children:r,position:l,className:s,onExited:c}=e,a=Q(e,wp),u=Me(),f=ee(),h=xp(f),g=rc(),p=d.useRef(null);Mt(()=>{var x,F;t?p.current=document.activeElement instanceof HTMLElement?document.activeElement:null:((F=(x=p.current)==null?void 0:x.focus)==null||F.call(x),p.current=null)},[t]),d.useEffect(()=>{const x=t?"menuOpen":"menuClose";u.current.publishEvent(x,{target:n})},[u,t,n]);const w=x=>{x.target&&(n===x.target||n!=null&&n.contains(x.target))||o(x)},C=x=>{tc(x.key)&&o(x)};return i.jsx(Sp,m({as:f.slots.basePopper,className:Oe(h.root,s,g),ownerState:f,open:t,target:n,transition:!0,placement:l,onClickAway:w,onExited:c,clickAwayMouseEvent:"onMouseDown",onKeyDown:C},a,(b=f.slotProps)==null?void 0:b.basePopper,{children:r}))}const yp=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],vp=e=>typeof e.getActions=="function";function Ip(e){var P;const{colDef:t,id:n,hasFocus:o,tabIndex:r,position:l="bottom-end",focusElementRef:s}=e,c=Q(e,yp),[a,u]=d.useState(-1),[f,h]=d.useState(!1),g=Me(),p=d.useRef(null),w=d.useRef(null),C=d.useRef(!1),b=d.useRef({}),x=vt(),F=_e(),j=_e(),T=ee();if(!vp(t))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const I=t.getActions(g.current.getRowParams(n)),k=I.filter(E=>!E.props.showInMenu),L=I.filter(E=>E.props.showInMenu),v=k.length+(L.length?1:0);d.useLayoutEffect(()=>{o||Object.entries(b.current).forEach(([E,G])=>{G==null||G.stop({},()=>{delete b.current[E]})})},[o]),d.useEffect(()=>{if(a<0||!p.current||a>=p.current.children.length)return;p.current.children[a].focus({preventScroll:!0})},[a]),d.useEffect(()=>{o||(u(-1),C.current=!1)},[o]),d.useImperativeHandle(s,()=>({focus(){if(!C.current){const E=I.findIndex(G=>!G.props.disabled);u(E)}}}),[I]),d.useEffect(()=>{a>=v&&u(v-1)},[a,v]);const y=()=>{h(!0),u(v-1),C.current=!0},M=()=>{h(!1)},O=E=>{E.stopPropagation(),E.preventDefault(),f?M():y()},D=E=>G=>{b.current[E]=G},$=(E,G)=>_=>{u(E),C.current=!0,G&&G(_)},z=E=>{if(v<=1)return;const G=(R,A)=>{var N;if(R<0||R>I.length)return R;const U=(A==="left"?-1:1)*(x?-1:1);return(N=I[R+U])!=null&&N.props.disabled?G(R+U,A):R+U};let _=a;E.key==="ArrowRight"?_=G(a,"right"):E.key==="ArrowLeft"&&(_=G(a,"left")),!(_<0||_>=v)&&_!==a&&(E.preventDefault(),E.stopPropagation(),u(_))},H=v>0?{role:"menu",onKeyDown:z}:void 0;return i.jsxs("div",m({ref:p,tabIndex:-1,className:S.actionsCell},H,c,{children:[k.map((E,G)=>d.cloneElement(E,{key:G,touchRippleRef:D(G),onClick:$(G,E.props.onClick),tabIndex:a===G?r:-1})),L.length>0&&j&&i.jsx(T.slots.baseIconButton,m({ref:w,id:j,"aria-label":g.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":f,"aria-controls":f?F:void 0,role:"menuitem",size:"small",onClick:O,touchRippleRef:D(j),tabIndex:a===k.length?r:-1},(P=T.slotProps)==null?void 0:P.baseIconButton,{children:i.jsx(T.slots.moreActionsIcon,{fontSize:"small"})})),L.length>0&&i.jsx(jr,{open:f,target:w.current,position:l,onClose:M,children:i.jsx(T.slots.baseMenuList,{id:F,className:S.menuList,"aria-labelledby":j,autoFocusItem:!0,children:L.map((E,G)=>d.cloneElement(E,{key:G,closeMenu:M}))})})]}))}const Mp=e=>i.jsx(Ip,m({},e)),Hr="actions",Pp=m({},zt,{sortable:!1,filterable:!1,aggregable:!1,chartable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:Mp,getApplyQuickFilterFn:()=>null}),kp="__tree_data_group__",lc="__row_group_by_columns_group__",Gl="__detail_panel_toggle__";let je=function(e){return e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.VIRTUAL=3]="VIRTUAL",e}({});const Ep=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],Tp=e=>{const{classes:t}=e;return Fe({root:["booleanCell"]},De,t)};function Fp(e){const{value:t,rowNode:n}=e,o=Q(e,Ep),r=Me(),l=ee(),s={classes:l.classes},c=Tp(s),u=K(r,Ho)>0&&n.type==="group"&&l.treeData===!1,f=d.useMemo(()=>t?l.slots.booleanCellTrueIcon:l.slots.booleanCellFalseIcon,[l.slots.booleanCellFalseIcon,l.slots.booleanCellTrueIcon,t]);return u&&t===void 0?null:i.jsx(f,m({fontSize:"small",className:c.root,titleAccess:r.current.getLocaleText(t?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!t},o))}const Dp=d.memo(Fp),jp=e=>e.field!==lc&&Zn(e.rowNode)?"":i.jsx(Dp,m({},e)),Hp=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],$p=e=>{const{classes:t}=e;return Fe({root:["editBooleanCell"]},De,t)};function Op(e){var x;const{id:t,value:n,field:o,className:r,hasFocus:l,onValueChange:s}=e,c=Q(e,Hp),a=Me(),u=d.useRef(null),f=_e(),[h,g]=d.useState(n),p=ee(),w={classes:p.classes},C=$p(w),b=d.useCallback(async F=>{const j=F.target.checked;s&&await s(F,j),g(j),await a.current.setEditCellValue({id:t,field:o,value:j},F)},[a,o,t,s]);return d.useEffect(()=>{g(n)},[n]),Mt(()=>{l&&u.current.focus()},[l]),i.jsx("label",m({htmlFor:f,className:Oe(C.root,r)},c,{children:i.jsx(p.slots.baseCheckbox,m({id:f,inputRef:u,checked:!!h,onChange:b,size:"small"},(x=p.slotProps)==null?void 0:x.baseCheckbox))}))}const Rp=e=>i.jsx(Op,m({},e)),Lp=["item","applyValue","apiRef","focusElementRef","isFilterActive","headerFilterMenu","clearButton","tabIndex","slotProps"];function Ap(e){var I,k;const{item:t,applyValue:n,apiRef:o,focusElementRef:r,headerFilterMenu:l,clearButton:s,tabIndex:c,slotProps:a}=e,u=Q(e,Lp),[f,h]=d.useState(er(t.value)),g=ee(),p=_e(),w=_e(),C=((I=g.slotProps)==null?void 0:I.baseSelect)||{},b=C.native??!1,x=((k=g.slotProps)==null?void 0:k.baseSelectOption)||{},F=d.useCallback(L=>{const v=er(L.target.value);h(v),n(m({},t,{value:v}))},[n,t]);d.useEffect(()=>{h(er(t.value))},[t.value]);const j=(a==null?void 0:a.root.label)??o.current.getLocaleText("filterPanelInputLabel"),T=a==null?void 0:a.root.slotProps;return i.jsxs(d.Fragment,{children:[i.jsxs(g.slots.baseSelect,m({fullWidth:!0,labelId:p,id:w,label:j,value:f===void 0?"":String(f),onChange:F,native:b,slotProps:{htmlInput:m({ref:r,tabIndex:c},T==null?void 0:T.htmlInput)}},C,u,a==null?void 0:a.root,{children:[i.jsx(g.slots.baseSelectOption,m({},x,{native:b,value:"",children:o.current.getLocaleText("filterValueAny")})),i.jsx(g.slots.baseSelectOption,m({},x,{native:b,value:"true",children:o.current.getLocaleText("filterValueTrue")})),i.jsx(g.slots.baseSelectOption,m({},x,{native:b,value:"false",children:o.current.getLocaleText("filterValueFalse")}))]})),l,s]})}function er(e){if(String(e).toLowerCase()==="true")return!0;if(String(e).toLowerCase()==="false")return!1}const zp=()=>[{value:"is",getApplyFilterFn:e=>{const t=er(e.value);return t===void 0?null:n=>!!n===t},InputComponent:Ap}],Gp=(e,t,n,o)=>e?o.current.getLocaleText("booleanCellTrueLabel"):o.current.getLocaleText("booleanCellFalseLabel"),Bp=e=>{switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},sc=m({},zt,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:jp,renderEditCell:Rp,sortComparator:za,valueFormatter:Gp,filterOperators:zp(),getApplyQuickFilterFn:()=>null,aggregable:!1,chartable:!1,pastedValueParser:e=>Bp(e)});function $r(e){for(const t in e)return!1;return!0}const ic=Xe(e=>e.sorting),Lo=ie(ic,e=>e.sortedRows),Bl=Ae(Lo,Tt,dt,(e,t,n)=>e.reduce((o,r)=>{const l=t[r];if(l)o.push({id:r,model:l});else{const s=n[r];s&&Zn(s)&&o.push({id:r,model:{[In]:r}})}return o},[])),kt=ie(ic,e=>e.sortModel),Vp=Ae(kt,e=>e.reduce((n,o,r)=>(n[o.field]={sortDirection:o.sort,sortIndex:e.length>1?r+1:void 0},n),{}));Ae(Lo,e=>e.reduce((t,n,o)=>(t[n]=o,t),Object.create(null)));const Or=Xe(e=>e.filter),it=ie(Or,e=>e.filterModel),ac=ie(it,e=>e.quickFilterValues),_p=Xe(e=>e.visibleRowsLookup),ao=ie(Or,e=>e.filteredRowsLookup);ie(Or,e=>e.filteredChildrenCountLookup);ie(Or,e=>e.filteredDescendantCountLookup);const Dn=Ae(_p,Bl,(e,t)=>$r(e)?t:t.filter(n=>e[n.id]!==!1)),vn=Ae(Dn,e=>e.map(t=>t.id)),Vl=Ae(ao,Bl,(e,t)=>$r(e)?t:t.filter(n=>e[n.id]!==!1)),cc=Ae(Vl,e=>e.map(t=>t.id));Ae(vn,dt,(e,t)=>{const n={};let o=0;return e.reduce((r,l)=>{const s=t[l];return n[s.depth]||(n[s.depth]=0),s.depth>o&&(n[s.depth]=0),o=s.depth,n[s.depth]+=1,r[l]=n[s.depth],r},{})});const Np=Ae(Vl,dt,Ho,(e,t,n)=>n<2?[e]:e.reduce((o,r)=>{var s;const l=(s=t[r.id])==null?void 0:s.depth;return l===void 0||(o[l]||(o[l]=[]),o[l].push(r)),o},[[]])),uc=ie(Np,e=>e[0]??[]),_l=ie(Dn,e=>e.length),Nl=ie(uc,e=>e.length),dc=ie(Vl,e=>e.length);ie(dc,Nl,(e,t)=>e-t);const Wl=Ae(it,on,(e,t)=>{var n;return(n=e.items)==null?void 0:n.filter(o=>{var s,c;if(!o.field)return!1;const r=t[o.field];if(!(r!=null&&r.filterOperators)||((s=r==null?void 0:r.filterOperators)==null?void 0:s.length)===0)return!1;const l=r.filterOperators.find(a=>a.value===o.operator);return l?!l.InputComponent||o.value!=null&&((c=o.value)==null?void 0:c.toString())!=="":!1})}),Wp=Ae(Wl,e=>e.reduce((n,o)=>(n[o.field]?n[o.field].push(o):n[o.field]=[o],n),{}));Ae(vn,e=>e.reduce((t,n,o)=>(t[n]=o,t),Object.create(null)));const Rt=Xe(e=>e.rowSelection),Ao=Ae(Rt,hn),Rr=ie(Rt,dc,(e,t)=>e.type==="include"?e.ids.size:t-e.ids.size),fc=Ae(Rt,Tt,xn,(e,t,n)=>{const o=new Map;if(e.type==="include")for(const r of e.ids)o.set(r,t[r]);else for(let r=0;r<n.length;r+=1){const l=n[r];e.ids.has(l)||o.set(l,t[l])}return o});function hc(e,t){var a;const n=dt(e),o=Lo(e),r=ao(e),l=n[t];if(!l||l.type!=="group")return[];const s=[],c=o.findIndex(u=>u===t)+1;for(let u=c;u<o.length&&((a=n[o[u]])==null?void 0:a.depth)>l.depth;u+=1){const f=o[u];r[f]!==!1&&e.current.isRowSelectable(f)&&s.push(f)}return s}const Up=ie(dt,ao,Ao,(e,t,n,{groupId:o,autoSelectParents:r})=>{const l=e[o];if(!l||l.type!=="group"||n.has(o))return{isIndeterminate:!1,isChecked:n.has(o)};let s=!1,c=!1;const a=u=>{if(t[u]===!1||s&&c)return;const f=e[u];(f==null?void 0:f.type)==="group"&&f.children.forEach(a),n.has(u)?s=!0:c=!0};return a(o),{isIndeterminate:s&&c,isChecked:r?s&&!c:!1}});function Ul(e){return e.signature===Lt.DataGrid?e.checkboxSelection&&e.disableMultipleRowSelection!==!0:!e.disableMultipleRowSelection}const Kp=(e,t)=>{const n=[];let o=t;for(;o!=null&&o!==ct;){const r=e[o];if(!r)return n;n.push(o),o=r.parent}return n},qp=(e,t,n)=>{const o=e[n];if(!o)return[];const r=o.parent;return r==null?[]:e[r].children.filter(s=>s!==n&&t[s]!==!1)},mo=(e,t,n,o,r,l,s=Ao(e))=>{const c=ao(e),a=new Set([]);if(!(!o&&!r||c[n]===!1)){if(o){const u=t[n];(u==null?void 0:u.type)==="group"&&hc(e,n).forEach(h=>{l(h),a.add(h)})}if(r){const u=g=>{if(!s.has(g)&&!a.has(g))return!1;const p=t[g];return p?p.type!=="group"?!0:p.children.every(u):!1},f=g=>{const p=qp(t,c,g);if(p.length===0||p.every(u)){const w=t[g],C=w==null?void 0:w.parent;C!=null&&C!==ct&&e.current.isRowSelectable(C)&&(l(C),a.add(C),f(C))}},h=t[n];if(!h||h.parent===ct)return;f(n)}}},si=(e,t,n,o,r,l)=>{const s=Ao(e);if(!(!r&&!o)&&(r&&Kp(t,n).forEach(a=>{s.has(a)&&l(a)}),o)){const c=t[n];(c==null?void 0:c.type)==="group"&&hc(e,n).forEach(u=>{l(u)})}},Xp=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],Yp=e=>{const{classes:t}=e;return Fe({root:["checkboxInput"]},De,t)},Qp=me(function(t,n){var F,j;const{field:o,id:r,rowNode:l,tabIndex:s}=t,c=Q(t,Xp),a=Me(),u=ee(),f={classes:u.classes},h=Yp(f),g=T=>{const I={value:T.target.checked,id:r};a.current.publishEvent("rowSelectionCheckboxChange",I,T)};d.useLayoutEffect(()=>{if(s===0){const T=a.current.getCellElement(r,o);T&&(T.tabIndex=-1)}},[a,s,r,o]);const p=d.useCallback(T=>{T.key===" "&&T.stopPropagation()},[]),w=a.current.isRowSelectable(r),{isIndeterminate:C,isChecked:b}=K(a,Up,{groupId:r,autoSelectParents:((F=u.rowSelectionPropagation)==null?void 0:F.parents)??!1});if(l.type==="footer"||l.type==="pinnedRow")return null;const x=a.current.getLocaleText(b&&!C?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return i.jsx(u.slots.baseCheckbox,m({tabIndex:s,checked:b&&!C,onChange:g,className:h.root,slotProps:{htmlInput:{"aria-label":x,name:"select_row"}},onKeyDown:p,indeterminate:C,disabled:!w},(j=u.slotProps)==null?void 0:j.baseCheckbox,c,{ref:n}))}),Jp=Qp,Lr=Xe(e=>e.focus),Ct=ie(Lr,e=>e.cell),Zp=ie(Lr,e=>e.columnHeader);ie(Lr,e=>e.columnHeaderFilter);const gr=ie(Lr,e=>e.columnGroupHeader),Ar=Xe(e=>e.tabIndex),Kl=ie(Ar,e=>e.cell),gc=ie(Ar,e=>e.columnHeader);ie(Ar,e=>e.columnHeaderFilter);const eb=ie(Ar,e=>e.columnGroupHeader),tb=100,nb=e=>e?0:100,mc=(e,t,n)=>t>0&&e>0?Math.ceil(e/t):e===-1?n+2:0,pc=e=>({page:0,pageSize:e?0:100}),ob=(e,t=0)=>t===0?e:Math.max(Math.min(e,t-1),0),bc=(e,t)=>{if(t===Lt.DataGrid&&e>tb)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},rb=-1,co=Xe(e=>e.pagination),Cc=ie(co,e=>e.enabled&&e.paginationMode==="client"),ut=ie(co,e=>e.paginationModel),Nn=ie(co,e=>e.rowCount),wo=ie(co,e=>e.meta),lb=ie(ut,e=>e.page),wc=ie(ut,e=>e.pageSize),xc=ie(ut,Nn,(e,t)=>mc(t,e.pageSize,e.page)),ql=Ae(Cc,ut,dt,Ho,Dn,uc,(e,t,n,o,r,l)=>{var w;if(!e)return null;const s=l.length,c=Math.min(t.pageSize*t.page,s-1),a=t.pageSize===rb?s-1:Math.min(c+t.pageSize-1,s-1);if(c===-1||a===-1)return null;if(o<2)return{firstRowIndex:c,lastRowIndex:a};const u=l[c],f=a-c+1,h=r.findIndex(C=>C.id===u.id);let g=h,p=0;for(;g<r.length&&p<=f;){const C=r[g],b=(w=n[C.id])==null?void 0:w.depth;b===void 0?g+=1:((p<f||b>0)&&(g+=1),b===0&&(p+=1))}return{firstRowIndex:h,lastRowIndex:g-1}}),sb=Ae(Dn,ql,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),Sc=Ae(vn,ql,(e,t)=>t?e.slice(t.firstRowIndex,t.lastRowIndex+1):[]),zo=Ae(Cc,ql,sb,Dn,(e,t,n,o)=>e?{rows:n,range:t,rowIdToIndexMap:n.reduce((r,l,s)=>(r.set(l.id,s),r),new Map)}:{rows:o,range:o.length===0?null:{firstRowIndex:0,lastRowIndex:o.length-1},rowIdToIndexMap:o.reduce((r,l,s)=>(r.set(l.id,s),r),new Map)}),ib=["field","colDef"],ab=e=>{const{classes:t}=e;return Fe({root:["checkboxInput"]},De,t)},cb=me(function(t,n){var L;const o=Q(t,ib),[,r]=d.useState(!1),l=Me(),s=ee(),c={classes:s.classes},a=ab(c),u=K(l,gc),f=K(l,Rt),h=K(l,vn),g=K(l,Sc),p=d.useMemo(()=>{const v=s.isRowSelectable;if(typeof v!="function"||f.type==="exclude")return f;const y={type:"include",ids:new Set};for(const M of f.ids)s.keepNonExistentRowsSelected&&y.ids.add(M),l.current.getRow(M)&&v(l.current.getRowParams(M))&&y.ids.add(M);return y},[l,s.isRowSelectable,s.keepNonExistentRowsSelected,f]),w=d.useMemo(()=>{const v=!s.pagination||!s.checkboxSelectionVisibleOnly||s.paginationMode==="server"?h:g,y=new Set;for(let M=0;M<v.length;M+=1){const O=v[M];l.current.getRow(O)&&l.current.isRowSelectable(O)&&y.add(O)}return y},[l,s.pagination,s.paginationMode,s.checkboxSelectionVisibleOnly,g,h]),C=d.useMemo(()=>{const v=hn(p);let y=0;for(const M of w)v.has(M)&&(y+=1);return y},[p,w]),b=d.useMemo(()=>{if(C===0)return!1;const v=hn(p);for(const y of w)if(!v.has(y))return!0;return!1},[C,p,w]),x=C>0,F=v=>{const y={value:v.target.checked};l.current.publishEvent("headerSelectionCheckboxChange",y)},j=u!==null&&u.field===t.field?0:-1;d.useLayoutEffect(()=>{const v=l.current.getColumnHeaderElement(t.field);j===0&&v&&(v.tabIndex=-1)},[j,l,t.field]);const T=d.useCallback(v=>{v.key===" "&&l.current.publishEvent("headerSelectionCheckboxChange",{value:!x})},[l,x]),I=d.useCallback(()=>{r(v=>!v)},[]);d.useEffect(()=>l.current.subscribeEvent("rowSelectionChange",I),[l,I]);const k=l.current.getLocaleText(x&&!b?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return i.jsx(s.slots.baseCheckbox,m({indeterminate:b,checked:x&&!b,onChange:F,className:a.root,slotProps:{htmlInput:{"aria-label":k,name:"select_all_rows"}},tabIndex:j,onKeyDown:T,disabled:!Ul(s)},(L=s.slotProps)==null?void 0:L.baseCheckbox,o,{ref:n}))}),eo=Xe((e,t)=>In in t?t[In]:e.props.getRowId?e.props.getRowId(t):t.id),$t="__check__",uo=m({},sc,{type:"custom",field:$t,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,chartable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:()=>null,display:"flex",valueGetter:(e,t,n,o)=>{const r=eo(o,t);return o.current.isRowSelected(r)},rowSpanValueGetter:(e,t,n,o)=>eo(o,t),renderHeader:e=>i.jsx(cb,m({},e)),renderCell:e=>i.jsx(Jp,m({},e))}),ub=["item","applyValue","type","apiRef","focusElementRef","slotProps","isFilterActive","headerFilterMenu","clearButton","tabIndex","disabled"];function ii(e,t){if(e==null)return"";const n=new Date(e);return Number.isNaN(n.getTime())?"":t==="date"?n.toISOString().substring(0,10):t==="datetime-local"?(n.setMinutes(n.getMinutes()-n.getTimezoneOffset()),n.toISOString().substring(0,19)):n.toISOString().substring(0,10)}function On(e){var I;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s,headerFilterMenu:c,clearButton:a,tabIndex:u,disabled:f}=e,h=Q(e,ub),g=s==null?void 0:s.root.slotProps,p=io(),[w,C]=d.useState(()=>ii(t.value,o)),[b,x]=d.useState(!1),F=_e(),j=ee(),T=d.useCallback(k=>{p.clear();const L=k.target.value;C(L),x(!0),p.start(j.filterDebounceMs,()=>{const v=new Date(L);n(m({},t,{value:Number.isNaN(v.getTime())?void 0:v})),x(!1)})},[n,t,j.filterDebounceMs,p]);return d.useEffect(()=>{const k=ii(t.value,o);C(k)},[t.value,o]),i.jsxs(d.Fragment,{children:[i.jsx(j.slots.baseTextField,m({fullWidth:!0,id:F,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),value:w,onChange:T,type:o||"text",disabled:f,inputRef:l,slotProps:m({},g,{input:m({endAdornment:b?i.jsx(j.slots.loadIcon,{fontSize:"small",color:"action"}):null},g==null?void 0:g.input),htmlInput:m({max:o==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:u},g==null?void 0:g.htmlInput)})},(I=j.slotProps)==null?void 0:I.baseTextField,h,s==null?void 0:s.root)),c,a]})}function Rn(e,t,n,o){if(!e.value)return null;const r=new Date(e.value);n?r.setSeconds(0,0):(r.setMinutes(r.getMinutes()+r.getTimezoneOffset()),r.setHours(0,0,0,0));const l=r.getTime();return s=>{if(!s)return!1;if(o)return t(s.getTime(),l);const c=new Date(s);return n?c.setSeconds(0,0):c.setHours(0,0,0,0),t(c.getTime(),l)}}const yc=e=>[{value:"is",getApplyFilterFn:t=>Rn(t,(n,o)=>n===o,e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"not",getApplyFilterFn:t=>Rn(t,(n,o)=>n!==o,e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"after",getApplyFilterFn:t=>Rn(t,(n,o)=>n>o,e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:t=>Rn(t,(n,o)=>n>=o,e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"before",getApplyFilterFn:t=>Rn(t,(n,o)=>n<o,e,!e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:t=>Rn(t,(n,o)=>n<=o,e),InputComponent:On,InputComponentProps:{type:e?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1}],db=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange","slotProps"],fb=ke(qt)({fontSize:"inherit"}),hb=e=>{const{classes:t}=e;return Fe({root:["editInputCell"]},De,t)};function gb(e){var T,I;const{id:t,value:n,field:o,colDef:r,hasFocus:l,onValueChange:s,slotProps:c}=e,a=Q(e,db),u=r.type==="dateTime",f=Me(),h=d.useRef(null),g=d.useMemo(()=>{let k;n==null?k=null:n instanceof Date?k=n:k=new Date((n??"").toString());let L;return k==null||Number.isNaN(k.getTime())?L="":L=new Date(k.getTime()-k.getTimezoneOffset()*60*1e3).toISOString().substr(0,u?16:10),{parsed:k,formatted:L}},[n,u]),[p,w]=d.useState(g),C=ee(),b={classes:C.classes},x=hb(b),F=d.useCallback(k=>{if(k==="")return null;const[L,v]=k.split("T"),[y,M,O]=L.split("-"),D=new Date;if(D.setFullYear(Number(y),Number(M)-1,Number(O)),D.setHours(0,0,0,0),v){const[$,z]=v.split(":");D.setHours(Number($),Number(z),0,0)}return D},[]),j=d.useCallback(async k=>{const L=k.target.value,v=F(L);s&&await s(k,v),w({parsed:v,formatted:L}),f.current.setEditCellValue({id:t,field:o,value:v},k)},[f,o,t,s,F]);return d.useEffect(()=>{w(k=>{var L,v;return g.parsed!==k.parsed&&((L=g.parsed)==null?void 0:L.getTime())!==((v=k.parsed)==null?void 0:v.getTime())?g:k})},[g]),Mt(()=>{l&&h.current.focus()},[l]),i.jsx(fb,m({as:C.slots.baseInput,inputRef:h,fullWidth:!0,className:x.root,type:u?"datetime-local":"date",value:p.formatted,onChange:j},a,c==null?void 0:c.root,{slotProps:{htmlInput:m({max:u?"9999-12-31T23:59":"9999-12-31"},(I=(T=c==null?void 0:c.root)==null?void 0:T.slotProps)==null?void 0:I.htmlInput)}}))}const vc=e=>i.jsx(gb,m({},e));function Ic({value:e,columnType:t,rowId:n,field:o}){if(!(e instanceof Date))throw new Error([`MUI X: \`${t}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${n}, field: "${o}".`].join(`
`))}const mb=(e,t,n,o)=>{if(!e)return"";const r=eo(o,t);return Ta(t)&&!(e instanceof Date)?e:(Ic({value:e,columnType:"date",rowId:r,field:n.field}),e.toLocaleDateString())},pb=(e,t,n,o)=>{if(!e)return"";const r=eo(o,t);return Ta(t)&&!(e instanceof Date)?e:(Ic({value:e,columnType:"dateTime",rowId:r,field:n.field}),e.toLocaleString())},bb=m({},zt,{type:"date",sortComparator:Ga,valueFormatter:mb,filterOperators:yc(),renderEditCell:vc,pastedValueParser:e=>new Date(e)}),Cb=m({},zt,{type:"dateTime",sortComparator:Ga,valueFormatter:pb,filterOperators:yc(!0),renderEditCell:vc,pastedValueParser:e=>new Date(e)}),dn=e=>e==null?null:Number(e),wb=e=>e==null||Number.isNaN(e)||e===""?null:t=>dn(t)===dn(e),xb=()=>[{value:"=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>dn(t)===e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>dn(t)!==e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:dn(t)>e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:dn(t)>=e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:dn(t)<e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:e=>e.value==null||Number.isNaN(e.value)?null:t=>t==null?!1:dn(t)<=e.value,InputComponent:Et,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>e=>e==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>e=>e!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:e=>!Array.isArray(e.value)||e.value.length===0?null:t=>t!=null&&e.value.includes(Number(t)),InputComponent:Va,InputComponentProps:{type:"number"}}],Sb=m({},zt,{type:"number",align:"right",headerAlign:"right",sortComparator:za,valueParser:e=>e===""?null:Number(e),valueFormatter:e=>Xm(e)?e.toLocaleString():e||"",filterOperators:xb(),getApplyQuickFilterFn:wb});function Do(e){return(e==null?void 0:e.type)==="singleSelect"}function Mn(e,t){if(e)return typeof e.valueOptions=="function"?e.valueOptions(m({field:e.field},t)):e.valueOptions}function mr(e,t,n){if(t===void 0)return;const o=t.find(r=>{const l=n(r);return String(l)===String(e)});return n(o)}const yb=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen","slotProps"];function vb(e){return"key"in e&&!!e.key}function Ib(e){var M,O;const t=ee(),{id:n,value:o,field:r,row:l,colDef:s,hasFocus:c,error:a,onValueChange:u,initialOpen:f=t.editMode===Kt.Cell,slotProps:h}=e,g=Q(e,yb),p=Me(),w=d.useRef(null),C=d.useRef(null),[b,x]=d.useState(f),j=(((M=t.slotProps)==null?void 0:M.baseSelect)||{}).native??!1;if(Mt(()=>{var D;c&&((D=C.current)==null||D.focus())},[c]),!Do(s))return null;const T=Mn(s,{id:n,row:l});if(!T)return null;const I=s.getOptionValue,k=s.getOptionLabel,L=async D=>{if(!Do(s)||!T)return;x(!1);const $=D.target,z=mr($.value,T,I);u&&await u(D,z),await p.current.setEditCellValue({id:n,field:r,value:z},D)},v=(D,$)=>{if(t.editMode===Kt.Row){x(!1);return}if($==="backdropClick"||D.key==="Escape"){const z=p.current.getCellParams(n,r);p.current.publishEvent("cellEditStop",m({},z,{reason:D.key==="Escape"?Ot.escapeKeyDown:Ot.cellFocusOut}))}},y=D=>{vb(D)&&D.key==="Enter"||x(!0)};return!T||!s?null:i.jsx(t.slots.baseSelect,m({ref:w,value:o,onChange:L,open:b,onOpen:y,onClose:v,error:a,native:j,fullWidth:!0,slotProps:{htmlInput:{ref:C}}},g,h==null?void 0:h.root,(O=t.slotProps)==null?void 0:O.baseSelect,{children:T.map(D=>{var z;const $=I(D);return d.createElement(t.slots.baseSelectOption,m({},((z=t.slotProps)==null?void 0:z.baseSelectOption)||{},{native:j,key:$,value:$}),k(D))})}))}const Mb=e=>i.jsx(Ib,m({},e)),Pb=["item","applyValue","type","apiRef","focusElementRef","tabIndex","isFilterActive","clearButton","headerFilterMenu","slotProps"],kb=({column:e,OptionComponent:t,getOptionLabel:n,getOptionValue:o,isSelectNative:r,baseSelectOptionProps:l})=>["",...Mn(e)||[]].map(c=>{const a=o(c);let u=n(c);return u===""&&(u="â€ƒ"),d.createElement(t,m({},l,{native:r,key:a,value:a}),u)});function ai(e){var k,L,v,y,M;const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,tabIndex:s,clearButton:c,headerFilterMenu:a,slotProps:u}=e,f=Q(e,Pb),h=t.value??"",g=_e(),p=_e(),w=ee(),C=((L=(k=w.slotProps)==null?void 0:k.baseSelect)==null?void 0:L.native)??!1,b=r.current.getColumn(t.field),x=b.getOptionValue,F=b.getOptionLabel,j=d.useMemo(()=>Mn(b),[b]),T=d.useCallback(O=>{let D=O.target.value;D=mr(D,j,x),n(m({},t,{value:D}))},[j,x,n,t]);if(!b||!Do(b))return null;const I=(u==null?void 0:u.root.label)??r.current.getLocaleText("filterPanelInputLabel");return i.jsxs(d.Fragment,{children:[i.jsx(w.slots.baseSelect,m({fullWidth:!0,id:g,label:I,labelId:p,value:h,onChange:T,slotProps:{htmlInput:m({tabIndex:s,ref:l,type:o||"text",placeholder:(u==null?void 0:u.root.placeholder)??r.current.getLocaleText("filterPanelInputPlaceholder")},(v=u==null?void 0:u.root.slotProps)==null?void 0:v.htmlInput)},native:C},(y=w.slotProps)==null?void 0:y.baseSelect,f,u==null?void 0:u.root,{children:kb({column:b,OptionComponent:w.slots.baseSelectOption,getOptionLabel:F,getOptionValue:x,isSelectNative:C,baseSelectOptionProps:(M=w.slotProps)==null?void 0:M.baseSelectOption})})),a,c]})}const Eb=["item","applyValue","type","apiRef","focusElementRef","slotProps"];function Tb(e){const{item:t,applyValue:n,type:o,apiRef:r,focusElementRef:l,slotProps:s}=e,c=Q(e,Eb),a=_e(),u=ee(),f=r.current.getColumn(t.field),h=f.getOptionValue,g=f.getOptionLabel,p=d.useCallback((F,j)=>h(F)===h(j),[h]),w=d.useMemo(()=>Mn(f)||[],[f]),C=d.useMemo(()=>Array.isArray(t.value)?t.value.reduce((F,j)=>{const T=w.find(I=>h(I)===j);return T!=null&&F.push(T),F},[]):[],[h,t.value,w]),b=d.useCallback((F,j)=>{n(m({},t,{value:j.map(h)}))},[n,t,h]);if(!f||!Do(f))return null;const x=u.slots.baseAutocomplete;return i.jsx(x,m({multiple:!0,options:w,isOptionEqualToValue:p,id:a,value:C,onChange:b,getOptionLabel:g,label:r.current.getLocaleText("filterPanelInputLabel"),placeholder:r.current.getLocaleText("filterPanelInputPlaceholder"),slotProps:{textField:{type:o||"text",inputRef:l}}},c,s==null?void 0:s.root))}const Ln=e=>e==null||!Ll(e)?e:e.value,Fb=()=>[{value:"is",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Ln(t)===Ln(e.value),InputComponent:ai},{value:"not",getApplyFilterFn:e=>e.value==null||e.value===""?null:t=>Ln(t)!==Ln(e.value),InputComponent:ai},{value:"isAnyOf",getApplyFilterFn:e=>{if(!Array.isArray(e.value)||e.value.length===0)return null;const t=e.value.map(Ln);return n=>t.includes(Ln(n))},InputComponent:Tb}],Db=e=>typeof e[0]=="object",jb=e=>Ll(e)?e.value:e,Hb=e=>Ll(e)?e.label:String(e),$b=m({},zt,{type:"singleSelect",getOptionLabel:Hb,getOptionValue:jb,valueFormatter(e,t,n,o){const r=eo(o,t);if(!Do(n))return"";const l=Mn(n,{id:r,row:t});if(e==null)return"";if(!l)return e;if(!Db(l))return n.getOptionLabel(e);const s=l.find(c=>n.getOptionValue(c)===e);return s?n.getOptionLabel(s):""},renderEditCell:Mb,filterOperators:Fb(),pastedValueParser:(e,t,n)=>{const o=n,r=Mn(o)||[],l=o.getOptionValue;if(r.find(c=>l(c)===e))return e}}),Ob="string",Rb=()=>({string:zt,number:Sb,date:bb,dateTime:Cb,boolean:sc,singleSelect:$b,[Hr]:Pp,custom:zt}),Xl=Xe(e=>e.headerFiltering),Lb=ie(Xl,e=>(e==null?void 0:e.enabled)??!1),Ab=ie(Xl,e=>e.editing),zb=ie(Xl,e=>e.menuOpen),zr=Xe(e=>e.columnGrouping),Mc=Ae(zr,e=>(e==null?void 0:e.unwrappedGroupingModel)??{}),Pc=Ae(zr,e=>(e==null?void 0:e.lookup)??{}),Gb=Ae(zr,e=>(e==null?void 0:e.headerStructure)??[]),Go=ie(zr,e=>(e==null?void 0:e.maxDepth)??0),kc=["maxWidth","minWidth","width","flex"],Yr=Rb();function Bb({initialFreeSpace:e,totalFlexUnits:t,flexColumns:n}){const o=new Set(n.map(s=>s.field)),r={all:{},frozenFields:[],freeze:s=>{const c=r.all[s];c&&c.frozen!==!0&&(r.all[s].frozen=!0,r.frozenFields.push(s))}};function l(){if(r.frozenFields.length===o.size)return;const s={min:{},max:{}};let c=e,a=t,u=0;r.frozenFields.forEach(f=>{c-=r.all[f].computedWidth,a-=r.all[f].flex});for(let f=0;f<n.length;f+=1){const h=n[f];if(r.all[h.field]&&r.all[h.field].frozen===!0)continue;let p=c/a*h.flex;p<h.minWidth?(u+=h.minWidth-p,p=h.minWidth,s.min[h.field]=!0):p>h.maxWidth&&(u+=h.maxWidth-p,p=h.maxWidth,s.max[h.field]=!0),r.all[h.field]={frozen:!1,computedWidth:p,flex:h.flex}}u<0?Object.keys(s.max).forEach(f=>{r.freeze(f)}):u>0?Object.keys(s.min).forEach(f=>{r.freeze(f)}):n.forEach(({field:f})=>{r.freeze(f)}),l()}return l(),r.all}const dl=(e,t)=>{const n={};let o=0,r=0;const l=[];e.orderedFields.forEach(a=>{let u=e.lookup[a],f=0,h=!1;e.columnVisibilityModel[a]!==!1&&(u.flex&&u.flex>0?(o+=u.flex,h=!0):f=yn(u.width||zt.width,u.minWidth||zt.minWidth,u.maxWidth||zt.maxWidth),r+=f),u.computedWidth!==f&&(u=m({},u,{computedWidth:f})),h&&l.push(u),n[a]=u});const s=t===void 0?0:t.viewportOuterSize.width-(t.hasScrollY?t.scrollbarSize:0),c=Math.max(s-r,0);if(o>0&&s>0){const a=Bb({initialFreeSpace:c,totalFlexUnits:o,flexColumns:l});Object.keys(a).forEach(u=>{n[u]=m({},n[u],{computedWidth:a[u].computedWidth})})}return m({},e,{lookup:n})},Vb=(e,t)=>{if(!t)return e;const{orderedFields:n=[],dimensions:o={}}=t,r=Object.keys(o);if(r.length===0&&n.length===0)return e;const l={},s=[];for(let f=0;f<n.length;f+=1){const h=n[f];e.lookup[h]&&(l[h]=!0,s.push(h))}const c=s.length===0?e.orderedFields:[...s,...e.orderedFields.filter(f=>!l[f])],a=m({},e.lookup);for(let f=0;f<r.length;f+=1){const h=r[f],g=m({},a[h],{hasBeenResized:!0});Object.entries(o[h]).forEach(([p,w])=>{g[p]=w===-1?1/0:w}),a[h]=g}return m({},e,{orderedFields:c,lookup:a})};function Qr(e){let t=Yr[Ob];return e&&Yr[e]&&(t=Yr[e]),t}const Bn=({apiRef:e,columnsToUpsert:t,initialState:n,columnVisibilityModel:o=Ft(e),keepOnlyColumnsToUpsert:r=!1,updateInitialVisibilityModel:l=!1})=>{var h,g;const s=!e.current.state.columns;let c;if(s)c={orderedFields:[],lookup:{},columnVisibilityModel:o,initialColumnVisibilityModel:o};else{const p=At(e);c={orderedFields:r?[]:[...p.orderedFields],lookup:m({},p.lookup),columnVisibilityModel:o,initialColumnVisibilityModel:l?o:p.initialColumnVisibilityModel}}const a={};if(r&&!s)for(const p in c.lookup)Object.prototype.hasOwnProperty.call(c.lookup,p)&&(a[p]=!1);t.forEach(p=>{const{field:w}=p;a[w]=!0;let C=c.lookup[w];C==null?(C=m({},Qr(p.type),{field:w,hasBeenResized:!1}),c.orderedFields.push(w)):r&&c.orderedFields.push(w),C&&C.type!==p.type&&(C=m({},Qr(p.type),{field:w}));let b=C.hasBeenResized;kc.forEach(x=>{p[x]!==void 0&&(b=!0,p[x]===-1&&(p[x]=1/0))}),c.lookup[w]=La(C,m({},Qr(p.type),p,{hasBeenResized:b}))}),r&&!s&&Object.keys(c.lookup).forEach(p=>{a[p]||delete c.lookup[p]});const u=e.current.unstable_applyPipeProcessors("hydrateColumns",c),f=Vb(u,n);return dl(f,((g=(h=e.current).getRootDimensions)==null?void 0:g.call(h))??void 0)};function Bo(e,t){if(t.listView)return 0;const n=Oo(e),o=Go(e),r=Lb(e),l=Math.floor(t.columnHeaderHeight*n),s=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*n),c=r?Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*n):0;return l+s*o+c}const pr=1,Ec=1.5,_b=e=>{const{scrollDirection:t,classes:n}=e,o={root:["scrollArea",`scrollArea--${t}`]};return Fe(o,De,n)},Nb=ze("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(e,t)=>[{[`&.${S["scrollArea--left"]}`]:t["scrollArea--left"]},{[`&.${S["scrollArea--right"]}`]:t["scrollArea--right"]},{[`&.${S["scrollArea--up"]}`]:t["scrollArea--up"]},{[`&.${S["scrollArea--down"]}`]:t["scrollArea--down"]},t.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${S["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${S["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${S["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${S["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),Wb=ie(et,(e,t)=>t==="left"?e.leftPinnedWidth:t==="right"?e.rightPinnedWidth+(e.hasScrollX?e.scrollbarSize:0):0);function Ub(e){const t=Me(),[n,o]=d.useState("none");return le(t,"columnHeaderDragStart",()=>o("horizontal")),le(t,"columnHeaderDragEnd",()=>o("none")),le(t,"rowDragStart",()=>o("vertical")),le(t,"rowDragEnd",()=>o("none")),n==="none"?null:n==="horizontal"?i.jsx(Kb,m({},e)):i.jsx(qb,m({},e))}function Kb(e){const{scrollDirection:t,scrollPosition:n}=e,o=d.useRef(null),r=Me(),l=io(),s=K(r,Oo),c=K(r,jl),a=K(r,Wb,t),u=()=>{const C=et(r);if(t==="left")return n.current.left>0;if(t==="right"){const b=c-C.viewportInnerSize.width;return n.current.left<b}return!1},f=ee(),h=Bo(r,f),g=Math.floor(f.columnHeaderHeight*s),p=m({height:g,top:h-g},t==="left"?{left:a}:{},t==="right"?{right:a}:{}),w=Be(C=>{let b;if(C.preventDefault(),t==="left")b=C.clientX-o.current.getBoundingClientRect().right;else if(t==="right")b=Math.max(1,C.clientX-o.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");b=(b-pr)*Ec+pr,l.start(0,()=>{r.current.scroll({left:n.current.left+b,top:n.current.top})})});return i.jsx(Tc,m({},e,{ref:o,getCanScrollMore:u,style:p,handleDragOver:w}))}function qb(e){const{scrollDirection:t,scrollPosition:n}=e,o=d.useRef(null),r=Me(),l=io(),s=K(r,Hl),c=()=>{const g=et(r);if(t==="up")return n.current.top>0;if(t==="down"){const w=(s.currentPageTotalHeight||0)-g.viewportInnerSize.height-(g.hasScrollX?g.scrollbarSize:0);return n.current.top<w}return!1},a=ee(),u=Bo(r,a),f={top:t==="up"?u:void 0,bottom:t==="down"?0:void 0},h=Be(g=>{let p;if(g.preventDefault(),t==="up")p=g.clientY-o.current.getBoundingClientRect().bottom;else if(t==="down")p=Math.max(1,g.clientY-o.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");p=(p-pr)*Ec+pr,l.start(0,()=>{r.current.scroll({left:n.current.left,top:n.current.top+p})})});return i.jsx(Tc,m({},e,{ref:o,getCanScrollMore:c,style:f,handleDragOver:h}))}const Tc=me(function(t,n){const{scrollDirection:o,getCanScrollMore:r,style:l,handleDragOver:s}=t,c=Me(),[a,u]=d.useState(r),f=ee(),h=m({},f,{scrollDirection:o}),g=_b(h);return le(c,"scrollPositionChange",()=>{u(r)}),a?i.jsx(Nb,{ref:n,className:g.root,ownerState:h,onDragOver:s,style:l}):null}),Xo=nn(Ub),Fc=d.createContext(void 0);function Pt(){const e=d.useContext(Fc);if(e===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return e}function Ee(e,t,n){const o=d.useRef(!0);Mt(()=>{o.current=!1,e.current.register(n,t)},[e,n,t]),o.current&&e.current.register(n,t)}function ft(e,t){const n=d.useRef(null);if(n.current)return n.current;const o=e.current.getLogger(t);return n.current=o,o}const Dc=(e,t,n,o,r)=>{const l=ft(e,"useNativeEventListener");We(e,"rootMount",()=>{const s=t();if(!(!s||!n))return l.debug(`Binding native ${n} event`),s.addEventListener(n,o,r),()=>{l.debug(`Clearing native ${n} event`),s.removeEventListener(n,o,r)}})};function fo(e){const t=d.useRef(!0);t.current&&(t.current=!1,e())}const Xb=ze("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"&&e!=="right"})(({overlayType:e,loadingOverlayVariant:t,right:n})=>t!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,right:`${n}px`,width:0,height:0,zIndex:e==="loadingOverlay"?5:4}:{}),Yb=ze("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:e=>e!=="overlayType"&&e!=="loadingOverlayVariant"})({}),Qb=e=>{const{classes:t}=e;return Fe({root:["overlayWrapper"],inner:["overlayWrapperInner"]},De,t)};function Jb(e){const t=Me(),n=ee(),o=K(t,et);let r=Math.max(o.viewportOuterSize.height-o.topContainerHeight-o.bottomContainerHeight-(o.hasScrollX?o.scrollbarSize:0),0);r===0&&(r=Fa);const l=Qb(m({},e,{classes:n.classes}));return i.jsx(Xb,m({className:l.root},e,{right:o.columnsTotalWidth-o.viewportOuterSize.width,children:i.jsx(Yb,m({className:l.inner,style:{height:r,width:o.viewportOuterSize.width}},e))}))}const jc=Xe(e=>e.pivoting),Pn=ie(jc,e=>e==null?void 0:e.active),Zb=new Map,Yl=ie(jc,e=>(e==null?void 0:e.initialColumns)||Zb),eC=()=>{var x,F;const e=Me(),t=ee(),n=K(e,so),o=K(e,_l),r=K(e,Pa),l=K(e,Ze),s=n===0&&r===0,c=K(e,cm),a=K(e,Pn),u=!c&&s,f=!c&&n>0&&o===0,h=!c&&l.length===0,g=u&&a;let p=null,w=null;u&&(p="noRowsOverlay"),h&&(p="noColumnsOverlay"),g&&(p="emptyPivotOverlay"),f&&(p="noResultsOverlay"),c&&(p="loadingOverlay",w=((F=(x=t.slotProps)==null?void 0:x.loadingOverlay)==null?void 0:F[s?"noRowsVariant":"variant"])??(s?"skeleton":"linear-progress"));const C={overlayType:p,loadingOverlayVariant:w};return{getOverlay:()=>{var I,k;if(!p)return null;const j=(I=t.slots)==null?void 0:I[p],T=(k=t.slotProps)==null?void 0:k[p];return i.jsx(Jb,m({},C,{children:i.jsx(j,m({},T))}))},overlaysProps:C}},tr=Xe(e=>e.columnMenu);function tC(){var b;const e=Pt(),t=ee(),n=K(e,Ze),o=K(e,Wp),r=K(e,Vp),l=K(e,gc),s=K(e,()=>Kl(e)===null),c=K(e,eb),a=K(e,Zp),u=K(e,gr),f=K(e,Go),h=K(e,tr),g=K(e,Ft),p=K(e,Gb),w=!(c===null&&l===null&&s),C=e.current.columnHeadersContainerRef;return i.jsx(t.slots.columnHeaders,m({ref:C,visibleColumns:n,filterColumnLookup:o,sortColumnLookup:r,columnHeaderTabIndexState:l,columnGroupHeaderTabIndexState:c,columnHeaderFocus:a,columnGroupHeaderFocus:u,headerGroupingMaxDepth:f,columnMenuState:h,columnVisibility:g,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:w},(b=t.slotProps)==null?void 0:b.columnHeaders))}const nC=nn(tC),oC=ze("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),rC=ze("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(e,t)=>{const{ownerState:n,loadingOverlayVariant:o,overlayType:r}=e,l=o==="skeleton"||r==="noColumnsOverlay";return[t.main,n.hasPinnedRight&&t["main--hasPinnedRight"],l&&t["main--hiddenContent"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),lC=me((e,t)=>{var s;const{ownerState:n}=e,o=ee(),l=Dr().hooks.useGridAriaAttributes();return i.jsxs(rC,m({ownerState:n,className:e.className,tabIndex:-1},l,(s=o.slotProps)==null?void 0:s.main,{ref:t,children:[i.jsx(oC,{role:"presentation","data-id":"gridPanelAnchor"}),e.children]}))}),sC=()=>Fe({root:["topContainer"]},De,{}),iC=ze("div")({position:"sticky",zIndex:40,top:0});function aC(e){const t=sC();return i.jsx(iC,m({},e,{className:Oe(t.root,S["container--top"]),role:"presentation"}))}const cC=(e,t)=>{const{classes:n}=e;return Fe({root:["virtualScrollerContent",t&&"virtualScrollerContent--overflowed"]},De,n)},uC=ze("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScrollerContent,n.overflowedContent&&t["virtualScrollerContent--overflowed"]]}})({}),dC=me(function(t,n){var c;const o=ee(),r=!o.autoHeight&&((c=t.style)==null?void 0:c.minHeight)==="auto",l=cC(o,r),s={classes:o.classes,overflowedContent:r};return i.jsx(uC,m({},t,{ownerState:s,className:Oe(l.root,t.className),ref:n}))}),fC=ze("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),Hc=ze("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:oe.cell.background.pinned}),hC=ze(Hc)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),gC=ze(Hc)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),mC=ze("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function pC({rowsLength:e}){const t=Me(),{viewportOuterSize:n,minimumSize:o,hasScrollX:r,hasScrollY:l,scrollbarSize:s,leftPinnedWidth:c,rightPinnedWidth:a}=K(t,et),u=r?s:0,f=n.height-o.height>0;return u===0&&!f?null:i.jsxs(fC,{className:S.filler,role:"presentation",style:{height:u,"--rowBorderColor":e===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[c>0&&i.jsx(hC,{className:S["filler--pinnedLeft"],style:{width:c}}),i.jsx(mC,{}),a>0&&i.jsx(gC,{className:S["filler--pinnedRight"],style:{width:a+(l?s:0)}})]})}const bC=nn(pC),CC=["className"],wC=e=>{const{classes:t}=e;return Fe({root:["virtualScrollerRenderZone"]},De,t)},xC=ze("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone"})({position:"absolute",display:"flex",flexDirection:"column"}),SC=me(function(t,n){const{className:o}=t,r=Q(t,CC),l=Pt(),s=ee(),c=wC(s),a=l.current.virtualizer.api.useVirtualization().getters.getOffsetTop();return i.jsx(xC,m({className:Oe(c.root,o),ownerState:s,style:{transform:`translate3d(0, ${a}px, 0)`}},r,{ref:n}))}),yC={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},at=Xe(e=>e.editRows),$c=ie(at,(e,{rowId:t,editMode:n})=>n===Kt.Row&&!!e[t]),vC=ie(at,(e,{rowId:t,field:n})=>{var o;return((o=e[t])==null?void 0:o[n])??null}),kn=Xe(e=>e.preferencePanel),IC=ie(kn,(e,t)=>!!(e.open&&e.labelId===t));var mt=function(e){return e.filters="filters",e.columns="columns",e.aiAssistant="aiAssistant",e}(mt||{});const ci={};function Vo(e,t){const n=d.useRef(ci);return n.current===ci&&(n.current=e(t)),n}const MC=Tl({memoize:Pr,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),Jr=(e,t,n,o,r,l,...s)=>{if(s.length>0)throw new Error("Unsupported number of selectors");let c;if(e&&t&&n&&o&&r&&l)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h),C=o(a,u,f,h),b=r(a,u,f,h);return l(g,p,w,C,b,u,f,h)};else if(e&&t&&n&&o&&r)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h),C=o(a,u,f,h);return r(g,p,w,C,u,f,h)};else if(e&&t&&n&&o)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h),w=n(a,u,f,h);return o(g,p,w,u,f,h)};else if(e&&t&&n)c=(a,u,f,h)=>{const g=e(a,u,f,h),p=t(a,u,f,h);return n(g,p,u,f,h)};else if(e&&t)c=(a,u,f,h)=>{const g=e(a,u,f,h);return t(g,u,f,h)};else if(e)c=e;else throw new Error("Missing arguments");return c},PC=(...e)=>{const t=new WeakMap;let n=1;const o=e[e.length-1],r=e.length-1||1,l=Math.max(o.length-r,0);if(l>3)throw new Error("Unsupported number of arguments");return(c,a,u,f)=>{let h=c.__cacheKey__;h||(h={id:n},c.__cacheKey__=h,n+=1);let g=t.get(h);if(!g){const p=e.length===1?[b=>b,o]:e;let w=e;const C=[void 0,void 0,void 0];switch(l){case 0:break;case 1:{w=[...p.slice(0,-1),()=>C[0],o];break}case 2:{w=[...p.slice(0,-1),()=>C[0],()=>C[1],o];break}case 3:{w=[...p.slice(0,-1),()=>C[0],()=>C[1],()=>C[2],o];break}default:throw new Error("Unsupported number of arguments")}g=MC(...w),g.selectorArgs=C,t.set(h,g)}switch(l){case 3:g.selectorArgs[2]=f;case 2:g.selectorArgs[1]=u;case 1:g.selectorArgs[0]=a}switch(l){case 0:return g(c);case 1:return g(c,a);case 2:return g(c,a,u);case 3:return g(c,a,u,f);default:throw new Error("unreachable")}}};function cn(e,t,n,o,r){const l=s=>t(s,n,o,r);return ya.useSyncExternalStoreWithSelector(e.subscribe,e.getSnapshot,e.getSnapshot,l)}const kC=[];function Oc(e){d.useEffect(e,kC)}const EC=()=>{};function TC(e,t,n){const o=Vo(FC,{store:e,selector:t}).current;o.effect=n,Oc(o.onMount)}function FC(e){const{store:t,selector:n}=e;let o=n(t.state);const r={effect:EC,dispose:null,subscribe:()=>{r.dispose??(r.dispose=t.subscribe(l=>{const s=n(l);r.effect(o,s),o=s}))},onMount:()=>(r.subscribe(),()=>{var l;(l=r.dispose)==null||l.call(r),r.dispose=null})};return r.subscribe(),r}class Ql{constructor(t){nt(this,"subscribe",t=>(this.listeners.add(t),()=>{this.listeners.delete(t)}));nt(this,"getSnapshot",()=>this.state);this.state=t,this.listeners=new Set,this.updateTick=0}static create(t){return new Ql(t)}setState(t){this.state=t,this.updateTick+=1;const n=this.updateTick,o=this.listeners.values();let r;for(;r=o.next(),!r.done;){if(n!==this.updateTick)return;const l=r.value;l(t)}}update(t){for(const n in t)if(!Object.is(this.state[n],t[n])){this.setState(m({},this.state,t));return}}set(t,n){Object.is(this.state[t],n)||this.setState(m({},this.state,{[t]:n}))}}const DC=typeof window<"u"?d.useLayoutEffect:d.useEffect,En=DC;function pn(e){const t=d.useRef(e);return En(()=>{t.current=e}),d.useRef((...n)=>(0,t.current)(...n)).current}const jC={},HC={initialize:$C,use:OC,selectors:jC};function $C(e){return{colspanMap:new Map}}function OC(e,t,n){var c;const o=(c=t.colspan)==null?void 0:c.getColspan,r=()=>{e.state.colspanMap=new Map},l=(a,u)=>{var f;return(f=e.state.colspanMap.get(a))==null?void 0:f[u]},s=pn(o?(a,u,f,h)=>{for(let g=u;g<f;g+=1){const p=RC(e.state.colspanMap,g,a,u,f,h,o);p.colSpan>1&&(g+=p.colSpan-1)}}:()=>{});return n.calculateColSpan=s,{resetColSpan:r,getCellColSpanInfo:l,calculateColSpan:s}}function RC(e,t,n,o,r,l,s){const c=l.length,a=l[t],u=s(n,a,t);if(!u||u===1)return Zr(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:1,width:a.computedWidth}}),{colSpan:1};let f=a.computedWidth;for(let h=1;h<u;h+=1){const g=t+h;if(g>=o&&g<r){const p=l[g];f+=p.computedWidth,Zr(e,n,t+h,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(t+u,c-1),leftVisibleCellIndex:t})}Zr(e,n,t,{spannedByColSpan:!1,cellProps:{colSpan:u,width:f}})}return{colSpan:u}}function Zr(e,t,n,o){let r=e.get(t);r||(r={},e.set(t,r)),r[n]=o}function LC(e){return e&&e.ownerDocument||document}function AC(e,t=166){let n,o;const r=()=>{n=void 0,e(...o)};function l(...s){o=s,n===void 0&&(n=setTimeout(r,t))}return l.clear=()=>{clearTimeout(n),n=void 0},l}function nr(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(!nr(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;for(let l=0;l<r.length;l+=1){const s=r[l];if(!nr(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;for(let r=0;r<o;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<o;r+=1){const l=n[r];if(!nr(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}function xo(e,t){return Math.round(e*10**t)/10**t}const en={EMPTY:{width:0,height:0},equals:(e,t)=>e.width===t.width&&e.height===t.height},zC={EMPTY:{top:[],bottom:[]}},GC={EMPTY:{left:[],right:[]}};let tt=function(e){return e[e.NONE=0]="NONE",e[e.UP=1]="UP",e[e.DOWN=2]="DOWN",e[e.LEFT=3]="LEFT",e[e.RIGHT=4]="RIGHT",e}({});(function(e){function t(n,o){return n===0&&o===0?tt.NONE:Math.abs(o)>=Math.abs(n)?o>0?tt.DOWN:tt.UP:n>0?tt.RIGHT:tt.LEFT}e.forDelta=t})(tt||(tt={}));const BC={isReady:!1,root:en.EMPTY,viewportOuterSize:en.EMPTY,viewportInnerSize:en.EMPTY,contentSize:en.EMPTY,minimumSize:en.EMPTY,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,topContainerHeight:0,bottomContainerHeight:0},Wn={rootSize:e=>e.rootSize,dimensions:e=>e.dimensions,rowHeight:e=>e.dimensions.rowHeight,contentHeight:e=>e.dimensions.contentSize.height,rowsMeta:e=>e.rowsMeta,columnPositions:PC((e,t)=>{const n=[];let o=0;for(let r=0;r<t.length;r+=1)n.push(o),o+=t[r].computedWidth;return n}),needsHorizontalScrollbar:e=>e.dimensions.viewportOuterSize.width>0&&e.dimensions.columnsTotalWidth>e.dimensions.viewportOuterSize.width},wt={initialize:VC,use:_C,selectors:Wn};function VC(e){const t=m({},BC,e.dimensions),{rowCount:n}=e,{rowHeight:o}=t,r={currentPageTotalHeight:n*o,positions:Array.from({length:n},(s,c)=>c*o),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0},l=new Map;return{rootSize:en.EMPTY,dimensions:t,rowsMeta:r,rowHeights:l}}function _C(e,t,n){const o=d.useRef(!0),{refs:r,dimensions:{rowHeight:l,columnsTotalWidth:s,leftPinnedWidth:c,rightPinnedWidth:a,topPinnedHeight:u,bottomPinnedHeight:f},onResize:h}=t,g=r.container.current,p=d.useCallback(()=>{if(o.current)return;const j=Wn.rootSize(e.state),T=Wn.rowsMeta(e.state),I=UC(g,t.dimensions.scrollbarSize),k=u+T.pinnedTopRowsTotalHeight,L=f+T.pinnedBottomRowsTotalHeight,v={width:s,height:xo(T.currentPageTotalHeight,1)};let y,M,O=!1,D=!1;if(t.autoHeight)D=!1,O=Math.round(s)>Math.round(j.width),y={width:j.width,height:k+L+v.height},M={width:Math.max(0,y.width-(D?I:0)),height:Math.max(0,y.height-(O?I:0))};else{y={width:j.width,height:j.height},M={width:Math.max(0,y.width),height:Math.max(0,y.height-k-L)};const E=v,G=M,_=E.width>G.width,R=E.height>G.height;(_||R)&&(D=R,O=E.width+(D?I:0)>G.width,O&&(D=E.height+I>G.height)),D&&(M.width-=I),O&&(M.height-=I)}const $=Math.max(y.width,s+(D?I:0)),z={width:s,height:k+v.height+L},H={isReady:!0,root:j,viewportOuterSize:y,viewportInnerSize:M,contentSize:v,minimumSize:z,hasScrollX:O,hasScrollY:D,scrollbarSize:I,rowWidth:$,rowHeight:l,columnsTotalWidth:s,leftPinnedWidth:c,rightPinnedWidth:a,topContainerHeight:k,bottomContainerHeight:L},P=e.state.dimensions;nr(P,H)||(e.update({dimensions:H}),h==null||h(H.root))},[e,g,t.dimensions.scrollbarSize,t.autoHeight,h,l,s,c,a,u,f]),{resizeThrottleMs:w}=t,C=pn(p),b=d.useMemo(()=>w>0?AC(C,w):void 0,[w,C]);d.useEffect(()=>b==null?void 0:b.clear,[b]);const x=pn(j=>{e.state.rootSize=j,o.current||!b?(o.current=!1,p()):b()});En(()=>WC(g,e,x),[g,e,x]),En(p,[p]);const F=NC(e,t,p);return{updateDimensions:p,debouncedUpdateDimensions:b,rowsMeta:F}}function NC(e,t,n){const o=e.state.rowHeights,{rows:r,getRowHeight:l,getRowSpacing:s,getEstimatedRowHeight:c}=t,a=d.useRef(-1),u=d.useRef(!1),f=d.useRef(!1),h=t.pinnedRows,g=cn(e,Wn.rowHeight),p=pn(M=>{let O=o.get(M);return O===void 0&&(O={content:e.state.dimensions.rowHeight,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},o.set(M,O)),O}),{applyRowHeight:w}=t,C=d.useCallback(M=>{const O=Wn.dimensions(e.state),D=O.rowHeight,$=p(M.id);if(!l)$.content=D,$.needsFirstMeasurement=!1;else{const z=l(M);if(z==="auto"){if($.needsFirstMeasurement){const H=c?c(M):D;$.content=H??D}u.current=!0,$.autoHeight=!0}else $.content=z??O.rowHeight,$.needsFirstMeasurement=!1,$.autoHeight=!1}if(s){const z=s(M);$.spacingTop=z.top??0,$.spacingBottom=z.bottom??0}else $.spacingTop=0,$.spacingBottom=0;return w==null||w($,M),$},[e,l,p,c,g,s,w]),b=d.useCallback(()=>{u.current=!1;const M=(h==null?void 0:h.top.reduce((P,E)=>{const G=C(E);return P+G.content+G.spacingTop+G.spacingBottom+G.detail},0))??0,O=(h==null?void 0:h.bottom.reduce((P,E)=>{const G=C(E);return P+G.content+G.spacingTop+G.spacingBottom+G.detail},0))??0,D=[],$=r.reduce((P,E)=>{D.push(P);const G=C(E),_=G.content+G.spacingTop+G.spacingBottom+G.detail;return P+_},0);u.current||(a.current=1/0);const z=M!==e.state.rowsMeta.pinnedTopRowsTotalHeight||O!==e.state.rowsMeta.pinnedBottomRowsTotalHeight||$!==e.state.rowsMeta.currentPageTotalHeight,H={currentPageTotalHeight:$,positions:D,pinnedTopRowsTotalHeight:M,pinnedBottomRowsTotalHeight:O};e.set("rowsMeta",H),z&&n(),f.current=!0},[e,h,r,C,n]),x=pn(b),F=M=>{var O;return((O=o.get(M))==null?void 0:O.content)??Wn.rowHeight(e.state)},j=(M,O)=>{const D=p(M),$=D.content!==O;D.needsFirstMeasurement=!1,D.content=O,f.current&&(f.current=!$)},T=M=>{var O;return((O=o.get(M))==null?void 0:O.autoHeight)??!1},I=()=>a.current,k=M=>{u.current&&M>a.current&&(a.current=M)},L=()=>{o.clear(),b()},v=Vo(()=>typeof ResizeObserver>"u"?void 0:new ResizeObserver(M=>{var O,D;for(let $=0;$<M.length;$+=1){const z=M[$],H=z.borderBoxSize&&z.borderBoxSize.length>0?z.borderBoxSize[0].blockSize:z.contentRect.height,P=z.target.__mui_id;if(((D=(O=t.focusedVirtualCell)==null?void 0:O.call(t))==null?void 0:D.id)===P&&H===0)return;j(P,H)}f.current||requestAnimationFrame(()=>{x()})})).current,y=(M,O)=>(M.__mui_id=O,v==null||v.observe(M),()=>v==null?void 0:v.unobserve(M));return En(()=>{b()},[b]),{getRowHeight:F,setLastMeasuredRowIndex:k,storeRowHeightMeasurement:j,hydrateRowsMeta:b,observeRowHeight:y,rowHasAutoHeight:T,getRowHeightEntry:p,getLastMeasuredRowIndex:I,resetRowHeights:L}}function WC(e,t,n){if(!e)return;const o=e.getBoundingClientRect(),r={width:xo(o.width,1),height:xo(o.height,1)};if((t.state.rootSize===en.EMPTY||!en.equals(r,t.state.rootSize))&&n(r),typeof ResizeObserver>"u")return;const l=new ResizeObserver(([s])=>{if(!s)return;const c={width:xo(s.contentRect.width,1),height:xo(s.contentRect.height,1)};en.equals(c,t.state.rootSize)||n(c)});return l.observe(e),()=>{l.disconnect()}}const ui=new WeakMap;function UC(e,t){if(t!==void 0)return t;if(e===null)return 0;const n=ui.get(e);if(n!==void 0)return n;const r=LC(e).createElement("div");r.style.width="99px",r.style.height="99px",r.style.position="absolute",r.style.overflow="scroll",r.className="scrollDiv",e.appendChild(r);const l=r.offsetWidth-r.clientWidth;return e.removeChild(r),ui.set(e,l),l}class Jl{constructor(){nt(this,"currentId",null);nt(this,"clear",()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)});nt(this,"disposeEffect",()=>this.clear)}static create(){return new Jl}start(t,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},t)}}function KC(){const e=Vo(Jl.create).current;return Oc(e.disposeEffect),e}const qC=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",XC=qC.includes("firefox"),el=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),YC=()=>{},QC=(e,t)=>{const n=d.useRef(!1);En(()=>n.current||!e?YC:(n.current=!0,t()),[n.current||e])};function JC(e){const t=d.useRef(!0);t.current&&(t.current=!1,e())}const Un=(e,t,n)=>Math.max(t,Math.min(n,e)),tl=50,di={top:0,left:0},ZC=Object.freeze(new Map),br={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},or={renderContext:Jr(e=>e.virtualization.renderContext),enabledForRows:Jr(e=>e.virtualization.enabledForRows),enabledForColumns:Jr(e=>e.virtualization.enabledForColumns)},Rc={initialize:ew,use:tw,selectors:or};function ew(e){var n;return{virtualization:m({enabled:!el,enabledForRows:!el,enabledForColumns:!el,renderContext:br},(n=e.initialState)==null?void 0:n.virtualization),getters:null}}function tw(e,t,n){const{refs:o,dimensions:{rowHeight:r,columnsTotalWidth:l},virtualization:{isRtl:s=!1,rowBufferPx:c=150,columnBufferPx:a=150},colspan:u,initialState:f,rows:h,range:g,columns:p,pinnedRows:w=zC.EMPTY,pinnedColumns:C=GC.EMPTY,minimalContentHeight:b,autoHeight:x,onWheel:F,onTouchMove:j,onRenderContextChange:T,onScrollChange:I,scrollReset:k,renderRow:L,renderInfiniteLoadingTrigger:v}=t,y=cn(e,wt.selectors.needsHorizontalScrollbar),M=w.bottom.length>0,[O,D]=d.useState(ZC),[,$]=d.useState(0),z=d.useRef(!1),H=cn(e,or.renderContext),P=cn(e,or.enabledForRows),E=cn(e,or.enabledForColumns),G=cn(e,wt.selectors.rowsMeta),_=cn(e,wt.selectors.contentHeight),R=d.useRef((f==null?void 0:f.scroll)??di),A=d.useRef(!1),V=d.useRef(di),U=d.useRef(br),N=KC(),J=d.useRef(void 0),q=Vo(()=>rw(s,c,a,r*15,tl*6)).current,ue=d.useCallback(Y=>{mi(Y,e.state.virtualization.renderContext)||e.set("virtualization",m({},e.state.virtualization,{renderContext:Y}));const ae=wt.selectors.dimensions(e.state).isReady,xe=Y.firstRowIndex!==U.current.firstRowIndex||Y.lastRowIndex!==U.current.lastRowIndex;ae&&xe&&(U.current=Y,T==null||T(Y)),V.current=R.current},[e,T]),de=pn(()=>{const Y=o.scroller.current;if(!Y)return;const ae=wt.selectors.dimensions(e.state),xe=Math.ceil(ae.minimumSize.height-ae.viewportOuterSize.height),ye=Math.ceil(ae.minimumSize.width-ae.viewportInnerSize.width),Ie={top:Un(Y.scrollTop,0,xe),left:s?Un(Y.scrollLeft,-ye,0):Un(Y.scrollLeft,0,ye)},$e=Ie.left-R.current.left,Ve=Ie.top-R.current.top,ot=$e!==0||Ve!==0;R.current=Ie;const Se=ot?tt.forDelta($e,Ve):tt.NONE,Pe=Math.abs(R.current.top-V.current.top),Te=Math.abs(R.current.left-V.current.left),Ye=Pe>=r||Te>=tl,Je=q.direction!==Se;if(!(Ye||Je))return H;if(Je)switch(Se){case tt.NONE:case tt.LEFT:case tt.RIGHT:J.current=void 0;break;default:J.current=H;break}q.direction=Se,q.buffer=Ac(s,Se,c,a,r*15,tl*6);const ne=fi(e,t,n,P,E),be=hi(ne,R.current,q);return mi(be,H)||(yu.flushSync(()=>{ue(be)}),N.start(1e3,de)),be}),se=pn(()=>{if(!wt.selectors.dimensions(e.state).isReady&&(P||E))return;const Y=fi(e,t,n,P,E),ae=hi(Y,R.current,q);J.current=void 0,ue(ae)}),W=pn(()=>{if(A.current){A.current=!1;return}const Y=de();Y&&(I==null||I(R.current,Y))}),X=()=>G.positions[H.firstRowIndex]??0,te=(Y={},ae)=>{var ne;if(!Y.rows&&!g)return[];let xe=H;Y.renderContext&&(xe=Y.renderContext,xe.firstColumnIndex=H.firstColumnIndex,xe.lastColumnIndex=H.lastColumnIndex);const ye=!M&&Y.position===void 0||M&&Y.position==="bottom",Ie=Y.position!==void 0;let $e;switch(Y.position){case"top":$e=0;break;case"bottom":$e=w.top.length+h.length;break;case void 0:default:$e=w.top.length;break}const Ve=Y.rows??h,ot=xe.firstRowIndex,Se=Math.min(xe.lastRowIndex,Ve.length),Pe=Y.rows?pi(0,Y.rows.length):pi(ot,Se);let Te=-1;const Ye=(ne=t.focusedVirtualCell)==null?void 0:ne.call(t);!Ie&&Ye&&(Ye.rowIndex<ot&&(Pe.unshift(Ye.rowIndex),Te=Ye.rowIndex),Ye.rowIndex>Se&&(Pe.push(Ye.rowIndex),Te=Ye.rowIndex));const Je=[],ce=wt.selectors.columnPositions(e.state,p);return Pe.forEach(be=>{const{id:Ce,model:Ne}=Ve[be];if(ae&&!ae[Ce])return;const rt=((g==null?void 0:g.firstRowIndex)||0)+$e+be;if(u!=null&&u.enabled){const _r=C.left.length,cs=p.length-C.right.length;n.calculateColSpan(Ce,_r,cs,p),C.left.length>0&&n.calculateColSpan(Ce,0,C.left.length,p),C.right.length>0&&n.calculateColSpan(Ce,p.length-C.right.length,p.length,p)}const pt=n.rowsMeta.rowHasAutoHeight(Ce)?"auto":n.rowsMeta.getRowHeight(Ce);let Vt=!1;Y.position===void 0&&(Vt=be===0);let bt=!1;const Yt=be===Ve.length-1;if(ye)if(Ie)bt=Yt;else{const _r=h.length-1;be===_r&&(bt=!0)}let jn=xe;J.current&&be>=J.current.firstRowIndex&&be<J.current.lastRowIndex&&(jn=J.current);const is=be===Te,du=(Ye==null?void 0:Ye.rowIndex)===rt,fu=Lc(ce,jn,C.left.length),hu=Yt&&Y.position==="top",gu=jn.firstColumnIndex,mu=jn.lastColumnIndex;if(Je.push(L({id:Ce,model:Ne,rowIndex:rt,offsetLeft:fu,columnsTotalWidth:l,baseRowHeight:pt,firstColumnIndex:gu,lastColumnIndex:mu,focusedColumnIndex:du?Ye.columnIndex:void 0,isFirstVisible:Vt,isLastVisible:bt,isVirtualFocusRow:is,showBottomBorder:hu})),is)return;const as=O.get(Ce);as&&Je.push(as),Y.position===void 0&&Yt&&Je.push(v(Ce))}),Je},he=d.useMemo(()=>({overflowX:y?void 0:"hidden",overflowY:x?"hidden":void 0}),[y,x]),fe=d.useMemo(()=>{const Y={width:y?l:"auto",flexBasis:_,flexShrink:0};return Y.flexBasis===0&&(Y.flexBasis=b),Y},[l,_,y,b]),ge=d.useRef(null),we=d.useCallback(Y=>{var ae;Y&&((ae=ge.current)==null||ae.call(ge,l,_))},[l,_]);En(()=>{z.current&&se()},[E,P,se]),En(()=>{o.scroller.current&&(o.scroller.current.scrollLeft=0)},[o.scroller,k]),QC(H!==br,()=>{if(I==null||I(R.current,H),z.current=!0,f!=null&&f.scroll&&o.scroller.current){const Y=o.scroller.current,{top:ae,left:xe}=f.scroll,ye={top:!(ae>0),left:!(xe>0)};!ye.left&&l&&(Y.scrollLeft=xe,ye.left=!0,A.current=!0),!ye.top&&_&&(Y.scrollTop=ae,A.current=!0),(!ye.top||!ye.left)&&(ge.current=(Ie,$e)=>{!ye.left&&Ie&&(Y.scrollLeft=xe,ye.left=!0,A.current=!0),!ye.top&&$e&&(Y.scrollTop=ae,ye.top=!0,A.current=!0),ye.left&&ye.top&&(ge.current=null)})}}),TC(e,wt.selectors.dimensions,se);const pe=Y=>ae=>{ae&&o[Y].current!==ae&&(o[Y].current=ae,$(xe=>xe+1))},ve={setPanels:D,getOffsetTop:X,getRows:te,getContainerProps:()=>({ref:pe("container")}),getScrollerProps:()=>({ref:pe("scroller"),onScroll:W,onWheel:F,onTouchMove:j,style:he,role:"presentation",tabIndex:XC?-1:void 0}),getContentProps:()=>({ref:we,style:fe,role:"presentation"}),getScrollbarVerticalProps:()=>({ref:pe("scrollbarVertical"),scrollPosition:R}),getScrollbarHorizontalProps:()=>({ref:pe("scrollbarHorizontal"),scrollPosition:R}),getScrollAreaProps:()=>({scrollPosition:R})};return JC(()=>{e.state=m({},e.state,{getters:ve})}),d.useEffect(()=>{e.update({getters:ve})},Object.values(ve)),{getters:ve,useVirtualization:()=>cn(e,Y=>Y),setPanels:D,forceUpdateRenderContext:se,getCellColSpanInfo:()=>{throw new Error("Unimplemented: colspan feature is required")},calculateColSpan:()=>{throw new Error("Unimplemented: colspan feature is required")},getHiddenCellsOrigin:()=>{throw new Error("Unimplemented: rowspan feature is required")}}}function fi(e,t,n,o,r){var g;const l=wt.selectors.dimensions(e.state),s=t.rows,c=t.range,a=t.columns,u=n.getHiddenCellsOrigin(),f=(g=t.rows.at(-1))==null?void 0:g.id,h=a.at(-1);return{api:n,enabledForRows:o,enabledForColumns:r,autoHeight:t.autoHeight,rowBufferPx:t.virtualization.rowBufferPx,columnBufferPx:t.virtualization.columnBufferPx,leftPinnedWidth:l.leftPinnedWidth,columnsTotalWidth:l.columnsTotalWidth,viewportInnerWidth:l.viewportInnerSize.width,viewportInnerHeight:l.viewportInnerSize.height,lastRowHeight:f!==void 0?n.rowsMeta.getRowHeight(f):0,lastColumnWidth:(h==null?void 0:h.computedWidth)??0,rowsMeta:wt.selectors.rowsMeta(e.state),columnPositions:wt.selectors.columnPositions(e.state,t.columns),rows:s,range:c,pinnedColumns:t.pinnedColumns,columns:a,hiddenCellsOriginMap:u,virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight}}function hi(e,t,n){const o={firstRowIndex:0,lastRowIndex:e.rows.length,firstColumnIndex:0,lastColumnIndex:e.columns.length},{top:r,left:l}=t,s=Math.abs(l)+e.leftPinnedWidth;if(e.enabledForRows){let a=Math.min(gi(e,r,{atStart:!0,lastPosition:e.rowsMeta.positions[e.rowsMeta.positions.length-1]+e.lastRowHeight}),e.rowsMeta.positions.length-1);const u=e.hiddenCellsOriginMap[a];if(u){const h=Math.min(...Object.values(u));a=Math.min(a,h)}const f=e.autoHeight?a+e.rows.length:gi(e,r+e.viewportInnerHeight);o.firstRowIndex=a,o.lastRowIndex=f}if(e.enabledForColumns){let a=0,u=e.columnPositions.length,f=!1;const[h,g]=fl({firstIndex:o.firstRowIndex,lastIndex:o.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight});if(!e.virtualizeColumnsWithAutoRowHeight)for(let p=h;p<g&&!f;p+=1){const w=e.rows[p];f=e.api.rowsMeta.rowHasAutoHeight(w.id)}(!f||e.virtualizeColumnsWithAutoRowHeight)&&(a=bn(s,e.columnPositions,{atStart:!0,lastPosition:e.columnsTotalWidth}),u=bn(s+e.viewportInnerWidth,e.columnPositions)),o.firstColumnIndex=a,o.lastColumnIndex=u}return nw(e,o,n)}function gi(e,t,n){var s,c;const o=e.api.rowsMeta.getLastMeasuredRowIndex();let r=o===1/0;(s=e.range)!=null&&s.lastRowIndex&&!r&&(r=o>=e.range.lastRowIndex);const l=Un(o-(((c=e.range)==null?void 0:c.firstRowIndex)||0),0,e.rowsMeta.positions.length);return r||e.rowsMeta.positions[l]>=t?bn(t,e.rowsMeta.positions,n):ow(t,e.rowsMeta.positions,l,n)}function nw(e,t,n){var a,u;const[o,r]=fl({firstIndex:t.firstRowIndex,lastIndex:t.lastRowIndex,minFirstIndex:0,maxLastIndex:e.rows.length,bufferBefore:n.buffer.rowBefore,bufferAfter:n.buffer.rowAfter,positions:e.rowsMeta.positions,lastSize:e.lastRowHeight}),[l,s]=fl({firstIndex:t.firstColumnIndex,lastIndex:t.lastColumnIndex,minFirstIndex:((a=e.pinnedColumns)==null?void 0:a.left.length)??0,maxLastIndex:e.columns.length-(((u=e.pinnedColumns)==null?void 0:u.right.length)??0),bufferBefore:n.buffer.columnBefore,bufferAfter:n.buffer.columnAfter,positions:e.columnPositions,lastSize:e.lastColumnWidth}),c=lw({api:e.api,firstColumnToRender:l,firstRowToRender:o,lastRowToRender:r,visibleRows:e.rows});return{firstRowIndex:o,lastRowIndex:r,firstColumnIndex:c,lastColumnIndex:s}}function bn(e,t,n=void 0,o=0,r=t.length){if(t.length<=0)return-1;if(o>=r)return o;const l=o+Math.floor((r-o)/2),s=t[l];let c;if(n!=null&&n.atStart){const a=(l===t.length-1?n.lastPosition:t[l+1])-s;c=e-a<s}else c=e<=s;return c?bn(e,t,n,o,l):bn(e,t,n,l+1,r)}function ow(e,t,n,o=void 0){let r=1;for(;n<t.length&&Math.abs(t[n])<e;)n+=r,r*=2;return bn(e,t,o,Math.floor(n/2),Math.min(n,t.length))}function fl({firstIndex:e,lastIndex:t,bufferBefore:n,bufferAfter:o,minFirstIndex:r,maxLastIndex:l,positions:s,lastSize:c}){const a=s[e]-n,u=s[t]+o,f=bn(a,s,{atStart:!0,lastPosition:s[s.length-1]+c}),h=bn(u,s);return[Un(f,r,l),Un(h,r,l)]}function mi(e,t){return e===t?!0:e.firstRowIndex===t.firstRowIndex&&e.lastRowIndex===t.lastRowIndex&&e.firstColumnIndex===t.firstColumnIndex&&e.lastColumnIndex===t.lastColumnIndex}function Lc(e,t,n){const o=(e[t.firstColumnIndex]??0)-(e[n]??0);return Math.abs(o)}function Ac(e,t,n,o,r,l){if(e)switch(t){case tt.LEFT:t=tt.RIGHT;break;case tt.RIGHT:t=tt.LEFT;break}switch(t){case tt.NONE:return{rowAfter:n,rowBefore:n,columnAfter:o,columnBefore:o};case tt.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:l};case tt.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:l,columnBefore:0};case tt.UP:return{rowAfter:0,rowBefore:r,columnAfter:0,columnBefore:0};case tt.DOWN:return{rowAfter:r,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}function rw(e,t,n,o,r){return{direction:tt.NONE,buffer:Ac(e,tt.NONE,t,n,o,r)}}function pi(e,t){return Array.from({length:t-e}).map((n,o)=>e+o)}function lw({api:e,firstColumnToRender:t,firstRowToRender:n,lastRowToRender:o,visibleRows:r}){let l=t,s=!1;for(;!s&&l>=0;){s=!0;for(let c=n;c<o;c+=1)if(r[c]){const u=r[c].id,f=e.getCellColSpanInfo(u,l);if(f&&f.spannedByColSpan&&f.leftVisibleCellIndex<l){l=f.leftVisibleCellIndex,s=!1;break}}}return l}const sw={},iw={initialize:aw,use:cw,selectors:sw};function aw(e){return{}}function cw(e,t,n){return{getViewportPageSize:()=>{const r=wt.selectors.dimensions(e.state);if(!r.isReady)return 0;if(t.getRowHeight){const s=Rc.selectors.renderContext(e.state),c=s.lastRowIndex-s.firstRowIndex;return Math.min(c-1,t.rows.length)}const l=Math.floor(r.viewportInnerSize.height/r.rowHeight);return Math.min(l,t.rows.length)}}}const uw={firstRowIndex:0,lastRowIndex:0},dw={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},zc={state:e=>e.rowSpanning,hiddenCells:e=>e.rowSpanning.caches.hiddenCells,spannedCells:e=>e.rowSpanning.caches.spannedCells,hiddenCellsOriginMap:e=>e.rowSpanning.caches.hiddenCellOriginMap},to={initialize:fw,use:hw,selectors:zc};function fw(e){var t;return{rowSpanning:((t=e.initialState)==null?void 0:t.rowSpanning)??{caches:dw,processedRange:uw}}}function hw(e,t,n){return{getHiddenCellsOrigin:()=>zc.hiddenCellsOriginMap(e.state)}}const bi=[wt,Rc,HC,to,iw],gw=e=>{const t=Vo(()=>new Ql(bi.map(o=>o.initialize(e)).reduce((o,r)=>Object.assign(o,r),{}))).current,n={};for(const o of bi)Object.assign(n,o.use(t,e,n));return{store:t,api:n}},mw=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),vo=!mw,pw=(e,t)=>{const{disableVirtualization:n,autoHeight:o}=t;return m({},e,{virtualization:{enabled:!n&&vo,enabledForColumns:!n&&vo,enabledForRows:!n&&!o&&vo,renderContext:br}})};function bw(e,t){const{virtualizer:n}=e.current,{autoHeight:o,disableVirtualization:r}=t,l=u=>{u&&(u=vo),n.store.set("virtualization",m({},n.store.state.virtualization,{enabled:u,enabledForColumns:u,enabledForRows:u&&!o}))};Ee(e,{unstable_setVirtualization:l,unstable_setColumnVirtualization:u=>{u&&(u=vo),n.store.set("virtualization",m({},n.store.state.virtualization,{enabledForColumns:u}))}},"public");const a=n.api.forceUpdateRenderContext;e.current.register("private",{updateRenderContext:a}),We(e,"sortedRowsSet",a),We(e,"paginationModelChange",a),We(e,"columnsChange",a),d.useEffect(()=>{l(!t.disableVirtualization)},[r,o])}const Gr=Xe(e=>e.virtualization);ie(Gr,e=>e.enabled);const Cw=ie(Gr,e=>e.enabledForColumns);ie(Gr,e=>e.enabledForRows);const Gc=ie(Gr,e=>e.renderContext),ww=Xe(e=>e.virtualization.renderContext.firstColumnIndex),xw=Xe(e=>e.virtualization.renderContext.lastColumnIndex),Sw=Ae(ww,xw,(e,t)=>({firstColumnIndex:e,lastColumnIndex:t}));function yw(e){return JSON.stringify([e.filterModel,e.sortModel,e.start,e.end])}class vw{constructor({ttl:t=3e5,getKey:n=yw}){this.cache={},this.ttl=t,this.getKey=n}set(t,n){const o=this.getKey(t),r=Date.now()+this.ttl;this.cache[o]={value:n,expiry:r}}get(t){const n=this.getKey(t),o=this.cache[n];if(o){if(Date.now()>o.expiry){delete this.cache[n];return}return o.value}}clear(){this.cache={}}}class Iw extends Error{constructor(t){super(t.message),this.name="GridGetRowsError",this.params=t.params,this.cause=t.cause}}class Mw extends Error{constructor(t){super(t.message),this.name="GridUpdateRowError",this.params=t.params,this.cause=t.cause}}const Pw=(e,t)=>{const{classes:n}=e,o={root:["scrollbar",`scrollbar--${t}`],content:["scrollbarContent"]};return Fe(o,De,n)},Bc=ze("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),kw=ze(Bc)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),Ew=ze(Bc)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Ci=me(function(t,n){const o=Pt(),r=ee(),l=d.useRef(!1),s=d.useRef(0),c=d.useRef(null),a=d.useRef(null),u=Pw(r,t.position),f=K(o,et),h=t.position==="vertical"?"height":"width",g=t.position==="vertical"?"scrollTop":"scrollLeft",p=t.position==="vertical"?"top":"left",w=t.position==="vertical"?f.hasScrollX:f.hasScrollY,C=f.minimumSize[h]+(w?f.scrollbarSize:0),x=(t.position==="vertical"?f.viewportInnerSize.height:f.viewportOuterSize.width)*(C/f.viewportOuterSize[h]),F=Be(()=>{const I=c.current,k=t.scrollPosition.current;if(!I||k[p]===s.current)return;if(s.current=k[p],l.current){l.current=!1;return}l.current=!0;const L=k[p]/C;I[g]=L*x}),j=Be(()=>{const I=o.current.virtualScrollerRef.current,k=c.current;if(!k)return;if(l.current){l.current=!1;return}l.current=!0;const L=k[g]/x;I[g]=L*C});Er(()=>{const I=o.current.virtualScrollerRef.current,k=c.current,L={passive:!0};return I.addEventListener("scroll",F,L),k.addEventListener("scroll",j,L),()=>{I.removeEventListener("scroll",F,L),k.removeEventListener("scroll",j,L)}}),d.useEffect(()=>{a.current.style.setProperty(h,`${x}px`)},[x,h]);const T=t.position==="vertical"?kw:Ew;return i.jsx(T,{ref:It(n,c),className:u.root,style:t.position==="vertical"&&r.listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:I=>{I.target.blur()},children:i.jsx("div",{ref:a,className:u.content})})}),Tw=e=>{const{classes:t,hasScrollX:n,hasPinnedRight:o,loadingOverlayVariant:r,overlayType:l}=e;return Fe({root:["main",o&&"main--hasPinnedRight",(r==="skeleton"||l==="noColumnsOverlay")&&"main--hiddenContent"],scroller:["virtualScroller",n&&"virtualScroller--hasScrollX"]},De,t)},Fw=ze("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.virtualScroller,n.hasScrollX&&t["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),Dw=e=>e.current.state.dimensions.rightPinnedWidth>0;function jw(e){const t=Pt(),n=ee(),o=K(t,rm),r=K(t,om),l=K(t,Dw),s=K(t,am),{getOverlay:c,overlaysProps:a}=eC(),u=m({classes:n.classes,hasScrollX:r,hasPinnedRight:l},a),f=Tw(u),h=t.current.virtualizer.api.useVirtualization().getters,{getContainerProps:g,getScrollerProps:p,getContentProps:w,getScrollbarVerticalProps:C,getScrollbarHorizontalProps:b,getRows:x,getScrollAreaProps:F}=h,j=x(void 0,dt(t));return i.jsxs(lC,m({className:f.root},g(),{ownerState:u,children:[i.jsx(Xo,m({scrollDirection:"left"},F())),i.jsx(Xo,m({scrollDirection:"right"},F())),i.jsx(Xo,m({scrollDirection:"up"},F())),i.jsx(Xo,m({scrollDirection:"down"},F())),i.jsxs(Fw,m({className:f.scroller},p(),{ownerState:u,children:[i.jsxs(aC,{children:[!n.listView&&i.jsx(nC,{}),i.jsx(n.slots.pinnedRows,{position:"top",virtualScroller:h})]}),c(),i.jsx(dC,m({},w(),{children:i.jsxs(SC,{role:"rowgroup",children:[j,i.jsx(n.slots.detailPanels,{virtualScroller:h})]})})),s&&i.jsx(bC,{rowsLength:j.length}),i.jsx(n.slots.bottomContainer,{children:i.jsx(n.slots.pinnedRows,{position:"bottom",virtualScroller:h})})]})),r&&!n.listView&&i.jsx(Ci,m({position:"horizontal"},b())),o&&i.jsx(Ci,m({position:"vertical"},C())),e.children]}))}function Hw(){var t;const e=ee();return e.hideFooter?null:i.jsx(e.slots.footer,m({},(t=e.slotProps)==null?void 0:t.footer))}function Kn(e){return e&&e.ownerDocument||document}function $w(e,...t){const n=new URL(`https://mui.com/production-error/?code=${e}`);return t.forEach(o=>n.searchParams.append("args[]",o)),`Minified MUI error #${e}; visit ${n} for the full message.`}function _o(e){if(typeof e!="string")throw new Error($w(7));return e.charAt(0).toUpperCase()+e.slice(1)}let nl;function Zl(){return nl===void 0&&document.createElement("div").focus({get preventScroll(){return nl=!0,!1}}),nl}function Ow({defaultSlots:e,slots:t}){const n=t;if(!n||Object.keys(n).length===0)return e;const o=m({},e);return Object.keys(n).forEach(r=>{const l=r;n[l]!==void 0&&(o[l]=n[l])}),o}const Rw=e=>{const t=e.match(/^__row_group_by_columns_group_(.*)__$/);return t?t[1]:null},Lw=e=>e===lc||Rw(e)!==null,Vc=(e,t)=>{if(e)if(t){if(e===je.LEFT)return"right";if(e===je.RIGHT)return"left"}else{if(e===je.LEFT)return"left";if(e===je.RIGHT)return"right"}};function Br(e,t,n,o){const r=Vc(n,t);return!r||o===void 0||(e[r]=o),e}const Aw=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],zw=["changeReason","unstable_updateValueOnRender"];je.LEFT+"",un.LEFT,je.RIGHT+"",un.RIGHT,je.NONE+"",je.VIRTUAL+"";const Gw=e=>{const{align:t,showLeftBorder:n,showRightBorder:o,pinnedPosition:r,isEditable:l,isSelected:s,isSelectionMode:c,classes:a}=e,u={root:["cell",`cell--text${_o(t)}`,s&&"selected",l&&"cell--editable",n&&"cell--withLeftBorder",o&&"cell--withRightBorder",r===je.LEFT&&"cell--pinnedLeft",r===je.RIGHT&&"cell--pinnedRight",c&&!l&&"cell--selectionMode"]};return Fe(u,De,a)},Bw=me(function(t,n){var Je,ce;const{column:o,row:r,rowId:l,rowNode:s,align:c,colIndex:a,width:u,className:f,style:h,colSpan:g,disableDragEvents:p,isNotVisible:w,pinnedOffset:C,pinnedPosition:b,showRightBorder:x,showLeftBorder:F,onClick:j,onDoubleClick:T,onMouseDown:I,onMouseUp:k,onMouseOver:L,onKeyDown:v,onKeyUp:y,onDragEnter:M,onDragOver:O}=t,D=Q(t,Aw),$=Pt(),z=ee(),H=vt(),P=o.field,E=K($,vC,{rowId:l,field:P}),_=Dr().hooks.useCellAggregationResult(l,P),R=E?Ge.Edit:Ge.View,{value:A,formattedValue:V}=_||{},U=$.current.getCellParamsForRow(l,P,r,{colDef:o,cellMode:R,rowNode:s,tabIndex:K($,()=>{const ne=Kl($);return ne&&ne.field===P&&ne.id===l?0:-1}),hasFocus:K($,()=>{const ne=Ct($);return(ne==null?void 0:ne.id)===l&&ne.field===P}),value:A,formattedValue:V});U.api=$.current;const N=K($,()=>$.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:l,field:P})),J=$.current.virtualizer.store,q=_s(J,to.selectors.hiddenCells),ue=_s(J,to.selectors.spannedCells),{hasFocus:de,isEditable:se=!1,value:W}=U,X=o.type==="actions"&&"getActions"in o&&typeof o.getActions=="function"&&o.getActions($.current.getRowParams(l)).some(ne=>!ne.props.disabled),te=(R==="view"||!se)&&!X?U.tabIndex:-1,{classes:he,getCellClassName:fe}=z,we=[K($,()=>$.current.unstable_applyPipeProcessors("cellClassName",[],{id:l,field:P}).filter(Boolean).join(" "))];o.cellClassName&&we.push(typeof o.cellClassName=="function"?o.cellClassName(U):o.cellClassName),o.display==="flex"&&we.push(S["cell--flex"]),fe&&we.push(fe(U));const pe=U.formattedValue??W,ve=d.useRef(null),He=It(n,ve),Re=d.useRef(null),Ue=z.cellSelection??!1,Y={align:c,showLeftBorder:F,showRightBorder:x,isEditable:se,classes:z.classes,pinnedPosition:b,isSelected:N,isSelectionMode:Ue},ae=Gw(Y),xe=d.useCallback(ne=>be=>{const Ce=$.current.getCellParams(l,P||"");$.current.publishEvent(ne,Ce,be),k&&k(be)},[$,P,k,l]),ye=d.useCallback(ne=>be=>{const Ce=$.current.getCellParams(l,P||"");$.current.publishEvent(ne,Ce,be),I&&I(be)},[$,P,I,l]),Ie=d.useCallback((ne,be)=>Ce=>{if(!$.current.getRow(l))return;const Ne=$.current.getCellParams(l,P||"");$.current.publishEvent(ne,Ne,Ce),be&&be(Ce)},[$,P,l]),$e=((Je=q[l])==null?void 0:Je[a])??!1,Ve=((ce=ue[l])==null?void 0:ce[a])??1,ot=d.useMemo(()=>{if(w)return{padding:0,opacity:0,width:0,height:0,border:0};const ne=Br(m({"--width":`${u}px`},h),H,b,C),be=b===je.LEFT,Ce=b===je.RIGHT;return Ve>1&&(ne.height=`calc(var(--height) * ${Ve})`,ne.zIndex=10,(be||Ce)&&(ne.zIndex=40)),ne},[u,w,h,C,b,H,Ve]);if(d.useEffect(()=>{if(!de||R===Ge.Edit)return;const ne=Kn($.current.rootElementRef.current);if(ve.current&&!ve.current.contains(ne.activeElement)){const be=ve.current.querySelector('[tabindex="0"]'),Ce=Re.current||be||ve.current;if(Zl())Ce.focus({preventScroll:!0});else{const Ne=$.current.getScrollPosition();Ce.focus(),$.current.scroll(Ne)}}},[de,R,$]),$e)return i.jsx("div",{"data-colindex":a,role:"presentation",style:m({width:"var(--width)"},ot)});let Se=D.onFocus,Pe,Te;if(E===null&&o.renderCell&&(Pe=o.renderCell(U)),E!==null&&o.renderEditCell){const ne=$.current.getRowWithUpdatedValues(l,o.field),be=Q(E,zw),Ce=o.valueFormatter?o.valueFormatter(E.value,ne,o,$):U.formattedValue,Ne=m({},U,{row:ne,formattedValue:Ce},be);Pe=o.renderEditCell(Ne),we.push(S["cell--editing"]),we.push(he==null?void 0:he["cell--editing"])}if(Pe===void 0){const ne=pe==null?void 0:pe.toString();Pe=ne,Te=ne}d.isValidElement(Pe)&&X&&(Pe=d.cloneElement(Pe,{focusElementRef:Re}));const Ye=p?null:{onDragEnter:Ie("cellDragEnter",M),onDragOver:Ie("cellDragOver",O)};return i.jsx("div",m({className:Oe(ae.root,we,f),role:"gridcell","data-field":P,"data-colindex":a,"aria-colindex":a+1,"aria-colspan":g,"aria-rowspan":Ve,style:ot,title:Te,tabIndex:te,onClick:Ie("cellClick",j),onDoubleClick:Ie("cellDoubleClick",T),onMouseOver:Ie("cellMouseOver",L),onMouseDown:ye("cellMouseDown"),onMouseUp:xe("cellMouseUp"),onKeyDown:Ie("cellKeyDown",v),onKeyUp:Ie("cellKeyUp",y)},Ye,D,{onFocus:Se,ref:He,children:Pe}))}),Vw=nn(Bw),_w=["field","type","align","width","height","empty","style","className"],wi="1.3em",Nw="1.2em",xi=[40,80],Ww={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},Uw=e=>{const{align:t,classes:n,empty:o}=e,r={root:["cell","cellSkeleton",`cell--text${t?_o(t):"Left"}`,o&&"cellEmpty"]};return Fe(r,De,n)},Kw=Zm(12345);function qw(e){const{field:t,type:n,align:o,width:r,height:l,empty:s=!1,style:c,className:a}=e,u=Q(e,_w),f=ee(),h={classes:f.classes,align:o,empty:s},g=Uw(h),p=d.useMemo(()=>{if(n==="boolean"||n==="actions")return{variant:"circular",width:wi,height:wi};const[C,b]=n?Ww[n]??xi:xi;return{variant:"text",width:`${Math.round(Kw(C,b))}%`,height:Nw}},[n]);return i.jsx("div",m({"data-field":t,className:Oe(g.root,a),style:m({height:l,maxWidth:r,minWidth:r},c)},u,{children:!s&&i.jsx(f.slots.baseSkeleton,m({},p))}))}const Xw=nn(qw),Yw=10,Yo=-5,An=1,Si={width:3,rx:1.5,x:10.5},Qw="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",Jw=e=>e.current.state.dimensions.hasScrollX&&(!e.current.state.dimensions.hasScrollY||e.current.state.dimensions.scrollbarSize===0),Zw=ke("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(e,t)=>[t.root,{[`&.${S.autoHeight}`]:t.autoHeight},{[`&.${S.autosizing}`]:t.autosizing},{[`&.${S["root--densityStandard"]}`]:t["root--densityStandard"]},{[`&.${S["root--densityComfortable"]}`]:t["root--densityComfortable"]},{[`&.${S["root--densityCompact"]}`]:t["root--densityCompact"]},{[`&.${S["root--disableUserSelection"]}`]:t["root--disableUserSelection"]},{[`&.${S["root--noToolbar"]}`]:t["root--noToolbar"]},{[`&.${S.withVerticalBorder}`]:t.withVerticalBorder},{[`& .${S.actionsCell}`]:t.actionsCell},{[`& .${S.booleanCell}`]:t.booleanCell},{[`& .${S.cell}`]:t.cell},{[`& .${S["cell--editable"]}`]:t["cell--editable"]},{[`& .${S["cell--editing"]}`]:t["cell--editing"]},{[`& .${S["cell--flex"]}`]:t["cell--flex"]},{[`& .${S["cell--pinnedLeft"]}`]:t["cell--pinnedLeft"]},{[`& .${S["cell--pinnedRight"]}`]:t["cell--pinnedRight"]},{[`& .${S["cell--rangeBottom"]}`]:t["cell--rangeBottom"]},{[`& .${S["cell--rangeLeft"]}`]:t["cell--rangeLeft"]},{[`& .${S["cell--rangeRight"]}`]:t["cell--rangeRight"]},{[`& .${S["cell--rangeTop"]}`]:t["cell--rangeTop"]},{[`& .${S["cell--selectionMode"]}`]:t["cell--selectionMode"]},{[`& .${S["cell--textCenter"]}`]:t["cell--textCenter"]},{[`& .${S["cell--textLeft"]}`]:t["cell--textLeft"]},{[`& .${S["cell--textRight"]}`]:t["cell--textRight"]},{[`& .${S["cell--withLeftBorder"]}`]:t["cell--withLeftBorder"]},{[`& .${S["cell--withRightBorder"]}`]:t["cell--withRightBorder"]},{[`& .${S.cellCheckbox}`]:t.cellCheckbox},{[`& .${S.cellEmpty}`]:t.cellEmpty},{[`& .${S.cellOffsetLeft}`]:t.cellOffsetLeft},{[`& .${S.cellSkeleton}`]:t.cellSkeleton},{[`& .${S.checkboxInput}`]:t.checkboxInput},{[`& .${S.columnHeader}`]:t.columnHeader},{[`& .${S["columnHeader--alignCenter"]}`]:t["columnHeader--alignCenter"]},{[`& .${S["columnHeader--alignLeft"]}`]:t["columnHeader--alignLeft"]},{[`& .${S["columnHeader--alignRight"]}`]:t["columnHeader--alignRight"]},{[`& .${S["columnHeader--dragging"]}`]:t["columnHeader--dragging"]},{[`& .${S["columnHeader--emptyGroup"]}`]:t["columnHeader--emptyGroup"]},{[`& .${S["columnHeader--filledGroup"]}`]:t["columnHeader--filledGroup"]},{[`& .${S["columnHeader--filtered"]}`]:t["columnHeader--filtered"]},{[`& .${S["columnHeader--last"]}`]:t["columnHeader--last"]},{[`& .${S["columnHeader--lastUnpinned"]}`]:t["columnHeader--lastUnpinned"]},{[`& .${S["columnHeader--moving"]}`]:t["columnHeader--moving"]},{[`& .${S["columnHeader--numeric"]}`]:t["columnHeader--numeric"]},{[`& .${S["columnHeader--pinnedLeft"]}`]:t["columnHeader--pinnedLeft"]},{[`& .${S["columnHeader--pinnedRight"]}`]:t["columnHeader--pinnedRight"]},{[`& .${S["columnHeader--siblingFocused"]}`]:t["columnHeader--siblingFocused"]},{[`& .${S["columnHeader--sortable"]}`]:t["columnHeader--sortable"]},{[`& .${S["columnHeader--sorted"]}`]:t["columnHeader--sorted"]},{[`& .${S["columnHeader--withLeftBorder"]}`]:t["columnHeader--withLeftBorder"]},{[`& .${S["columnHeader--withRightBorder"]}`]:t["columnHeader--withRightBorder"]},{[`& .${S.columnHeaderCheckbox}`]:t.columnHeaderCheckbox},{[`& .${S.columnHeaderDraggableContainer}`]:t.columnHeaderDraggableContainer},{[`& .${S.columnHeaderTitleContainer}`]:t.columnHeaderTitleContainer},{[`& .${S.columnHeaderTitleContainerContent}`]:t.columnHeaderTitleContainerContent},{[`& .${S.columnSeparator}`]:t.columnSeparator},{[`& .${S["columnSeparator--resizable"]}`]:t["columnSeparator--resizable"]},{[`& .${S["columnSeparator--resizing"]}`]:t["columnSeparator--resizing"]},{[`& .${S["columnSeparator--sideLeft"]}`]:t["columnSeparator--sideLeft"]},{[`& .${S["columnSeparator--sideRight"]}`]:t["columnSeparator--sideRight"]},{[`& .${S["container--bottom"]}`]:t["container--bottom"]},{[`& .${S["container--top"]}`]:t["container--top"]},{[`& .${S.detailPanelToggleCell}`]:t.detailPanelToggleCell},{[`& .${S["detailPanelToggleCell--expanded"]}`]:t["detailPanelToggleCell--expanded"]},{[`& .${S.editBooleanCell}`]:t.editBooleanCell},{[`& .${S.filterIcon}`]:t.filterIcon},{[`& .${S["filler--borderBottom"]}`]:t["filler--borderBottom"]},{[`& .${S["filler--pinnedLeft"]}`]:t["filler--pinnedLeft"]},{[`& .${S["filler--pinnedRight"]}`]:t["filler--pinnedRight"]},{[`& .${S.groupingCriteriaCell}`]:t.groupingCriteriaCell},{[`& .${S.groupingCriteriaCellLoadingContainer}`]:t.groupingCriteriaCellLoadingContainer},{[`& .${S.groupingCriteriaCellToggle}`]:t.groupingCriteriaCellToggle},{[`& .${S.headerFilterRow}`]:t.headerFilterRow},{[`& .${S.iconSeparator}`]:t.iconSeparator},{[`& .${S.menuIcon}`]:t.menuIcon},{[`& .${S.menuIconButton}`]:t.menuIconButton},{[`& .${S.menuList}`]:t.menuList},{[`& .${S.menuOpen}`]:t.menuOpen},{[`& .${S.overlayWrapperInner}`]:t.overlayWrapperInner},{[`& .${S.pinnedRows}`]:t.pinnedRows},{[`& .${S["pinnedRows--bottom"]}`]:t["pinnedRows--bottom"]},{[`& .${S["pinnedRows--top"]}`]:t["pinnedRows--top"]},{[`& .${S.row}`]:t.row},{[`& .${S["row--borderBottom"]}`]:t["row--borderBottom"]},{[`& .${S["row--detailPanelExpanded"]}`]:t["row--detailPanelExpanded"]},{[`& .${S["row--dragging"]}`]:t["row--dragging"]},{[`& .${S["row--dynamicHeight"]}`]:t["row--dynamicHeight"]},{[`& .${S["row--editable"]}`]:t["row--editable"]},{[`& .${S["row--editing"]}`]:t["row--editing"]},{[`& .${S["row--firstVisible"]}`]:t["row--firstVisible"]},{[`& .${S["row--lastVisible"]}`]:t["row--lastVisible"]},{[`& .${S.rowReorderCell}`]:t.rowReorderCell},{[`& .${S["rowReorderCell--draggable"]}`]:t["rowReorderCell--draggable"]},{[`& .${S.rowReorderCellContainer}`]:t.rowReorderCellContainer},{[`& .${S.rowReorderCellPlaceholder}`]:t.rowReorderCellPlaceholder},{[`& .${S.rowSkeleton}`]:t.rowSkeleton},{[`& .${S.scrollbar}`]:t.scrollbar},{[`& .${S["scrollbar--horizontal"]}`]:t["scrollbar--horizontal"]},{[`& .${S["scrollbar--vertical"]}`]:t["scrollbar--vertical"]},{[`& .${S.scrollbarFiller}`]:t.scrollbarFiller},{[`& .${S["scrollbarFiller--borderBottom"]}`]:t["scrollbarFiller--borderBottom"]},{[`& .${S["scrollbarFiller--borderTop"]}`]:t["scrollbarFiller--borderTop"]},{[`& .${S["scrollbarFiller--header"]}`]:t["scrollbarFiller--header"]},{[`& .${S["scrollbarFiller--pinnedRight"]}`]:t["scrollbarFiller--pinnedRight"]},{[`& .${S.sortIcon}`]:t.sortIcon},{[`& .${S.treeDataGroupingCell}`]:t.treeDataGroupingCell},{[`& .${S.treeDataGroupingCellLoadingContainer}`]:t.treeDataGroupingCellLoadingContainer},{[`& .${S.treeDataGroupingCellToggle}`]:t.treeDataGroupingCellToggle},{[`& .${S.withBorderColor}`]:t.withBorderColor},{[`& .${S["row--dropAbove"]}`]:t["row--dropAbove"]},{[`& .${S["row--dropBelow"]}`]:t["row--dropBelow"]},{[`& .${S["row--beingDragged"]}`]:t["row--beingDragged"]}]})(()=>{const e=Pt(),t=K(e,Jw),n=oe.colors.background.base,o=oe.header.background.base,r=oe.cell.background.pinned,l=ex(oe.colors.interactive.hover),s=oe.colors.interactive.hoverOpacity,c=oe.colors.interactive.selected,a=oe.colors.interactive.selectedOpacity,u=c,f=`calc(${a} + ${s})`,h=sn(n,l,s),g=sn(n,c,a),p=sn(n,u,f),w=sn(r,l,s),C=sn(r,c,a),b=sn(r,u,f),x=L=>({[`& .${S["cell--pinnedLeft"]}, & .${S["cell--pinnedRight"]}`]:{backgroundColor:L,"&.Mui-selected":{backgroundColor:sn(L,g,a),"&:hover":{backgroundColor:sn(L,p,f)}}}}),F=x(w),j=x(C),T=x(b),I={backgroundColor:g,"&:hover":{backgroundColor:p,"@media (hover: none)":{backgroundColor:g}}};return{"--unstable_DataGrid-radius":oe.radius.base,"--unstable_DataGrid-headWeight":oe.typography.fontWeight.medium,"--DataGrid-rowBorderColor":oe.colors.border.base,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:oe.colors.border.base,borderRadius:"var(--unstable_DataGrid-radius)",backgroundColor:oe.colors.background.base,color:oe.colors.foreground.base,font:oe.typography.font.body,outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${S.main} > *:first-child${Qw}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${S.autoHeight}`]:{height:"auto"},[`&.${S.autosizing}`]:{[`& .${S.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${S.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${S.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${S.groupingCriteriaCell}`]:{width:"unset"},[`& .${S.treeDataGroupingCell}`]:{width:"unset"}},[`&.${S.withSidePanel}`]:{flexDirection:"row"},[`& .${S.mainContent}`]:{display:"flex",flexDirection:"column",overflow:"hidden",flex:1},[`& .${S.columnHeader}, & .${S.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${S.columnHeader}:focus-within, & .${S.cell}:focus-within`]:{outline:`solid ${_c(oe.colors.interactive.focus,.5)} ${An}px`,outlineOffset:An*-1},[`& .${S.columnHeader}:focus, & .${S.cell}:focus`]:{outline:`solid ${oe.colors.interactive.focus} ${An}px`,outlineOffset:An*-1},[`& .${S.columnHeader}:focus,
      & .${S["columnHeader--withLeftBorder"]},
      & .${S["columnHeader--withRightBorder"]},
      & .${S["columnHeader--siblingFocused"]},
      & .${S["virtualScroller--hasScrollX"]} .${S["columnHeader--lastUnpinned"]},
      & .${S["virtualScroller--hasScrollX"]} .${S["columnHeader--last"]}
      `]:{[`& .${S.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${S["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${S["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${S["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${S["root--noToolbar"]} [aria-rowindex="1"] .${S["columnHeader--last"]}`]:{borderTopRightRadius:t?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${S.columnHeaderCheckbox}, & .${S.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${S.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center",backgroundColor:o},[`& .${S["columnHeader--filter"]}`]:{paddingTop:8,paddingBottom:8,paddingRight:5,minHeight:"min-content",overflow:"hidden"},[`& .${S["virtualScroller--hasScrollX"]} .${S["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${S["pivotPanelField--sorted"]} .${S.iconButtonContainer},
      & .${S["columnHeader--sorted"]} .${S.iconButtonContainer},
      & .${S["columnHeader--filtered"]} .${S.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${S.pivotPanelField}:not(.${S["pivotPanelField--sorted"]}) .${S.sortButton},
      & .${S.columnHeader}:not(.${S["columnHeader--sorted"]}) .${S.sortButton}`]:{opacity:0,transition:oe.transition(["opacity"],{duration:oe.transitions.duration.short})},[`& .${S.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:oe.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${S.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${S["columnHeader--filledGroup"]} .${S.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${S.sortIcon}, & .${S.filterIcon}`]:{fontSize:"inherit"},[`& .${S["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${S["columnHeader--alignCenter"]} .${S.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${S["columnHeader--alignRight"]} .${S.columnHeaderDraggableContainer}, & .${S["columnHeader--alignRight"]} .${S.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${S["columnHeader--alignCenter"]} .${S.menuIcon}`]:{marginLeft:"auto"},[`& .${S["columnHeader--alignRight"]} .${S.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${S["columnHeader--moving"]}`]:{backgroundColor:h},[`& .${S["columnHeader--pinnedLeft"]}, & .${S["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:oe.header.background.base},[`& .${S.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:Yw,color:oe.colors.border.base},[`& .${S.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)",backgroundColor:o},"@media (hover: hover)":{[`& .${S.columnHeader}:hover`]:{[`& .${S.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${S.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${S.columnHeader}:not(.${S["columnHeader--sorted"]}):hover .${S.sortButton},
        & .${S.pivotPanelField}:not(.${S["pivotPanelField--sorted"]}):hover .${S.sortButton},
        & .${S.pivotPanelField}:not(.${S["pivotPanelField--sorted"]}) .${S.sortButton}:focus-visible`]:{opacity:.5}},"@media (hover: none)":{[`& .${S.columnHeader} .${S.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${S.columnHeader}:focus,
        & .${S["columnHeader--siblingFocused"]}`]:{[`.${S["columnSeparator--resizable"]}`]:{color:oe.colors.foreground.accent}},[`& .${S.pivotPanelField}:not(.${S["pivotPanelField--sorted"]}) .${S.sortButton}`]:{opacity:.5}},[`& .${S["columnHeader--withLeftBorder"]} .${S["columnSeparator--sideLeft"]}:not(.${S["columnSeparator--resizable"]}), & .${S["columnHeader--withRightBorder"]} .${S["columnSeparator--sideRight"]}:not(.${S["columnSeparator--resizable"]})`]:{display:"none"},[`& .${S["columnSeparator--sideLeft"]}`]:{left:Yo},[`& .${S["columnSeparator--sideRight"]}`]:{right:Yo},[`& .${S["columnHeader--withRightBorder"]} .${S["columnSeparator--sideLeft"]}`]:{left:Yo-.5},[`& .${S["columnHeader--withRightBorder"]} .${S["columnSeparator--sideRight"]}`]:{right:Yo-.5},[`& .${S["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${S["columnSeparator--resizing"]}`]:{color:oe.colors.foreground.accent},"@media (hover: none)":{[`& .${S.iconSeparator} rect`]:Si},"@media (hover: hover)":{"&:hover":{color:oe.colors.foreground.accent,[`& .${S.iconSeparator} rect`]:Si}},"& svg":{pointerEvents:"none"}},[`& .${S.iconSeparator}`]:{color:"inherit",transition:oe.transition(["color","width"],{duration:oe.transitions.duration.short})},[`& .${S.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${S.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${S.headerFilterRow}`]:{[`& .${S.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${S["row--borderBottom"]} .${S.columnHeader},
      & .${S["row--borderBottom"]} .${S.filler},
      & .${S["row--borderBottom"]} .${S.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${S["row--borderBottom"]} .${S.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${S.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${S["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:h,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${S.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":I},[`& .${S.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":I},[`& .${S["virtualScrollerContent--overflowed"]} .${S["row--lastVisible"]} .${S.cell}`]:{borderTopColor:"transparent"},[`& .${S.pinnedRows} .${S.row}, .${S.aggregationRowOverlayWrapper} .${S.row}`]:{backgroundColor:r,"&:hover":{backgroundColor:w}},[`& .${S["pinnedRows--top"]} :first-of-type`]:{[`& .${S.cell}, .${S.scrollbarFiller}`]:{borderTop:"none"}},[`&.${S["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${S["row--dynamicHeight"]} > .${S.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${S.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${S.cell}.${S["cell--selectionMode"]}`]:{cursor:"default"},[`& .${S.cell}.${S["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:oe.shadows.base,backgroundColor:oe.colors.background.overlay,"&:focus-within":{outline:`${An}px solid ${oe.colors.interactive.focus}`,outlineOffset:An*-1}},[`& .${S["cell--editing"]}`]:{"& .MuiInputBase-root":{height:"100%"}},[`& .${S["row--editing"]}`]:{boxShadow:oe.shadows.base},[`& .${S["row--editing"]} .${S.cell}`]:{boxShadow:"none",backgroundColor:oe.colors.background.overlay},[`& .${S.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${S.booleanCell}[data-value="true"]`]:{color:oe.colors.foreground.muted},[`& .${S.booleanCell}[data-value="false"]`]:{color:oe.colors.foreground.disabled},[`& .${S.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:oe.spacing(1)},[`& .${S.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:oe.colors.interactive.disabledOpacity},[`& .${S["rowReorderCell--draggable"]}`]:{cursor:"grab",opacity:1},[`& .${S.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${S.withBorderColor}`]:{borderColor:oe.colors.border.base},[`& .${S["cell--withLeftBorder"]}, & .${S["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${S["cell--withRightBorder"]}, & .${S["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${S["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${S["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${S["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${S["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${S["cell--pinnedLeft"]}, & .${S["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:oe.cell.background.pinned,"&.Mui-selected":{backgroundColor:C}},[`& .${S.row}`]:{"&:hover":F,"&.Mui-selected":j,"&.Mui-selected:hover":T},[`& .${S.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${S.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${S.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${S.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${S["columnHeader--dragging"]}`]:{background:oe.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:oe.colors.interactive.disabledOpacity},[`& .${S["row--dragging"]}`]:{background:oe.colors.background.overlay,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",border:"1px solid var(--DataGrid-rowBorderColor)",color:oe.colors.foreground.base,transform:"translateZ(0)",[`& .${S.rowReorderCellPlaceholder}`]:{padding:"0 6px",display:"flex"}},[`& .${S.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${S.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:oe.spacing(2)},[`& .${S.treeDataGroupingCellLoadingContainer}, .${S.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${S.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${S.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:oe.spacing(2)},[`& .${S.columnHeaders} .${S.scrollbarFiller}`]:{backgroundColor:o},[`.${S.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${S["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${S["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${S["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:oe.cell.background.pinned,position:"sticky",zIndex:40,right:0}},[`& .${S.filler}`]:{flex:"1 0 auto"},[`& .${S["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${S.columnHeaders} .${S.filler}`]:{backgroundColor:o},[`& .${S["main--hiddenContent"]}`]:{[`& .${S.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${S["scrollbar--vertical"]}, & .${S.pinnedRows}, & .${S.virtualScroller} > .${S.filler}`]:{display:"none"}},[`& .${S["row--dropAbove"]}`]:{position:"relative","&::before":{pointerEvents:"none",content:'""',position:"absolute",top:0,left:0,width:"100%",height:"2px",backgroundColor:oe.colors.interactive.selected}},[`& .${S["row--dropBelow"]}`]:{position:"relative","&::after":{zIndex:100,pointerEvents:"none",content:'""',position:"absolute",bottom:"-2px",left:0,width:"100%",height:"2px",backgroundColor:oe.colors.interactive.selected},[`&.${S["row--lastVisible"]}`]:{"&::after":{bottom:"calc(var(--DataGrid-hasScrollY) * 0px + (1 - var(--DataGrid-hasScrollY)) * -2px)"}}},[`& .${S["row--beingDragged"]}`]:{color:oe.colors.foreground.disabled,"&:hover":{backgroundColor:"transparent"}}}});function _c(e,t){return`rgba(from ${e} r g b / ${t})`}function ex(e){return _c(e,1)}function sn(e,t,n){return`color-mix(in srgb,${e}, ${t} calc(${n} * 100%))`}const tx=()=>()=>{},nx=()=>!1,ox=()=>!0,rx=()=>Fl.useSyncExternalStore(tx,nx,ox),Nc=d.createContext(void 0);function es(){const e=d.useContext(Nc);if(e===void 0)throw new Error("MUI X: Missing context.");return e}function lx({children:e}){const t=d.useRef(null),n=d.useRef(null),o=d.useRef(null),r=d.useMemo(()=>({columnsPanelTriggerRef:t,filterPanelTriggerRef:n,aiAssistantPanelTriggerRef:o}),[]);return i.jsx(Nc.Provider,{value:r,children:e})}function sx(){var u;const e=Me(),t=K(e,Dt),n=ee(),o=K(e,kn),{columnsPanelTriggerRef:r,filterPanelTriggerRef:l,aiAssistantPanelTriggerRef:s}=es(),c=e.current.unstable_applyPipeProcessors("preferencePanel",null,o.openedPanelValue??mt.filters);let a=null;switch(o.openedPanelValue){case mt.filters:a=l.current;break;case mt.columns:a=r.current;break;case mt.aiAssistant:a=s.current;break}return i.jsx(n.slots.panel,m({id:o.panelId,open:t.length>0&&o.open,"aria-labelledby":o.labelId,target:a,onClose:()=>e.current.hidePreferences()},(u=n.slotProps)==null?void 0:u.panel,{children:c}))}function ix(){var t;const e=ee();return i.jsxs(d.Fragment,{children:[i.jsx(sx,{}),e.showToolbar&&i.jsx(e.slots.toolbar,m({},(t=e.slotProps)==null?void 0:t.toolbar))]})}const ax=["className","children","sidePanel"],cx=(e,t)=>{const{autoHeight:n,classes:o,showCellVerticalBorder:r}=e,l={root:["root",n&&"autoHeight",`root--density${_o(t)}`,e.slots.toolbar===null&&"root--noToolbar","withBorderColor",r&&"withVerticalBorder"]};return Fe(l,De,o)},ux=me(function(t,n){const o=ee(),{className:r,children:l,sidePanel:s}=t,c=Q(t,ax),a=Pt(),u=K(a,_n),f=a.current.rootElementRef,h=d.useCallback(x=>{x!==null&&a.current.publishEvent("rootMount",x)},[a]),g=It(f,n,h),p=o,w=cx(p,u),C=pp();return rx()?null:i.jsxs(Zw,m({className:Oe(w.root,r,C.className,s&&S.withSidePanel),ownerState:p},c,{ref:g,children:[i.jsxs("div",{className:S.mainContent,role:"presentation",children:[i.jsx(ix,{}),i.jsx(jw,{children:l}),i.jsx(Hw,{})]}),s,C.tag]}))}),dx=nn(ux),fx=["className"],hx=e=>{const{classes:t}=e;return Fe({root:["footerContainer","withBorderColor"]},De,t)},gx=ze("div",{name:"MuiDataGrid",slot:"FooterContainer"})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),mx=me(function(t,n){const{className:o}=t,r=Q(t,fx),l=ee(),s=hx(l);return i.jsx(gx,m({className:Oe(s.root,o),ownerState:l},r,{ref:n}))}),px=["className"],bx=e=>{const{classes:t}=e;return Fe({root:["overlay"]},De,t)},Cx=ze("div",{name:"MuiDataGrid",slot:"Overlay"})({width:"100%",height:"100%",display:"flex",gap:oe.spacing(1),flexDirection:"column",alignSelf:"center",alignItems:"center",justifyContent:"center",textAlign:"center",textWrap:"balance",backgroundColor:oe.colors.background.backdrop}),Vr=me(function(t,n){const{className:o}=t,r=Q(t,px),l=ee(),s=bx(l);return i.jsx(Cx,m({className:Oe(s.root,o),ownerState:l},r,{ref:n}))});function Xt(e,t,n,o={}){return typeof t=="function"?t(n,o):t?(t.props.className&&(n.className=wx(t.props.className,n.className)),(t.props.style||n.style)&&(n.style=m({},n.style,t.props.style)),d.cloneElement(t,n)):d.createElement(e,n)}function wx(e,t){return!e||!t?e||t:`${e} ${t}`}const Wc=d.createContext(void 0);function xx(){const e=d.useContext(Wc);if(e===void 0)throw new Error("MUI X: Missing context. Toolbar subcomponents must be placed within a <Toolbar /> component.");return e}function Sx(e,t){if(!e.ref.current||!t.ref.current)return 0;const n=e.ref.current.compareDocumentPosition(t.ref.current);return n?n&Node.DOCUMENT_POSITION_FOLLOWING||n&Node.DOCUMENT_POSITION_CONTAINED_BY?-1:n&Node.DOCUMENT_POSITION_PRECEDING||n&Node.DOCUMENT_POSITION_CONTAINS?1:0:0}const yx=["render","className"],vx=e=>{const{classes:t}=e;return Fe({root:["toolbar"]},De,t)},Ix=ze("div",{name:"MuiDataGrid",slot:"Toolbar"})({flex:0,display:"flex",alignItems:"center",justifyContent:"end",gap:oe.spacing(.25),padding:oe.spacing(.75),minHeight:52,boxSizing:"border-box",borderBottom:`1px solid ${oe.colors.border.base}`}),Mx=me(function(t,n){const{render:o,className:r}=t,l=Q(t,yx),s=ee(),c=vx(s),[a,u]=d.useState(null),[f,h]=d.useState([]),g=d.useCallback(()=>f.sort(Sx),[f]),p=d.useCallback((I,k,L=!0)=>{var O,D;let v=I;const y=g(),M=y.length;for(let $=0;$<M;$+=1){if(v+=k,v>=M){if(!L)return-1;v=0}else if(v<0){if(!L)return-1;v=M-1}if(!((O=y[v].ref.current)!=null&&O.disabled)&&((D=y[v].ref.current)==null?void 0:D.ariaDisabled)!=="true")return v}return-1},[g]),w=d.useCallback((I,k)=>{h(L=>[...L,{id:I,ref:k}])},[]),C=d.useCallback(I=>{h(k=>k.filter(L=>L.id!==I))},[]),b=d.useCallback(I=>{var y;if(!a)return;const k=g(),L=k.findIndex(M=>M.id===a);let v=-1;if(I.key==="ArrowRight"?(I.preventDefault(),v=p(L,1)):I.key==="ArrowLeft"?(I.preventDefault(),v=p(L,-1)):I.key==="Home"?(I.preventDefault(),v=p(-1,1,!1)):I.key==="End"&&(I.preventDefault(),v=p(k.length,-1,!1)),v>=0&&v<k.length){const M=k[v];u(M.id),(y=M.ref.current)==null||y.focus()}},[g,a,p]),x=d.useCallback(I=>{a!==I&&u(I)},[a,u]),F=d.useCallback(I=>{var y;const k=g(),L=k.findIndex(M=>M.id===I),v=p(L,1);if(v>=0&&v<k.length){const M=k[v];u(M.id),(y=M.ref.current)==null||y.focus()}},[g,p]);d.useEffect(()=>{var k,L;const I=g();if(I.length>0){if(!a){u(I[0].id);return}const v=I.findIndex(y=>y.id===a);if(I[v]){if(v===-1){const y=I[v];y&&(u(y.id),(L=y.ref.current)==null||L.focus())}}else{const y=I[I.length-1];y&&(u(y.id),(k=y.ref.current)==null||k.focus())}}},[g,p]);const j=d.useMemo(()=>({focusableItemId:a,registerItem:w,unregisterItem:C,onItemKeyDown:b,onItemFocus:x,onItemDisabled:F}),[a,w,C,b,x,F]),T=Xt(Ix,o,m({role:"toolbar","aria-orientation":"horizontal","aria-label":s.label||void 0,className:Oe(c.root,r)},l,{ref:n}));return i.jsx(Wc.Provider,{value:j,children:T})}),Px=["render","onKeyDown","onFocus","disabled","aria-disabled"],rr=me(function(t,n){var v;const{render:o,onKeyDown:r,onFocus:l,disabled:s,"aria-disabled":c}=t,a=Q(t,Px),u=_e(),f=ee(),h=d.useRef(null),g=It(h,n),{focusableItemId:p,registerItem:w,unregisterItem:C,onItemKeyDown:b,onItemFocus:x,onItemDisabled:F}=xx(),j=y=>{b(y),r==null||r(y)},T=y=>{x(u),l==null||l(y)};d.useEffect(()=>(w(u,h),()=>C(u)),[]);const I=d.useRef(s);d.useEffect(()=>{I.current!==s&&s===!0&&F(u,s),I.current=s},[s,u,F]);const k=d.useRef(c);d.useEffect(()=>{k.current!==c&&c===!0&&F(u,!0),k.current=c},[c,u,F]);const L=Xt(f.slots.baseIconButton,o,m({},(v=f.slotProps)==null?void 0:v.baseIconButton,{tabIndex:p===u?0:-1},a,{disabled:s,"aria-disabled":c,onKeyDown:j,onFocus:T,ref:g}));return i.jsx(d.Fragment,{children:L})}),kx=e=>{const{classes:t,open:n}=e;return Fe({root:["menuIcon",n&&"menuOpen"],button:["menuIconButton"]},De,t)},Ex=d.memo(e=>{var g,p;const{colDef:t,open:n,columnMenuId:o,columnMenuButtonId:r,iconButtonRef:l}=e,s=Me(),c=ee(),a=m({},e,{classes:c.classes}),u=kx(a),f=d.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s.current.toggleColumnMenu(t.field)},[s,t.field]),h=t.headerName??t.field;return i.jsx("div",{className:u.root,children:i.jsx(c.slots.baseTooltip,m({title:s.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},(g=c.slotProps)==null?void 0:g.baseTooltip,{children:i.jsx(c.slots.baseIconButton,m({ref:l,tabIndex:-1,className:u.button,"aria-label":s.current.getLocaleText("columnMenuAriaLabel")(h),size:"small",onClick:f,"aria-haspopup":"menu","aria-expanded":n,"aria-controls":n?o:void 0,id:r},(p=c.slotProps)==null?void 0:p.baseIconButton,{children:i.jsx(c.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function Tx({columnMenuId:e,columnMenuButtonId:t,ContentComponent:n,contentComponentProps:o,field:r,open:l,target:s,onExited:c}){const a=Me(),u=a.current.getColumn(r),f=Be(h=>{h&&(h.stopPropagation(),s!=null&&s.contains(h.target))||a.current.hideColumnMenu()});return!s||!u?null:i.jsx(jr,{position:`bottom-${u.align==="right"?"start":"end"}`,open:l,target:s,onClose:f,onExited:c,children:i.jsx(n,m({colDef:u,hideMenu:f,open:l,id:e,labelledby:t},o))})}function Fx(e){return e.scrollHeight>e.clientHeight||e.scrollWidth>e.clientWidth}function Cr(e,t){return e.closest(`.${t}`)}function rn(e){return e.replace(/["\\]/g,"\\$&")}function Dx(e,t){return e.querySelector(`[role="columnheader"][data-field="${rn(t)}"]`)}function Uc(e){return`.${S.row}[data-id="${rn(String(e))}"]`}function jx(e,t){return e.querySelector(Uc(t))}function Hx(e,{id:t,field:n}){const o=Uc(t),r=`.${S.cell}[data-field="${rn(n)}"]`,l=`${o} ${r}`;return e.querySelector(l)}function No(e){return e.target.nodeType===1&&!e.currentTarget.contains(e.target)}function $x(e){return e.getAttribute("data-field")}function Ox(e,t){return e.querySelector(`[data-field="${rn(t)}"]`)}function Rx(e){return e.getAttribute("data-fields").slice(2,-2).split("-|-")}function Lx(e,t){return Array.from(e.querySelectorAll(`[data-fields*="|-${rn(t)}-|"]`)??[])}function Ax(e,t){var s;if(!Cr(e,S.root))throw new Error("MUI X: The root element is not found.");const o=e.getAttribute("aria-colindex");if(!o)return[];const r=Number(o)-1,l=[];return(s=t.virtualScrollerRef)!=null&&s.current?(Xc(t).forEach(c=>{const a=c.getAttribute("data-id");if(!a)return;let u=r;const f=t.unstable_getCellColSpanInfo(a,r);f&&f.spannedByColSpan&&(u=f.leftVisibleCellIndex);const h=c.querySelector(`[data-colindex="${u}"]`);h&&l.push(h)}),l):[]}function yi(e,t){return e.rootElementRef.current.querySelector(`.${S[t]}`)}const Kc=({api:e,colIndex:t,position:n,filterFn:o})=>{if(t===null)return[];const r=[];return Xc(e).forEach(l=>{l.getAttribute("data-id")&&l.querySelectorAll(`.${S[n==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(c=>{const a=ho(c);a!==null&&o(a)&&r.push(c)})}),r};function zx(e,t,n){const o=ho(t);return Kc({api:e,colIndex:o,position:n?"right":"left",filterFn:r=>n?r<o:r>o})}function Gx(e,t,n){const o=ho(t);return Kc({api:e,colIndex:o,position:n?"left":"right",filterFn:r=>n?r>o:r<o})}const qc=({api:e,colIndex:t,position:n,filterFn:o})=>{var l;if(!((l=e.columnHeadersContainerRef)!=null&&l.current))return[];if(t===null)return[];const r=[];return e.columnHeadersContainerRef.current.querySelectorAll(`.${S[n==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(s=>{const c=ho(s);c!==null&&o(c,s)&&r.push(s)}),r};function Bx(e,t,n){const o=ho(t);return qc({api:e,position:n?"right":"left",colIndex:o,filterFn:r=>n?r<o:r>o})}function Vx(e,t,n){const o=ho(t);return qc({api:e,position:n?"left":"right",colIndex:o,filterFn:(r,l)=>l.classList.contains(S["columnHeader--last"])?!1:n?r>o:r<o})}function _x(e,t){return e.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${rn(t)}"][role="columnheader"]`)}function Nx(e,t){const n=e.virtualScrollerRef.current;return Array.from(n.querySelectorAll(`:scope > div > div > div > [data-field="${rn(t)}"][role="gridcell"]`))}function Xc(e){return e.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${S.row}`)}function ho(e){const t=e.getAttribute("aria-colindex");return t?Number(t)-1:null}const Wx=["className","aria-label"],Ux=e=>{const{classes:t}=e;return Fe({root:["columnHeaderTitle"]},De,t)},Kx=ze("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle"})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),qx=me(function(t,n){const{className:o}=t,r=Q(t,Wx),l=ee(),s=Ux(l);return i.jsx(Kx,m({className:Oe(s.root,o),ownerState:l},r,{ref:n}))});function Xx(e){var a;const{label:t,description:n}=e,o=ee(),r=d.useRef(null),[l,s]=d.useState(""),c=d.useCallback(()=>{if(!n&&(r!=null&&r.current)){const u=Fx(r.current);s(u?t:"")}},[n,t]);return i.jsx(o.slots.baseTooltip,m({title:n||l},(a=o.slotProps)==null?void 0:a.baseTooltip,{children:i.jsx(qx,{onMouseOver:c,ref:r,children:t})}))}const Yx=["resizable","resizing","height","side"];var ts=function(e){return e.Left="left",e.Right="right",e}(ts||{});const Qx=e=>{const{resizable:t,resizing:n,classes:o,side:r}=e,l={root:["columnSeparator",t&&"columnSeparator--resizable",n&&"columnSeparator--resizing",r&&`columnSeparator--side${_o(r)}`],icon:["iconSeparator"]};return Fe(l,De,o)};function Jx(e){const{height:t,side:n=ts.Right}=e,o=Q(e,Yx),r=ee(),l=m({},e,{side:n,classes:r.classes}),s=Qx(l),c=d.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]);return i.jsx("div",m({className:s.root,style:{minHeight:t}},o,{onClick:c,children:i.jsx(r.slots.columnResizeIcon,{className:s.icon})}))}const Zx=d.memo(Jx),eS=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],Yc=me(function(t,n){const{classes:o,colIndex:r,height:l,isResizing:s,sortDirection:c,tabIndex:a,separatorSide:u,isDraggable:f,headerComponent:h,description:g,width:p,columnMenuIconButton:w=null,columnMenu:C=null,columnTitleIconButtons:b=null,headerClassName:x,label:F,resizable:j,draggableContainerProps:T,columnHeaderSeparatorProps:I,style:k}=t,L=Q(t,eS),v=ee(),y=d.useRef(null),M=It(y,n);let O="none";return c!=null&&(O=c==="asc"?"ascending":"descending"),i.jsxs("div",m({className:Oe(o.root,x),style:m({},k,{width:p}),role:"columnheader",tabIndex:a,"aria-colindex":r+1,"aria-sort":O},L,{ref:M,children:[i.jsxs("div",m({className:o.draggableContainer,draggable:f,role:"presentation"},T,{children:[i.jsxs("div",{className:o.titleContainer,role:"presentation",children:[i.jsx("div",{className:o.titleContainerContent,children:h!==void 0?h:i.jsx(Xx,{label:F,description:g,columnWidth:p})}),b]}),w]})),i.jsx(Zx,m({resizable:!v.disableColumnResize&&!!j,resizing:s,height:l,side:u},I)),C]}))}),tS=e=>{const{disableColumnSorting:t}=ee(),{colDef:n,classes:o,isDragging:r,sortDirection:l,showRightBorder:s,showLeftBorder:c,filterItemsCounter:a,pinnedPosition:u,isLastUnpinned:f,isSiblingFocused:h}=e,g=n.sortable&&!t,p=l!=null,w=a!=null&&a>0,C=n.type==="number",b={root:["columnHeader",n.headerAlign==="left"&&"columnHeader--alignLeft",n.headerAlign==="center"&&"columnHeader--alignCenter",n.headerAlign==="right"&&"columnHeader--alignRight",g&&"columnHeader--sortable",r&&"columnHeader--moving",p&&"columnHeader--sorted",w&&"columnHeader--filtered",C&&"columnHeader--numeric","withBorderColor",s&&"columnHeader--withRightBorder",c&&"columnHeader--withLeftBorder",u===je.LEFT&&"columnHeader--pinnedLeft",u===je.RIGHT&&"columnHeader--pinnedRight",f&&"columnHeader--lastUnpinned",h&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Fe(b,De,o)};function nS(e){var de,se,W;const{colDef:t,columnMenuOpen:n,colIndex:o,headerHeight:r,isResizing:l,isLast:s,sortDirection:c,sortIndex:a,filterItemsCounter:u,hasFocus:f,tabIndex:h,disableReorder:g,separatorSide:p,showLeftBorder:w,showRightBorder:C,pinnedPosition:b,pinnedOffset:x}=e,F=Pt(),j=ee(),T=vt(),I=d.useRef(null),k=_e(),L=_e(),v=d.useRef(null),[y,M]=d.useState(n),O=d.useMemo(()=>!j.disableColumnReorder&&!g&&!t.disableReorder,[j.disableColumnReorder,g,t.disableReorder]);let D;t.renderHeader&&(D=t.renderHeader(F.current.getColumnHeaderParams(t.field)));const $=m({},e,{classes:j.classes,showRightBorder:C,showLeftBorder:w}),z=tS($),H=d.useCallback(X=>te=>{No(te)||F.current.publishEvent(X,F.current.getColumnHeaderParams(t.field),te)},[F,t.field]),P=d.useMemo(()=>({onClick:H("columnHeaderClick"),onContextMenu:H("columnHeaderContextMenu"),onDoubleClick:H("columnHeaderDoubleClick"),onMouseOver:H("columnHeaderOver"),onMouseOut:H("columnHeaderOut"),onMouseEnter:H("columnHeaderEnter"),onMouseLeave:H("columnHeaderLeave"),onKeyDown:H("columnHeaderKeyDown"),onFocus:H("columnHeaderFocus"),onBlur:H("columnHeaderBlur")}),[H]),E=d.useMemo(()=>O?{onDragStart:H("columnHeaderDragStart"),onDragEnter:H("columnHeaderDragEnter"),onDragOver:H("columnHeaderDragOver"),onDragEndCapture:H("columnHeaderDragEnd")}:{},[O,H]),G=d.useMemo(()=>({onMouseDown:H("columnSeparatorMouseDown"),onDoubleClick:H("columnSeparatorDoubleClick")}),[H]);d.useEffect(()=>{y||M(n)},[y,n]);const _=d.useCallback(()=>{M(!1)},[]),R=!j.disableColumnMenu&&!t.disableColumnMenu&&i.jsx(Ex,{colDef:t,columnMenuId:k,columnMenuButtonId:L,open:y,iconButtonRef:v}),A=i.jsx(Tx,{columnMenuId:k,columnMenuButtonId:L,field:t.field,open:n,target:v.current,ContentComponent:j.slots.columnMenu,contentComponentProps:(de=j.slotProps)==null?void 0:de.columnMenu,onExited:_}),V=t.sortingOrder??j.sortingOrder,U=(t.sortable||c!=null)&&!t.hideSortIcons&&!j.disableColumnSorting,N=i.jsxs(d.Fragment,{children:[!j.disableColumnFilter&&i.jsx(j.slots.columnHeaderFilterIconButton,m({field:t.field,counter:u},(se=j.slotProps)==null?void 0:se.columnHeaderFilterIconButton)),U&&i.jsx(j.slots.columnHeaderSortIcon,m({field:t.field,direction:c,index:a,sortingOrder:V,disabled:!t.sortable},(W=j.slotProps)==null?void 0:W.columnHeaderSortIcon))]});d.useLayoutEffect(()=>{const X=F.current.state.columnMenu;if(f&&!X.open){const he=I.current.querySelector('[tabindex="0"]')||I.current;if(!he)return;if(Zl())he.focus({preventScroll:!0});else{const fe=F.current.getScrollPosition();he.focus(),F.current.scroll(fe)}}},[F,f]);const J=typeof t.headerClassName=="function"?t.headerClassName({field:t.field,colDef:t}):t.headerClassName,q=t.headerName??t.field,ue=d.useMemo(()=>Br(m({},e.style),T,b,x),[b,x,e.style,T]);return i.jsx(Yc,m({ref:I,classes:z,columnMenuOpen:n,colIndex:o,height:r,isResizing:l,sortDirection:c,hasFocus:f,tabIndex:h,separatorSide:p,isDraggable:O,headerComponent:D,description:t.description,elementId:t.field,width:t.computedWidth,columnMenuIconButton:R,columnTitleIconButtons:N,headerClassName:Oe(J,s&&S["columnHeader--last"]),label:q,resizable:!j.disableColumnResize&&!!t.resizable,"data-field":t.field,columnMenu:A,draggableContainerProps:E,columnHeaderSeparatorProps:G,style:ue},P))}const oS=nn(nS),rS=["className"],lS=e=>{const{classes:t}=e;return Fe({root:["iconButtonContainer"]},De,t)},sS=ze("div",{name:"MuiDataGrid",slot:"IconButtonContainer"})(()=>({display:"flex",visibility:"hidden",width:0})),Qc=me(function(t,n){const{className:o}=t,r=Q(t,rS),l=ee(),s=lS(l);return i.jsx(sS,m({className:Oe(s.root,o),ownerState:l},r,{ref:n}))}),iS=["direction","index","sortingOrder","disabled","className"],aS=e=>{const{classes:t}=e;return Fe({root:["sortButton"],icon:["sortIcon"]},De,t)},cS=ze(qt,{name:"MuiDataGrid",slot:"SortButton"})({transition:oe.transition(["opacity"],{duration:oe.transitions.duration.short,easing:oe.transitions.easing.easeInOut})});function uS(e,t,n,o){let r;const l={};return t==="asc"?r=e.columnSortedAscendingIcon:t==="desc"?r=e.columnSortedDescendingIcon:(r=e.columnUnsortedIcon,l.sortingOrder=o),r?i.jsx(r,m({fontSize:"small",className:n},l)):null}function dS(e){var p;const{direction:t,index:n,sortingOrder:o,disabled:r,className:l}=e,s=Q(e,iS),c=Me(),a=ee(),u=m({},e,{classes:a.classes}),f=aS(u),h=uS(a.slots,t,f.icon,o);if(!h)return null;const g=i.jsx(cS,m({as:a.slots.baseIconButton,ownerState:u,"aria-label":c.current.getLocaleText("columnHeaderSortIconLabel"),title:c.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:r,className:Oe(f.root,l)},(p=a.slotProps)==null?void 0:p.baseIconButton,s,{children:h}));return i.jsxs(d.Fragment,{children:[n!=null&&i.jsx(a.slots.baseBadge,{badgeContent:n,color:"default",overlap:"circular",children:g}),n==null&&g]})}function fS(e){return i.jsx(Qc,{children:i.jsx(dS,m({},e,{tabIndex:-1}))})}const hS=d.memo(fS),gS=e=>{const{classes:t}=e;return Fe({icon:["filterIcon"]},De,t)};function mS(e){return e.counter?i.jsx(pS,m({},e)):null}function pS(e){var p,w;const{counter:t,field:n,onClick:o}=e,r=Me(),l=ee(),s=m({},e,{classes:l.classes}),c=gS(s),a=_e(),u=K(r,IC,a),f=_e(),h=d.useCallback(C=>{C.preventDefault(),C.stopPropagation();const{open:b,openedPanelValue:x}=kn(r);b&&x===mt.filters?r.current.hideFilterPanel():r.current.showFilterPanel(void 0,f,a),o&&o(r.current.getColumnHeaderParams(n),C)},[r,n,o,f,a]);if(!t)return null;const g=i.jsx(l.slots.baseIconButton,m({id:a,onClick:h,"aria-label":r.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":u,"aria-controls":u?f:void 0},(p=l.slotProps)==null?void 0:p.baseIconButton,{children:i.jsx(l.slots.columnFilteredIcon,{className:c.icon,fontSize:"small"})}));return i.jsx(l.slots.baseTooltip,m({title:r.current.getLocaleText("columnHeaderFiltersTooltipActive")(t),enterDelay:1e3},(w=l.slotProps)==null?void 0:w.baseTooltip,{children:i.jsxs(Qc,{children:[t>1&&i.jsx(l.slots.baseBadge,{badgeContent:t,color:"default",children:g}),t===1&&g]})}))}const bS=["hideMenu","colDef","id","labelledby","className","children","open"],CS=ke(qt)(()=>({minWidth:248}));function vi(e){e.currentTarget.contains(e.target)&&e.stopPropagation()}const wS=me(function(t,n){const{hideMenu:o,id:r,labelledby:l,className:s,children:c,open:a}=t,u=Q(t,bS),f=ee(),h=d.useCallback(g=>{g.key==="Tab"&&g.preventDefault(),tc(g.key)&&o(g)},[o]);return i.jsx(CS,m({as:f.slots.baseMenuList,id:r,className:Oe(S.menuList,s),"aria-labelledby":l,onKeyDown:h,onWheel:vi,onTouchMove:vi,autoFocus:a},u,{ref:n,children:c}))}),xS=["displayOrder"],SS=e=>{const t=Pt(),n=ee(),{defaultSlots:o,defaultSlotProps:r,slots:l={},slotProps:s={},hideMenu:c,colDef:a,addDividers:u=!0}=e,f=d.useMemo(()=>m({},o,l),[o,l]),h=d.useMemo(()=>{if(!s||Object.keys(s).length===0)return r;const w=m({},s);return Object.entries(r).forEach(([C,b])=>{w[C]=m({},b,s[C]||{})}),w},[r,s]),g=t.current.unstable_applyPipeProcessors("columnMenu",[],e.colDef),p=d.useMemo(()=>{const w=Object.keys(o);return Object.keys(l).filter(C=>!w.includes(C))},[l,o]);return d.useMemo(()=>{const b=Array.from(new Set([...g,...p])).filter(x=>f[x]!=null).sort((x,F)=>{const j=h[x],T=h[F],I=Number.isFinite(j==null?void 0:j.displayOrder)?j.displayOrder:100,k=Number.isFinite(T==null?void 0:T.displayOrder)?T.displayOrder:100;return I-k});return b.reduce((x,F,j)=>{let T={colDef:a,onClick:c};const I=h[F];if(I){const k=Q(I,xS);T=m({},T,k)}return u&&j!==b.length-1?[...x,[f[F],T],[n.slots.baseDivider,{}]]:[...x,[f[F],T]]},[])},[u,a,g,c,f,h,p,n.slots.baseDivider])};function yS(e){const{colDef:t,onClick:n}=e,o=Me(),r=ee(),c=Ze(o).filter(u=>u.disableColumnMenu!==!0).length===1,a=d.useCallback(u=>{c||(o.current.setColumnVisibility(t.field,!1),n(u))},[o,t.field,n,c]);return r.disableColumnSelector||t.hideable===!1?null:i.jsx(r.slots.baseMenuItem,{onClick:a,disabled:c,iconStart:i.jsx(r.slots.columnMenuHideIcon,{fontSize:"small"}),children:o.current.getLocaleText("columnMenuHideColumn")})}function vS(e){const{onClick:t}=e,n=Me(),o=ee(),r=d.useCallback(l=>{t(l),n.current.showPreferences(mt.columns)},[n,t]);return o.disableColumnSelector?null:i.jsx(o.slots.baseMenuItem,{onClick:r,iconStart:i.jsx(o.slots.columnMenuManageColumnsIcon,{fontSize:"small"}),children:n.current.getLocaleText("columnMenuManageColumns")})}function IS(e){return i.jsxs(d.Fragment,{children:[i.jsx(yS,m({},e)),i.jsx(vS,m({},e))]})}function MS(e){const{colDef:t,onClick:n}=e,o=Me(),r=ee(),l=d.useCallback(s=>{n(s),o.current.showFilterPanel(t.field)},[o,t.field,n]);return r.disableColumnFilter||!t.filterable?null:i.jsx(r.slots.baseMenuItem,{onClick:l,iconStart:i.jsx(r.slots.columnMenuFilterIcon,{fontSize:"small"}),children:o.current.getLocaleText("columnMenuFilter")})}function PS(e){const{colDef:t,onClick:n}=e,o=Me(),r=K(o,kt),l=ee(),s=d.useMemo(()=>{if(!t)return null;const f=r.find(h=>h.field===t.field);return f==null?void 0:f.sort},[t,r]),c=t.sortingOrder??l.sortingOrder,a=d.useCallback(f=>{n(f);const h=f.currentTarget.getAttribute("data-value")||null,g=l.multipleColumnsSortingMode==="always";o.current.sortColumn(t.field,h===s?null:h,g)},[o,t,n,s,l.multipleColumnsSortingMode]);if(l.disableColumnSorting||!t||!t.sortable||!c.some(f=>!!f))return null;const u=f=>{const h=o.current.getLocaleText(f);return typeof h=="function"?h(t):h};return i.jsxs(d.Fragment,{children:[c.includes("asc")&&s!=="asc"?i.jsx(l.slots.baseMenuItem,{onClick:a,"data-value":"asc",iconStart:i.jsx(l.slots.columnMenuSortAscendingIcon,{fontSize:"small"}),children:u("columnMenuSortAsc")}):null,c.includes("desc")&&s!=="desc"?i.jsx(l.slots.baseMenuItem,{onClick:a,"data-value":"desc",iconStart:i.jsx(l.slots.columnMenuSortDescendingIcon,{fontSize:"small"}),children:u("columnMenuSortDesc")}):null,c.includes(null)&&s!=null?i.jsx(l.slots.baseMenuItem,{onClick:a,iconStart:l.slots.columnMenuUnsortIcon?i.jsx(l.slots.columnMenuUnsortIcon,{fontSize:"small"}):i.jsx("span",{}),children:o.current.getLocaleText("columnMenuUnsort")}):null]})}const kS=["defaultSlots","defaultSlotProps","slots","slotProps"],ES={columnMenuSortItem:PS,columnMenuFilterItem:MS,columnMenuColumnsItem:IS},TS={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},FS=me(function(t,n){const{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}=t,c=Q(t,kS),a=SS(m({},c,{defaultSlots:o,defaultSlotProps:r,slots:l,slotProps:s}));return i.jsx(wS,m({},c,{ref:n,children:a.map(([u,f],h)=>i.jsx(u,m({},f),h))}))}),DS=me(function(t,n){return i.jsx(FS,m({},t,{ref:n,defaultSlots:ES,defaultSlotProps:TS}))}),jS=["className"],HS=e=>{const{classes:t}=e;return Fe({root:["panelWrapper"]},De,t)},$S=ke("div",{name:"MuiDataGrid",slot:"PanelWrapper"})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),Jc=me(function(t,n){const{className:o}=t,r=Q(t,jS),l=ee(),s=HS(l);return i.jsx($S,m({tabIndex:-1,className:Oe(s.root,o),ownerState:l},r,{ref:n}))});function OS(e){var n;const t=ee();return i.jsx(Jc,m({},e,{children:i.jsx(t.slots.columnsManagement,m({},(n=t.slotProps)==null?void 0:n.columnsManagement))}))}const RS=["children","className","classes","onClose"],LS=$a("MuiDataGrid",["panel","paper"]),AS=ke(qt,{name:"MuiDataGrid",slot:"panel"})({zIndex:oe.zIndex.panel}),zS=ke("div",{name:"MuiDataGrid",slot:"panelContent"})({backgroundColor:oe.colors.background.overlay,borderRadius:oe.radius.base,boxShadow:oe.shadows.overlay,display:"flex",maxWidth:`calc(100vw - ${oe.spacing(2)})`,overflow:"auto"}),GS=me((e,t)=>{var F;const{children:n,className:o,onClose:r}=e,l=Q(e,RS),s=Me(),c=ee(),a=LS,[u,f]=d.useState(!1),h=rc(),g=Be(()=>f(!0)),p=Be(()=>f(!1)),w=Be(()=>{r==null||r()}),C=Be(j=>{j.key==="Escape"&&(r==null||r())}),[b,x]=d.useState(null);return d.useEffect(()=>{var T,I;const j=(I=(T=s.current.rootElementRef)==null?void 0:T.current)==null?void 0:I.querySelector('[data-id="gridPanelAnchor"]');j&&x(j)},[s]),b?i.jsx(AS,m({as:c.slots.basePopper,ownerState:c,placement:"bottom-end",className:Oe(a.panel,o,h),flip:!0,onDidShow:g,onDidHide:p,onClickAway:w,clickAwayMouseEvent:"onPointerUp",clickAwayTouchEvent:!1,focusTrap:!0},l,(F=c.slotProps)==null?void 0:F.basePopper,{target:e.target??b,ref:t,children:i.jsx(zS,{className:a.paper,ownerState:c,onKeyDown:C,children:u&&n})})):null}),BS=["className"],VS=e=>{const{classes:t}=e;return Fe({root:["panelContent"]},De,t)},_S=ze("div",{name:"MuiDataGrid",slot:"PanelContent"})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,padding:oe.spacing(2.5,1.5,2,1),gap:oe.spacing(2.5)});function NS(e){const{className:t}=e,n=Q(e,BS),o=ee(),r=VS(o);return i.jsx(_S,m({className:Oe(r.root,t),ownerState:o},n))}const WS=["className"],US=e=>{const{classes:t}=e;return Fe({root:["panelFooter"]},De,t)},KS=ke("div",{name:"MuiDataGrid",slot:"PanelFooter"})({padding:oe.spacing(1),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${oe.colors.border.base}`});function qS(e){const{className:t}=e,n=Q(e,WS),o=ee(),r=US(o);return i.jsx(KS,m({className:Oe(r.root,t),ownerState:o},n))}const XS=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],YS=["InputComponentProps"],QS=e=>{const{classes:t}=e;return Fe({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},De,t)},JS=ke("div",{name:"MuiDataGrid",slot:"FilterForm"})({display:"flex",gap:oe.spacing(1.5)}),ZS=ke("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon"})({flexShrink:0,display:"flex",justifyContent:"center",alignItems:"center"}),ey=ke("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput"})({minWidth:75,justifyContent:"end"}),ty=ke("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput"})({width:150}),ny=ke("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput"})({width:150}),oy=ke("div",{name:"MuiDataGrid",slot:"FilterFormValueInput"})({width:190}),ry=e=>{switch(e){case gt.And:return"filterPanelOperatorAnd";case gt.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},po=e=>e.headerName||e.field,Ii=new Intl.Collator,Mi=me(function(t,n){var ge,we,pe,ve,He,Re,Ue;const{item:o,hasMultipleFilters:r,deleteFilter:l,applyFilterChanges:s,showMultiFilterOperators:c,disableMultiFilterOperator:a,applyMultiFilterOperatorChanges:u,focusElementRef:f,logicOperators:h=[gt.And,gt.Or],columnsSort:g,filterColumns:p,deleteIconProps:w={},logicOperatorInputProps:C={},operatorInputProps:b={},columnInputProps:x={},valueInputProps:F={},readOnly:j}=t,T=Q(t,XS),I=Me(),k=K(I,on),L=K(I,Qa),v=K(I,it),y=_e(),M=_e(),O=_e(),D=_e(),$=ee(),z=QS($),H=d.useRef(null),P=d.useRef(null),E=v.logicOperator??gt.And,G=r&&h.length>0,R=(((ge=$.slotProps)==null?void 0:ge.baseSelect)||{}).native??!1,A=((we=$.slotProps)==null?void 0:we.baseSelectOption)||{},{InputComponentProps:V}=F,U=Q(F,YS),N=K(I,Pn),J=K(I,Yl),{filteredColumns:q,selectedField:ue}=d.useMemo(()=>{let Y=o.field;const ae=k[o.field].filterable===!1?k[o.field]:null;if(ae)return{filteredColumns:[ae],selectedField:Y};if(N)return{filteredColumns:L.filter(ye=>J.get(ye.field)!==void 0),selectedField:Y};if(p===void 0||typeof p!="function")return{filteredColumns:L,selectedField:Y};const xe=p({field:o.field,columns:L,currentFilters:(v==null?void 0:v.items)||[]});return{filteredColumns:L.filter(ye=>{const Ie=xe.includes(ye.field);return ye.field===o.field&&!Ie&&(Y=void 0),Ie}),selectedField:Y}},[o.field,k,N,p,L,v==null?void 0:v.items,J]),de=d.useMemo(()=>{switch(g){case"asc":return q.sort((Y,ae)=>Ii.compare(po(Y),po(ae)));case"desc":return q.sort((Y,ae)=>-Ii.compare(po(Y),po(ae)));default:return q}},[q,g]),se=o.field?I.current.getColumn(o.field):null,W=d.useMemo(()=>{var Y;return!o.operator||!se?null:(Y=se.filterOperators)==null?void 0:Y.find(ae=>ae.value===o.operator)},[o,se]),X=d.useCallback(Y=>{const ae=Y.target.value,xe=I.current.getColumn(ae);if(xe.field===se.field)return;const ye=xe.filterOperators.find(Ve=>Ve.value===o.operator)||xe.filterOperators[0];let $e=!ye.InputComponent||ye.InputComponent!==(W==null?void 0:W.InputComponent)||xe.type!==se.type?void 0:o.value;if(xe.type==="singleSelect"&&$e!==void 0){const Ve=xe,ot=Mn(Ve);Array.isArray($e)?$e=$e.filter(Se=>mr(Se,ot,Ve==null?void 0:Ve.getOptionValue)!==void 0):mr(o.value,ot,Ve==null?void 0:Ve.getOptionValue)===void 0&&($e=void 0)}s(m({},o,{field:ae,operator:ye.value,value:$e}))},[I,s,o,se,W]),te=d.useCallback(Y=>{const ae=Y.target.value,xe=se==null?void 0:se.filterOperators.find(Ie=>Ie.value===ae),ye=!(xe!=null&&xe.InputComponent)||(xe==null?void 0:xe.InputComponent)!==(W==null?void 0:W.InputComponent);s(m({},o,{operator:ae,value:ye?void 0:o.value}))},[s,o,se,W]),he=d.useCallback(Y=>{const ae=Y.target.value===gt.And.toString()?gt.And:gt.Or;u(ae)},[u]),fe=()=>{l(o)};return d.useImperativeHandle(f,()=>({focus:()=>{var Y;W!=null&&W.InputComponent?(Y=H==null?void 0:H.current)==null||Y.focus():P.current.focus()}}),[W]),i.jsxs(JS,m({className:z.root,"data-id":o.id,ownerState:$},T,{ref:n,children:[i.jsx(ZS,m({},w,{className:Oe(z.deleteIcon,w.className),ownerState:$,children:i.jsx($.slots.baseIconButton,m({"aria-label":I.current.getLocaleText("filterPanelDeleteIconLabel"),title:I.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:fe,size:"small",disabled:j},(pe=$.slotProps)==null?void 0:pe.baseIconButton,{children:i.jsx($.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),i.jsx(ey,m({as:$.slots.baseSelect,sx:[G?{display:"flex"}:{display:"none"},c?{visibility:"visible"}:{visibility:"hidden"},C.sx],className:Oe(z.logicOperatorInput,C.className),ownerState:$},C,{size:"small",slotProps:{htmlInput:{"aria-label":I.current.getLocaleText("filterPanelLogicOperator")}},value:E??"",onChange:he,disabled:!!a||h.length===1,native:R},(ve=$.slotProps)==null?void 0:ve.baseSelect,{children:h.map(Y=>d.createElement($.slots.baseSelectOption,m({},A,{native:R,key:Y.toString(),value:Y.toString()}),I.current.getLocaleText(ry(Y))))})),i.jsx(ty,m({as:$.slots.baseSelect},x,{className:Oe(z.columnInput,x.className),ownerState:$,size:"small",labelId:M,id:y,label:I.current.getLocaleText("filterPanelColumns"),value:ue??"",onChange:X,native:R,disabled:j},(He=$.slotProps)==null?void 0:He.baseSelect,{children:de.map(Y=>d.createElement($.slots.baseSelectOption,m({},A,{native:R,key:Y.field,value:Y.field}),po(Y)))})),i.jsx(ny,m({as:$.slots.baseSelect,size:"small"},b,{className:Oe(z.operatorInput,b.className),ownerState:$,labelId:D,label:I.current.getLocaleText("filterPanelOperator"),id:O,value:o.operator,onChange:te,native:R,inputRef:P,disabled:j},(Re=$.slotProps)==null?void 0:Re.baseSelect,{children:(Ue=se==null?void 0:se.filterOperators)==null?void 0:Ue.map(Y=>d.createElement($.slots.baseSelectOption,m({},A,{native:R,key:Y.value,value:Y.value}),Y.label||I.current.getLocaleText(`filterOperator${_o(Y.value)}`)))})),i.jsx(oy,m({},U,{className:Oe(z.valueInput,U.className),ownerState:$,children:W!=null&&W.InputComponent?i.jsx(W.InputComponent,m({apiRef:I,item:o,applyValue:s,focusElementRef:H,disabled:j,slotProps:{root:{size:"small"}}},W.InputComponentProps,V),o.field):null}))]}))}),ly=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Pi=e=>({field:e.field,operator:e.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),sy=me(function(t,n){var D,$;const o=Me(),r=ee(),l=K(o,it),s=K(o,Qa),c=K(o,op),a=d.useRef(null),u=d.useRef(null),{logicOperators:f=[gt.And,gt.Or],columnsSort:h,filterFormProps:g,getColumnForNewFilter:p,disableAddFilterButton:w=!1,disableRemoveAllButton:C=!1}=t,b=Q(t,ly),x=o.current.upsertFilterItem,F=d.useCallback(z=>{o.current.setFilterLogicOperator(z)},[o]),j=d.useCallback(()=>{let z;if(p&&typeof p=="function"){const H=p({currentFilters:(l==null?void 0:l.items)||[],columns:s});if(H===null)return null;z=s.find(({field:P})=>P===H)}else z=s.find(H=>{var P;return(P=H.filterOperators)==null?void 0:P.length});return z?Pi(z):null},[l==null?void 0:l.items,s,p]),T=d.useCallback(()=>{if(p===void 0||typeof p!="function")return j();const z=l.items.length?l.items:[j()].filter(Boolean),H=p({currentFilters:z,columns:s});if(H===null)return null;const P=s.find(({field:E})=>E===H);return P?Pi(P):null},[l.items,s,p,j]),I=d.useMemo(()=>l.items.length?l.items:(u.current||(u.current=j()),u.current?[u.current]:[]),[l.items,j]),k=I.length>1,{readOnlyFilters:L,validFilters:v}=d.useMemo(()=>I.reduce((z,H)=>(c[H.field]?z.validFilters.push(H):z.readOnlyFilters.push(H),z),{readOnlyFilters:[],validFilters:[]}),[I,c]),y=d.useCallback(()=>{const z=T();z&&o.current.upsertFilterItems([...I,z])},[o,T,I]),M=d.useCallback(z=>{const H=v.length===1;o.current.deleteFilterItem(z),H&&o.current.hideFilterPanel()},[o,v.length]),O=d.useCallback(()=>v.length===1&&v[0].value===void 0?(o.current.deleteFilterItem(v[0]),o.current.hideFilterPanel()):o.current.setFilterModel(m({},l,{items:L}),"removeAllFilterItems"),[o,L,l,v]);return d.useEffect(()=>{f.length>0&&l.logicOperator&&!f.includes(l.logicOperator)&&F(f[0])},[f,F,l.logicOperator]),d.useEffect(()=>{v.length>0&&a.current.focus()},[v.length]),i.jsxs(Jc,m({},b,{ref:n,children:[i.jsxs(NS,{children:[L.map((z,H)=>i.jsx(Mi,m({item:z,applyFilterChanges:x,deleteFilter:M,hasMultipleFilters:k,showMultiFilterOperators:H>0,disableMultiFilterOperator:H!==1,applyMultiFilterOperatorChanges:F,focusElementRef:null,readOnly:!0,logicOperators:f,columnsSort:h},g),z.id==null?H:z.id)),v.map((z,H)=>i.jsx(Mi,m({item:z,applyFilterChanges:x,deleteFilter:M,hasMultipleFilters:k,showMultiFilterOperators:L.length+H>0,disableMultiFilterOperator:L.length+H!==1,applyMultiFilterOperatorChanges:F,focusElementRef:H===v.length-1?a:null,logicOperators:f,columnsSort:h},g),z.id==null?H+L.length:z.id))]}),!r.disableMultipleColumnsFiltering&&!(w&&C)?i.jsxs(qS,{children:[w?i.jsx("span",{}):i.jsx(r.slots.baseButton,m({onClick:y,startIcon:i.jsx(r.slots.filterPanelAddIcon,{})},(D=r.slotProps)==null?void 0:D.baseButton,{children:o.current.getLocaleText("filterPanelAddFilter")})),!C&&v.length>0?i.jsx(r.slots.baseButton,m({onClick:O,startIcon:i.jsx(r.slots.filterPanelRemoveAllIcon,{})},($=r.slotProps)==null?void 0:$.baseButton,{children:o.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))});function ns(e,t=166){let n;function o(...r){const l=()=>{e.apply(this,r)};clearTimeout(n),n=setTimeout(l,t)}return o.clear=()=>{clearTimeout(n)},o}const iy=(e,t)=>{const n=new Set(Object.keys(e).filter(l=>e[l]===!1)),o=new Set(Object.keys(t).filter(l=>t[l]===!1));if(n.size!==o.size)return!1;let r=!0;return n.forEach(l=>{o.has(l)||(r=!1)}),r},ay=(e,t)=>(e.headerName||e.field).toLowerCase().indexOf(t)>-1,cy=["children"],uy=yr({from:{opacity:0},to:{opacity:1}}),dy=yr({"from, to":{"--scrollable":'" "'}}),fy=ze("div",{name:"MuiDataGrid",slot:"ShadowScrollArea"})`
  flex: 1;
  display: flex;
  flex-direction: column;
  animation: ${dy};
  animation-timeline: --scroll-timeline;
  animation-fill-mode: none;
  box-sizing: border-box;
  overflow: auto;
  scrollbar-width: thin;
  scroll-timeline: --scroll-timeline block;

  &::before,
  &::after {
    content: '';
    flex-shrink: 0;
    display: block;
    position: sticky;
    left: 0;
    width: 100%;
    height: 4px;
    animation: ${uy} linear both;
    animation-timeline: --scroll-timeline;

    // Custom property toggle trick:
    // - Detects if the element is scrollable
    // - https://css-tricks.com/the-css-custom-property-toggle-trick/
    --visibility-scrollable: var(--scrollable) visible;
    --visibility-not-scrollable: hidden;
    visibility: var(--visibility-scrollable, var(--visibility-not-scrollable));
  }

  &::before {
    top: 0;
    background: linear-gradient(to bottom, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-range: 0 4px;
  }

  &::after {
    bottom: 0;
    background: linear-gradient(to top, rgba(0, 0, 0, 0.05) 0, transparent 100%);
    animation-direction: reverse;
    animation-range: calc(100% - 4px) 100%;
  }
`,hy=me(function(t,n){const{children:o}=t,r=Q(t,cy);return i.jsx(fy,m({},r,{ref:n,children:o}))}),gy=e=>{const{classes:t}=e;return Fe({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},De,t)},ki=new Intl.Collator;function my(e){var R,A,V,U;const t=Me(),n=d.useRef(null),o=K(t,np),r=K(t,Ft),l=ee(),[s,c]=d.useState(""),a=gy(l),u=K(t,Dt),f=K(t,Pn),h=K(t,Yl),g=d.useMemo(()=>f?Array.from(h.values()):u,[f,h,u]),{sort:p,searchPredicate:w=ay,autoFocusSearchField:C=!0,disableShowHideToggle:b=!1,disableResetButton:x=!1,toggleAllMode:F="all",getTogglableColumns:j,searchInputProps:T,searchDebounceMs:I=l.columnFilterDebounceMs}=e,k=d.useMemo(()=>ns(N=>{c(N)},I??150),[I]),L=d.useMemo(()=>iy(r,o),[r,o]),v=d.useMemo(()=>{switch(p){case"asc":return[...g].sort((N,J)=>ki.compare(N.headerName||N.field,J.headerName||J.field));case"desc":return[...g].sort((N,J)=>-ki.compare(N.headerName||N.field,J.headerName||J.field));default:return g}},[g,p]),y=N=>{const{name:J}=N.target;t.current.setColumnVisibility(J,r[J]===!1)},M=d.useMemo(()=>{const N=j?j(v):null,J=N?v.filter(({field:q})=>N.includes(q)):v;return s?J.filter(q=>w(q,s.toLowerCase())):J},[v,s,w,j]),O=d.useCallback(N=>{const J=Ft(t),q=m({},J),ue=j?j(g):null;return(F==="filteredOnly"?M:g).forEach(de=>{de.hideable&&(ue==null||ue.includes(de.field))&&(N?delete q[de.field]:q[de.field]=!1)}),t.current.setColumnVisibilityModel(q)},[t,g,j,F,M]),D=d.useCallback(N=>{k(N.target.value)},[k]),$=d.useMemo(()=>M.filter(N=>N.hideable),[M]),z=d.useMemo(()=>$.every(N=>r[N.field]==null||r[N.field]!==!1),[r,$]),H=d.useMemo(()=>$.every(N=>r[N.field]===!1),[r,$]),P=d.useRef(null);d.useEffect(()=>{var N;C?(N=n.current)==null||N.focus():P.current&&typeof P.current.focus=="function"&&P.current.focus()},[C]);let E=!1;const G=N=>E===!1&&N.hideable!==!1?(E=!0,!0):!1,_=d.useCallback(()=>{c(""),n.current&&(n.current.value="",n.current.focus())},[]);return i.jsxs(d.Fragment,{children:[i.jsx(Cy,{className:a.header,ownerState:l,children:i.jsx(wy,m({as:l.slots.baseTextField,ownerState:l,placeholder:t.current.getLocaleText("columnsManagementSearchTitle"),inputRef:n,className:a.searchInput,onChange:D,size:"small",type:"search",slotProps:{input:{startAdornment:i.jsx(l.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:i.jsx(l.slots.baseIconButton,m({size:"small","aria-label":t.current.getLocaleText("columnsManagementDeleteIconLabel"),style:s?{visibility:"visible"}:{visibility:"hidden"},tabIndex:-1,onClick:_,edge:"end"},(R=l.slotProps)==null?void 0:R.baseIconButton,{children:i.jsx(l.slots.quickFilterClearIcon,{fontSize:"small"})}))},htmlInput:{"aria-label":t.current.getLocaleText("columnsManagementSearchTitle")}},autoComplete:"off",fullWidth:!0},(A=l.slotProps)==null?void 0:A.baseTextField,T))}),i.jsx(by,{ownerState:l,children:i.jsxs(py,{className:a.root,ownerState:l,children:[M.map(N=>{var J;return i.jsx(yy,m({as:l.slots.baseCheckbox,className:a.row,disabled:N.hideable===!1||f,checked:r[N.field]!==!1,onChange:y,name:N.field,inputRef:G(N)?P:void 0,label:N.headerName||N.field,density:"compact",fullWidth:!0},(J=l.slotProps)==null?void 0:J.baseCheckbox),N.field)}),M.length===0&&i.jsx(Sy,{ownerState:l,children:t.current.getLocaleText("columnsManagementNoColumns")})]})}),!b||!x?i.jsxs(xy,{ownerState:l,className:a.footer,children:[b?i.jsx("span",{}):i.jsx(l.slots.baseCheckbox,m({disabled:$.length===0||f,checked:z,indeterminate:!z&&!H,onChange:()=>O(!z),name:t.current.getLocaleText("columnsManagementShowHideAllText"),label:t.current.getLocaleText("columnsManagementShowHideAllText"),density:"compact"},(V=l.slotProps)==null?void 0:V.baseCheckbox)),x?null:i.jsx(l.slots.baseButton,m({onClick:()=>t.current.setColumnVisibilityModel(o),disabled:L||f},(U=l.slotProps)==null?void 0:U.baseButton,{children:t.current.getLocaleText("columnsManagementReset")}))]}):null]})}const py=ke("div",{name:"MuiDataGrid",slot:"ColumnsManagement"})({display:"flex",flexDirection:"column",padding:oe.spacing(.5,1.5)}),by=ke(hy,{name:"MuiDataGrid",slot:"ColumnsManagementScrollArea"})({maxHeight:300}),Cy=ke("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader"})({padding:oe.spacing(1.5,2),borderBottom:`1px solid ${oe.colors.border.base}`}),wy=ke(qt,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput"})({[`& .${Wo.input}::-webkit-search-decoration,
      & .${Wo.input}::-webkit-search-cancel-button,
      & .${Wo.input}::-webkit-search-results-button,
      & .${Wo.input}::-webkit-search-results-decoration`]:{display:"none"}}),xy=ke("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter"})({padding:oe.spacing(1,1,1,1.5),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${oe.colors.border.base}`}),Sy=ke("div",{name:"MuiDataGrid",slot:"ColumnsManagementEmptyText"})({padding:oe.spacing(1,0),alignSelf:"center",font:oe.typography.font.body}),yy=ke(qt,{name:"MuiDataGrid",slot:"ColumnsManagementRow"})({}),vy=me(function(t,n){var x,F;const{children:o,slotProps:r={}}=t,l=r.button||{},s=r.tooltip||{},c=Me(),a=ee(),u=_e(),f=_e(),[h,g]=d.useState(!1),p=d.useRef(null),w=It(n,p),C=j=>{var T;g(I=>!I),(T=l.onClick)==null||T.call(l,j)},b=()=>g(!1);return o==null?null:i.jsxs(d.Fragment,{children:[i.jsx(a.slots.baseTooltip,m({title:c.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},(x=a.slotProps)==null?void 0:x.baseTooltip,s,{children:i.jsx(a.slots.baseButton,m({size:"small",startIcon:i.jsx(a.slots.exportIcon,{}),"aria-expanded":h,"aria-label":c.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":h?f:void 0,id:u},(F=a.slotProps)==null?void 0:F.baseButton,l,{onClick:C,ref:w,children:c.current.getLocaleText("toolbarExport")}))})),i.jsx(jr,{open:h,target:p.current,onClose:b,position:"bottom-end",children:i.jsx(a.slots.baseMenuList,{id:f,className:S.menuList,"aria-labelledby":u,autoFocusItem:h,children:d.Children.map(o,j=>d.isValidElement(j)?d.cloneElement(j,{hideMenu:b}):j)})})]})}),Iy=["hideMenu","options"],My=["hideMenu","options"],Py=["csvOptions","printOptions","excelOptions"];function ky(e){const t=Me(),n=ee(),{hideMenu:o,options:r}=e,l=Q(e,Iy);return i.jsx(n.slots.baseMenuItem,m({onClick:()=>{t.current.exportDataAsCsv(r),o==null||o()}},l,{children:t.current.getLocaleText("toolbarExportCSV")}))}function Ey(e){const t=Me(),n=ee(),{hideMenu:o,options:r}=e,l=Q(e,My);return i.jsx(n.slots.baseMenuItem,m({onClick:()=>{t.current.exportDataAsPrint(r),o==null||o()}},l,{children:t.current.getLocaleText("toolbarExportPrint")}))}me(function(t,n){const o=t,{csvOptions:r={},printOptions:l={},excelOptions:s}=o,c=Q(o,Py),u=Me().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:s,csvOptions:r,printOptions:l}).sort((f,h)=>f.componentName>h.componentName?1:-1);return u.length===0?null:i.jsx(vy,m({},c,{ref:n,children:u.map((f,h)=>d.cloneElement(f.component,{key:h}))}))});function Gt(e,t){if(e===t)return!0;if(e&&t&&typeof e=="object"&&typeof t=="object"){if(e.constructor!==t.constructor)return!1;if(Array.isArray(e)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(!Gt(e[l],t[l]))return!1;return!0}if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;for(let l=0;l<r.length;l+=1){const s=r[l];if(!Gt(s[1],t.get(s[0])))return!1}return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;const r=Array.from(e.entries());for(let l=0;l<r.length;l+=1)if(!t.has(r[l][0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(t)){const r=e.length;if(r!==t.length)return!1;for(let l=0;l<r;l+=1)if(e[l]!==t[l])return!1;return!0}if(e.constructor===RegExp)return e.source===t.source&&e.flags===t.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===t.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===t.toString();const n=Object.keys(e),o=n.length;if(o!==Object.keys(t).length)return!1;for(let r=0;r<o;r+=1)if(!Object.prototype.hasOwnProperty.call(t,n[r]))return!1;for(let r=0;r<o;r+=1){const l=n[r];if(!Gt(e[l],t[l]))return!1}return!0}return e!==e&&t!==t}const Zc=d.createContext(void 0);function os(){const e=d.useContext(Zc);if(e===void 0)throw new Error("MUI X: Missing context. Quick Filter subcomponents must be placed within a <QuickFilter /> component.");return e}const Ty=["render","className","parser","formatter","debounceMs","defaultExpanded","expanded","onExpandedChange"],Fy=e=>e.split(" ").filter(t=>t!==""),Dy=e=>e.join(" ");function jy(e){const t=ee(),{render:n,className:o,parser:r=Fy,formatter:l=Dy,debounceMs:s=t.filterDebounceMs,defaultExpanded:c,expanded:a,onExpandedChange:u}=e,f=Q(e,Ty),h=Me(),g=d.useRef(null),p=d.useRef(null),w=K(h,ac),[C,b]=d.useState(l(w??[])),[x,F]=d.useState(c??C.length>0),j=a??x,T=d.useMemo(()=>({value:C,expanded:j}),[C,j]),I=typeof o=="function"?o(T):o,k=d.useRef(null),L=_e(),v=d.useCallback(E=>{u&&u(E),a===void 0&&F(E)},[u,a]),y=d.useRef(w);d.useEffect(()=>{Gt(y.current,w)||(y.current=w,b(E=>Gt(r(E),w)?E:l(w??[])))},[w,l,r]);const M=d.useRef(!0),O=d.useRef(j);d.useEffect(()=>{var E;if(M.current){M.current=!1;return}O.current!==j&&(j?requestAnimationFrame(()=>{var G;(G=g.current)==null||G.focus({preventScroll:!0})}):(E=p.current)==null||E.focus({preventScroll:!0}),O.current=j)},[j]);const D=d.useMemo(()=>ns(E=>{const G=r(E);y.current=G,h.current.setQuickFilterValues(G)},s),[h,s,r]);d.useEffect(()=>D.clear,[D]);const $=d.useCallback(E=>{const G=E.target.value;b(G),D(G)},[D]),z=d.useCallback(()=>{var E;b(""),h.current.setQuickFilterValues([]),(E=g.current)==null||E.focus()},[h,g]),H=d.useMemo(()=>({controlRef:g,triggerRef:p,state:T,controlId:L,clearValue:z,onValueChange:$,onExpandedChange:v}),[L,T,$,z,v]);Mt(()=>{var E;k.current&&p.current&&k.current.style.setProperty("--trigger-width",`${(E=p.current)==null?void 0:E.offsetWidth}px`)},[]);const P=Xt("div",n,m({className:I},f,{ref:k}),T);return i.jsx(Zc.Provider,{value:H,children:P})}const Hy=["render","className","slotProps","onKeyDown","onChange"],$y=me(function(t,n){var k;const{render:o,className:r,slotProps:l,onKeyDown:s,onChange:c}=t,a=Q(t,Hy),u=ee(),{state:f,controlId:h,controlRef:g,onValueChange:p,onExpandedChange:w,clearValue:C}=os(),b=typeof r=="function"?r(f):r,x=It(g,n),F=L=>{L.key==="Escape"&&(f.value===""?w(!1):C()),s==null||s(L)},j=L=>{var v,y;f.value===""&&w(!1),(y=(v=l==null?void 0:l.htmlInput)==null?void 0:v.onBlur)==null||y.call(v,L)},T=L=>{f.expanded||w(!0),p(L),c==null||c(L)},I=Xt(u.slots.baseTextField,o,m({},(k=u.slotProps)==null?void 0:k.baseTextField,{slotProps:m({htmlInput:m({role:"searchbox",id:h,tabIndex:f.expanded?void 0:-1},l==null?void 0:l.htmlInput,{onBlur:j})},l),value:f.value,className:b},a,{onChange:T,onKeyDown:F,ref:x}),f);return i.jsx(d.Fragment,{children:I})}),Oy=["render","className","onClick"],Ry=me(function(t,n){var p;const{render:o,className:r,onClick:l}=t,s=Q(t,Oy),c=ee(),{state:a,clearValue:u}=os(),f=typeof r=="function"?r(a):r,h=w=>{u(),l==null||l(w)},g=Xt(c.slots.baseIconButton,o,m({},(p=c.slotProps)==null?void 0:p.baseIconButton,{className:f,tabIndex:-1},s,{onClick:h,ref:n}),a);return i.jsx(d.Fragment,{children:g})}),Ly=["render","className","onClick"],Ay=me(function(t,n){var b;const{render:o,className:r,onClick:l}=t,s=Q(t,Ly),c=ee(),{state:a,controlId:u,onExpandedChange:f,triggerRef:h}=os(),g=typeof r=="function"?r(a):r,p=It(h,n),w=x=>{f(!a.expanded),l==null||l(x)},C=Xt(c.slots.baseButton,o,m({},(b=c.slotProps)==null?void 0:b.baseButton,{className:g,"aria-controls":u,"aria-expanded":a.expanded},s,{onClick:w,ref:p}),a);return i.jsx(d.Fragment,{children:C})}),zy=["quickFilterParser","quickFilterFormatter","debounceMs","className","slotProps"],Gy=["ref","slotProps"],By=e=>{const{classes:t}=e;return Fe({root:["toolbarQuickFilter"],trigger:["toolbarQuickFilterTrigger"],control:["toolbarQuickFilterControl"]},De,t)},Vy=ze("div",{name:"MuiDataGrid",slot:"ToolbarQuickFilter"})({display:"grid",alignItems:"center"}),_y=ze(rr,{name:"MuiDataGrid",slot:"ToolbarQuickFilterTrigger"})(({ownerState:e})=>({gridArea:"1 / 1",width:"min-content",height:"min-content",zIndex:1,opacity:e.expanded?0:1,pointerEvents:e.expanded?"none":"auto",transition:oe.transition(["opacity"])})),Ny=ze(e=>{throw new Error("Failed assertion: should not be rendered")},{name:"MuiDataGrid",slot:"ToolbarQuickFilterControl"})(({ownerState:e})=>({gridArea:"1 / 1",overflowX:"clip",width:e.expanded?260:"var(--trigger-width)",opacity:e.expanded?1:0,transition:oe.transition(["width","opacity"])}));function Wy(e){const t=Me(),n=ee(),o={classes:n.classes,expanded:!1},r=By(o),{quickFilterParser:l,quickFilterFormatter:s,debounceMs:c,className:a,slotProps:u}=e,f=Q(e,zy);return i.jsx(jy,{parser:l,formatter:s,debounceMs:c,render:(h,g)=>{const p=m({},o,{expanded:g.expanded});return i.jsxs(Vy,m({},h,{className:Oe(r.root,a),children:[i.jsx(Ay,{render:w=>i.jsx(n.slots.baseTooltip,{title:t.current.getLocaleText("toolbarQuickFilterLabel"),enterDelay:0,children:i.jsx(_y,m({className:r.trigger},w,{ownerState:p,color:"default","aria-disabled":g.expanded,children:i.jsx(n.slots.quickFilterIcon,{fontSize:"small"})}))})}),i.jsx($y,{render:w=>{var F;let{ref:C,slotProps:b}=w,x=Q(w,Gy);return i.jsx(Ny,m({as:n.slots.baseTextField,className:r.control,ownerState:p,inputRef:C,"aria-label":t.current.getLocaleText("toolbarQuickFilterLabel"),placeholder:t.current.getLocaleText("toolbarQuickFilterPlaceholder"),size:"small",slotProps:m({input:m({startAdornment:i.jsx(n.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:x.value?i.jsx(Ry,{render:i.jsx(n.slots.baseIconButton,{size:"small",edge:"end","aria-label":t.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),children:i.jsx(n.slots.quickFilterClearIcon,{fontSize:"small"})})}):null},b==null?void 0:b.input)},b)},(F=n.slotProps)==null?void 0:F.baseTextField,x,u==null?void 0:u.root,f))}})]}))}})}const Uy=["render","className","onClick","onPointerUp"],Ky=me(function(t,n){var L;const{render:o,className:r,onClick:l,onPointerUp:s}=t,c=Q(t,Uy),a=ee(),u=_e(),f=_e(),h=Me(),g=K(h,kn),p=g.open&&g.openedPanelValue===mt.filters,C=K(h,Wl).length,b={open:p,filterCount:C},x=typeof r=="function"?r(b):r,{filterPanelTriggerRef:F}=es(),j=It(n,F),T=v=>{p?h.current.hidePreferences():h.current.showPreferences(mt.filters,f,u),l==null||l(v)},I=v=>{p&&v.stopPropagation(),s==null||s(v)},k=Xt(a.slots.baseButton,o,m({},(L=a.slotProps)==null?void 0:L.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":p?"true":void 0,"aria-controls":p?f:void 0,onClick:T,onPointerUp:I,className:x},c,{ref:j}),b);return i.jsx(d.Fragment,{children:k})}),qy=["render","className","onClick","onPointerUp"],Xy=me(function(t,n){var I;const{render:o,className:r,onClick:l,onPointerUp:s}=t,c=Q(t,qy),a=ee(),u=_e(),f=_e(),h=Me(),g=K(h,kn),p=g.open&&g.openedPanelValue===mt.columns,w={open:p},C=typeof r=="function"?r(w):r,{columnsPanelTriggerRef:b}=es(),x=It(n,b),F=k=>{p?h.current.hidePreferences():h.current.showPreferences(mt.columns,f,u),l==null||l(k)},j=k=>{p&&k.stopPropagation(),s==null||s(k)},T=Xt(a.slots.baseButton,o,m({},(I=a.slotProps)==null?void 0:I.baseButton,{id:u,"aria-haspopup":"true","aria-expanded":p?"true":void 0,"aria-controls":p?f:void 0,className:C},c,{onPointerUp:j,onClick:F,ref:x}),w);return i.jsx(d.Fragment,{children:T})}),Yy=["render","options","onClick"],Qy=me(function(t,n){var h;const{render:o,options:r,onClick:l}=t,s=Q(t,Yy),c=ee(),a=Me(),u=g=>{a.current.exportDataAsCsv(r),l==null||l(g)},f=Xt(c.slots.baseButton,o,m({},(h=c.slotProps)==null?void 0:h.baseButton,{onClick:u},s,{ref:n}));return i.jsx(d.Fragment,{children:f})}),Jy=["render","options","onClick"],Zy=me(function(t,n){var h;const{render:o,options:r,onClick:l}=t,s=Q(t,Jy),c=ee(),a=Me(),u=g=>{a.current.exportDataAsPrint(r),l==null||l(g)},f=Xt(c.slots.baseButton,o,m({},(h=c.slotProps)==null?void 0:h.baseButton,{onClick:u},s,{ref:n}));return i.jsx(d.Fragment,{children:f})}),ev=["className"],tv=["className"],eu=e=>{const{classes:t}=e;return Fe({divider:["toolbarDivider"],label:["toolbarLabel"]},De,t)},nv=ze(qt,{name:"MuiDataGrid",slot:"ToolbarDivider"})({height:"50%",margin:oe.spacing(0,.5)}),ov=ze("span",{name:"MuiDataGrid",slot:"ToolbarLabel"})({flex:1,font:oe.typography.font.large,fontWeight:oe.typography.fontWeight.medium,margin:oe.spacing(0,.5),textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"});function Ei(e){const t=Q(e,ev),n=ee(),o=eu(n);return i.jsx(nv,m({as:n.slots.baseDivider,orientation:"vertical",className:o.divider},t))}function rv(e){const t=Q(e,tv),n=ee(),o=eu(n);return i.jsx(ov,m({className:o.label},t))}function lv(e){var b,x,F;const{showQuickFilter:t=!0,quickFilterProps:n,csvOptions:o,printOptions:r,additionalItems:l,additionalExportMenuItems:s}=e,c=Me(),a=ee(),[u,f]=d.useState(!1),h=d.useRef(null),g=_e(),p=_e(),w=!(o!=null&&o.disableToolbarButton)||!(r!=null&&r.disableToolbarButton)||s,C=()=>f(!1);return i.jsxs(Mx,{children:[a.label&&i.jsx(rv,{children:a.label}),!a.disableColumnSelector&&i.jsx(a.slots.baseTooltip,{title:c.current.getLocaleText("toolbarColumns"),children:i.jsx(Xy,{render:i.jsx(rr,{}),children:i.jsx(a.slots.columnSelectorIcon,{fontSize:"small"})})}),!a.disableColumnFilter&&i.jsx(a.slots.baseTooltip,{title:c.current.getLocaleText("toolbarFilters"),children:i.jsx(Ky,{render:(j,T)=>i.jsx(rr,m({},j,{color:T.filterCount>0?"primary":"default",children:i.jsx(a.slots.baseBadge,{badgeContent:T.filterCount,color:"primary",variant:"dot",children:i.jsx(a.slots.openFilterButtonIcon,{fontSize:"small"})})}))})}),l,w&&(!a.disableColumnFilter||!a.disableColumnSelector)&&i.jsx(Ei,{}),w&&i.jsxs(d.Fragment,{children:[i.jsx(a.slots.baseTooltip,{title:c.current.getLocaleText("toolbarExport"),disableInteractive:u,children:i.jsx(rr,{ref:h,id:p,"aria-controls":g,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:()=>f(!u),children:i.jsx(a.slots.exportIcon,{fontSize:"small"})})}),i.jsx(jr,{target:h.current,open:u,onClose:C,position:"bottom-end",children:i.jsxs(a.slots.baseMenuList,m({id:g,"aria-labelledby":p,autoFocusItem:!0},(b=a.slotProps)==null?void 0:b.baseMenuList,{children:[!(r!=null&&r.disableToolbarButton)&&i.jsx(Zy,{render:i.jsx(a.slots.baseMenuItem,m({},(x=a.slotProps)==null?void 0:x.baseMenuItem)),options:r,onClick:C,children:c.current.getLocaleText("toolbarExportPrint")}),!(o!=null&&o.disableToolbarButton)&&i.jsx(Qy,{render:i.jsx(a.slots.baseMenuItem,m({},(F=a.slotProps)==null?void 0:F.baseMenuItem)),options:o,onClick:C,children:c.current.getLocaleText("toolbarExportCSV")}),s==null?void 0:s(C)]}))})]}),t&&i.jsxs(d.Fragment,{children:[i.jsx(Ei,{}),i.jsx(Wy,m({},n))]})]})}const sv=["className","selectedRowCount"],iv=e=>{const{classes:t}=e;return Fe({root:["selectedRowCount"]},De,t)},av=ze("div",{name:"MuiDataGrid",slot:"SelectedRowCount"})({alignItems:"center",display:"flex",margin:oe.spacing(0,2),visibility:"hidden",width:0,height:0,[oe.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}}),cv=me(function(t,n){const{className:o,selectedRowCount:r}=t,l=Q(t,sv),s=Me(),c=ee(),a=iv(c),u=s.current.getLocaleText("footerRowSelected")(r);return i.jsx(av,m({className:Oe(a.root,o),ownerState:c},l,{ref:n,children:u}))}),uv=me(function(t,n){var h,g;const o=Me(),r=ee(),l=K(o,um),s=K(o,Rr),c=K(o,Nl),a=!r.hideFooterSelectedRowCount&&s>0?i.jsx(cv,{selectedRowCount:s}):i.jsx("div",{}),u=!r.hideFooterRowCount&&!r.pagination?i.jsx(r.slots.footerRowCount,m({},(h=r.slotProps)==null?void 0:h.footerRowCount,{rowCount:l,visibleRowCount:c})):null,f=r.pagination&&!r.hideFooterPagination&&r.slots.pagination&&i.jsx(r.slots.pagination,m({},(g=r.slotProps)==null?void 0:g.pagination));return i.jsxs(mx,m({},t,{ref:n,children:[a,u,f]}))}),Io=(e,t,n,o,r,l)=>{let s;switch(e){case je.LEFT:s=o[n];break;case je.RIGHT:s=r-o[n]-t+l;break;default:s=void 0;break}return Number.isNaN(s)&&(s=void 0),s},wr=(e,t,n,o,r)=>{const l=t===n-1;return e===je.LEFT&&l?!0:o?e===je.LEFT?!0:e===je.RIGHT?!l:!l||r:!1},xr=(e,t)=>e===je.RIGHT&&t===0,bo={root:S.scrollbarFiller,header:S["scrollbarFiller--header"],borderTop:S["scrollbarFiller--borderTop"],borderBottom:S["scrollbarFiller--borderBottom"],pinnedRight:S["scrollbarFiller--pinnedRight"]};function rs({header:e,borderTop:t=!0,borderBottom:n,pinnedRight:o}){return i.jsx("div",{role:"presentation",className:Oe(bo.root,e&&bo.header,t&&bo.borderTop,n&&bo.borderBottom,o&&bo.pinnedRight)})}const dv=["skeletonRowsCount","visibleColumns","showFirstRowBorder"],fv=ze("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay"})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),hv=e=>{const{classes:t}=e;return Fe({root:["skeletonLoadingOverlay"]},De,t)},Ti=e=>parseInt(e.getAttribute("data-colindex"),10),gv=me(function(t,n){const o=ee(),{slots:r}=o,l=vt(),s=hv({classes:o.classes}),c=d.useRef(null),a=It(c,n),u=Me(),f=K(u,et),h=K(u,jl),g=K(u,Fn),p=d.useMemo(()=>g.filter(v=>v<=h).length,[h,g]),{skeletonRowsCount:w,visibleColumns:C,showFirstRowBorder:b}=t,x=Q(t,dv),F=K(u,Ze),j=d.useMemo(()=>F.slice(0,p),[F,p]),T=K(u,Fr),I=d.useCallback(v=>{if(T.left.findIndex(y=>y.field===v)!==-1)return je.LEFT;if(T.right.findIndex(y=>y.field===v)!==-1)return je.RIGHT},[T.left,T.right]),k=d.useMemo(()=>{const v=[];for(let y=0;y<w;y+=1){const M=[];for(let O=0;O<j.length;O+=1){const D=j[O],$=I(D.field),z=$===je.LEFT,H=$===je.RIGHT,P=Vc($,l),E=P?T[P].length:j.length-T.left.length-T.right.length,G=P?T[P].findIndex(te=>te.field===D.field):O-T.left.length,_=f.hasScrollY?f.scrollbarSize:0,R=Br({},l,$,Io($,D.computedWidth,O,g,f.columnsTotalWidth,_)),A=f.columnsTotalWidth<f.viewportOuterSize.width,V=wr($,G,E,o.showCellVerticalBorder,A),U=xr($,G),N=O===j.length-1,J=H&&G===0,q=J&&A,ue=N&&!J&&A,de=f.viewportOuterSize.width-f.columnsTotalWidth,se=Math.max(0,de),W=i.jsx(r.skeletonCell,{width:se,empty:!0},`skeleton-filler-column-${y}`),X=N&&_!==0;q&&M.push(W),M.push(i.jsx(r.skeletonCell,{field:D.field,type:D.type,align:D.align,width:"var(--width)",height:f.rowHeight,"data-colindex":O,empty:C&&!C.has(D.field),className:Oe(z&&S["cell--pinnedLeft"],H&&S["cell--pinnedRight"],V&&S["cell--withRightBorder"],U&&S["cell--withLeftBorder"]),style:m({"--width":`${D.computedWidth}px`},R)},`skeleton-column-${y}-${D.field}`)),ue&&M.push(W),X&&M.push(i.jsx(rs,{pinnedRight:T.right.length>0},`skeleton-scrollbar-filler-${y}`))}v.push(i.jsx("div",{className:Oe(S.row,S.rowSkeleton,y===0&&!b&&S["row--firstVisible"]),children:M},`skeleton-row-${y}`))}return v},[w,j,I,l,T,f.hasScrollY,f.scrollbarSize,f.columnsTotalWidth,f.viewportOuterSize.width,f.rowHeight,g,o.showCellVerticalBorder,r,C,b]);return le(u,"columnResize",v=>{var G,_,R;const{colDef:y,width:M}=v,O=(G=c.current)==null?void 0:G.querySelectorAll(`[data-field="${rn(y.field)}"]`);if(!O)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const D=j.findIndex(A=>A.field===y.field),$=I(y.field),z=$===je.LEFT,H=$===je.RIGHT,P=getComputedStyle(O[0]).getPropertyValue("--width"),E=parseInt(P,10)-M;if(O&&O.forEach(A=>{A.style.setProperty("--width",`${M}px`)}),z){const A=(_=c.current)==null?void 0:_.querySelectorAll(`.${S["cell--pinnedLeft"]}`);A==null||A.forEach(V=>{Ti(V)>D&&(V.style.left=`${parseInt(getComputedStyle(V).left,10)-E}px`)})}if(H){const A=(R=c.current)==null?void 0:R.querySelectorAll(`.${S["cell--pinnedRight"]}`);A==null||A.forEach(V=>{Ti(V)<D&&(V.style.right=`${parseInt(getComputedStyle(V).right,10)+E}px`)})}}),i.jsx(fv,m({className:s.root},x,{ref:a,children:k}))}),mv=me(function(t,n){const o=Me(),r=K(o,et),l=(r==null?void 0:r.viewportInnerSize.height)??0,s=Math.ceil(l/r.rowHeight);return i.jsx(gv,m({},t,{skeletonRowsCount:s,ref:n}))}),pv=["variant","noRowsVariant","style"],bv={"circular-progress":{component:e=>e.slots.baseCircularProgress,style:{}},"linear-progress":{component:e=>e.slots.baseLinearProgress,style:{display:"block"}},skeleton:{component:()=>mv,style:{display:"block"}}},Cv=me(function(t,n){const{variant:o="linear-progress",noRowsVariant:r="skeleton",style:l}=t,s=Q(t,pv),c=Me(),a=ee(),u=K(c,so),f=bv[u===0?r:o],h=f.component(a);return i.jsx(Vr,m({style:m({},f.style,l)},s,{ref:n,children:i.jsx(h,{})}))}),wv=me(function(t,n){const r=Me().current.getLocaleText("noRowsLabel");return i.jsx(Vr,m({},t,{ref:n,children:r}))}),xv=me(function(t,n){var a;const o=ee(),r=Me(),l=K(r,Ut),s=()=>{r.current.showPreferences(mt.columns)},c=!o.disableColumnSelector&&l.length>0;return i.jsxs(Vr,m({},t,{ref:n,children:[r.current.getLocaleText("noColumnsOverlayLabel"),c&&i.jsx(o.slots.baseButton,m({size:"small"},(a=o.slotProps)==null?void 0:a.baseButton,{onClick:s,children:r.current.getLocaleText("noColumnsOverlayManageColumns")}))]}))}),Sv=ke(qt)({maxHeight:"calc(100% + 1px)",flexGrow:1});function yv(){var w;const e=Me(),t=ee(),n=K(e,ut),o=K(e,Nn),r=K(e,xc),{paginationMode:l,loading:s}=t,c=o===-1&&l==="server"&&s,a=d.useMemo(()=>Math.max(0,r-1),[r]),u=d.useMemo(()=>o===-1||n.page<=a?n.page:a,[a,n.page,o]),f=d.useCallback(C=>{e.current.setPageSize(C)},[e]),h=d.useCallback((C,b)=>{e.current.setPage(b)},[e]),p=(C=>{for(let b=0;b<t.pageSizeOptions.length;b+=1){const x=t.pageSizeOptions[b];if(typeof x=="number"){if(x===C)return!0}else if(x.value===C)return!0}return!1})(n.pageSize)?t.pageSizeOptions:[];return i.jsx(Sv,m({as:t.slots.basePagination,count:o,page:u,rowsPerPageOptions:p,rowsPerPage:n.pageSize,onPageChange:h,onRowsPerPageChange:f,disabled:c},(w=t.slotProps)==null?void 0:w.basePagination))}const vv=["className","rowCount","visibleRowCount"],Iv=e=>{const{classes:t}=e;return Fe({root:["rowCount"]},De,t)},Mv=ze("div",{name:"MuiDataGrid",slot:"RowCount"})({alignItems:"center",display:"flex",margin:oe.spacing(0,2)}),Pv=me(function(t,n){const{className:o,rowCount:r,visibleRowCount:l}=t,s=Q(t,vv),c=Me(),a=ee(),u=Iv(a);if(r===0)return null;const f=l<r?c.current.getLocaleText("footerTotalVisibleRows")(l,r):r.toLocaleString();return i.jsxs(Mv,m({className:Oe(u.root,o),ownerState:a},s,{ref:n,children:[c.current.getLocaleText("footerTotalRows")," ",f]}))});function kv(e,t){return Fe(t,De,e)}const qn=(e,t)=>zo(e),tu=(e,t)=>K(e,zo),Ev=Xe(e=>e.rowReorder),Tv=ie(Ev,e=>(e==null?void 0:e.isActive)??!1),Fv=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],Dv=ie(at,(e,{rowReordering:t,treeData:n})=>!t||n?!1:!!$r(e)),jv=me(function(t,n){var ot;const{selected:o,rowId:r,row:l,index:s,style:c,rowHeight:a,className:u,visibleColumns:f,pinnedColumns:h,offsetLeft:g,columnsTotalWidth:p,firstColumnIndex:w,lastColumnIndex:C,focusedColumnIndex:b,isFirstVisible:x,isLastVisible:F,isNotVisible:j,showBottomBorder:T,scrollbarWidth:I,gridHasFiller:k,onClick:L,onDoubleClick:v,onMouseEnter:y,onMouseLeave:M,onMouseOut:O,onMouseOver:D}=t,$=Q(t,Fv),z=Pt(),H=Dr(),P=d.useRef(null),E=ee(),G=tu(z),_=K(z,kt),R=K(z,Fn),A=E.rowReordering,V=E.treeData,U=K(z,Dv,{rowReordering:A,treeData:V}),N=K(z,Tv),J=It(P,n),q=Wt(z,r),ue=K(z,$c,{rowId:r,editMode:E.editMode}),de=E.editMode===Kt.Row,se=b!==void 0,W=se&&b>=h.left.length&&b<w,X=se&&b<f.length-h.right.length&&b>=C,te=kv(E.classes,{root:["row",o&&"selected",de&&"row--editable",ue&&"row--editing",x&&"row--firstVisible",F&&"row--lastVisible",T&&"row--borderBottom",a==="auto"&&"row--dynamicHeight"]}),he=H.hooks.useGridRowAriaAttributes();d.useLayoutEffect(()=>{if(G.range){const Se=z.current.getRowIndexRelativeToVisibleRows(r);Se!==void 0&&z.current.unstable_setLastMeasuredRowIndex(Se)}if(P.current&&a==="auto")return z.current.observeRowHeight(P.current,r)},[z,G.range,a,r]);const fe=d.useCallback((Se,Pe)=>Te=>{No(Te)||z.current.getRow(r)&&(z.current.publishEvent(Se,z.current.getRowParams(r),Te),Pe&&Pe(Te))},[z,r]),ge=d.useCallback(Se=>{const Pe=Cr(Se.target,S.cell),Te=Pe==null?void 0:Pe.getAttribute("data-field");if(Te){if(Te===uo.field||Te===Gl||Te==="__reorder__"||z.current.getCellMode(r,Te)===Ge.Edit)return;const Ye=z.current.getColumn(Te);if((Ye==null?void 0:Ye.type)===Hr)return}fe("rowClick",L)(Se)},[z,L,fe,r]),{slots:we,slotProps:pe,disableColumnReorder:ve}=E,He=K(z,()=>m({},z.current.getRowHeightEntry(r)),void 0,Oa),Re=d.useMemo(()=>{if(j)return{opacity:0,width:0,height:0};const Se=m({},c,{maxHeight:a==="auto"?"none":a,minHeight:a,"--height":typeof a=="number"?`${a}px`:a});if(He.spacingTop){const Pe=E.rowSpacingType==="border"?"borderTopWidth":"marginTop";Se[Pe]=He.spacingTop}if(He.spacingBottom){const Pe=E.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Te=Se[Pe];typeof Te!="number"&&(Te=parseInt(Te||"0",10)),Te+=He.spacingBottom,Se[Pe]=Te}return Se},[j,a,c,He,E.rowSpacingType]);if(!q)return null;const Ue=z.current.unstable_applyPipeProcessors("rowClassName",[],r),Y=he(q,s);if(typeof E.getRowClassName=="function"){const Se=s-(((ot=G.range)==null?void 0:ot.firstRowIndex)||0),Pe=m({},z.current.getRowParams(r),{isFirstVisible:Se===0,isLastVisible:Se===G.rows.length-1,indexRelativeToCurrentPage:Se});Ue.push(E.getRowClassName(Pe))}const ae=(Se,Pe,Te,Ye,Je=je.NONE)=>{const ce=z.current.unstable_getCellColSpanInfo(r,Te);if(ce!=null&&ce.spannedByColSpan)return null;const ne=(ce==null?void 0:ce.cellProps.width)??Se.computedWidth,be=(ce==null?void 0:ce.cellProps.colSpan)??1,Ce=Io(Je,Se.computedWidth,Te,R,p,I);if(q.type==="skeletonRow")return i.jsx(we.skeletonCell,{type:Se.type,width:ne,height:a,field:Se.field,align:Se.align},Se.field);const Ne=Se.field==="__reorder__",rt=!(ve||Se.disableReorder),pt=U&&!_.length,Vt=!(rt||Ne&&pt||N),bt=Je===je.VIRTUAL,Yt=xr(Je,Pe),jn=wr(Je,Pe,Ye,E.showCellVerticalBorder,k);return i.jsx(we.cell,m({column:Se,width:ne,rowId:r,align:Se.align||"left",colIndex:Te,colSpan:be,disableDragEvents:Vt,isNotVisible:bt,pinnedOffset:Ce,pinnedPosition:Je,showLeftBorder:Yt,showRightBorder:jn,row:l,rowNode:q},pe==null?void 0:pe.cell),Se.field)},xe=h.left.map((Se,Pe)=>ae(Se,Pe,Pe,h.left.length,je.LEFT)),ye=h.right.map((Se,Pe)=>{const Te=f.length-h.right.length+Pe;return ae(Se,Pe,Te,h.right.length,je.RIGHT)}),Ie=f.length-h.left.length-h.right.length,$e=[];W&&$e.push(ae(f[b],b-h.left.length,b,Ie,je.VIRTUAL));for(let Se=w;Se<C;Se+=1){const Pe=f[Se],Te=Se-h.left.length;Pe&&$e.push(ae(Pe,Te,Se,Ie))}X&&$e.push(ae(f[b],b-h.left.length,b,Ie,je.VIRTUAL));const Ve=l?{onClick:ge,onDoubleClick:fe("rowDoubleClick",v),onMouseEnter:fe("rowMouseEnter",y),onMouseLeave:fe("rowMouseLeave",M),onMouseOut:fe("rowMouseOut",O),onMouseOver:fe("rowMouseOver",D)}:null;return i.jsxs("div",m({"data-id":r,"data-rowindex":s,role:"row",className:Oe(...Ue,te.root,u),style:Re},Y,Ve,$,{ref:J,children:[xe,i.jsx("div",{role:"presentation",className:S.cellOffsetLeft,style:{width:g}}),$e,i.jsx("div",{role:"presentation",className:Oe(S.cell,S.cellEmpty)}),ye,I!==0&&i.jsx(rs,{pinnedRight:h.right.length>0,borderTop:!x})]}))}),Hv=nn(jv),$v=()=>{const e=Pt(),t=ee(),n=K(e,Ze),o=K(e,_l),r=K(e,Go),l=K(e,Pa),s=t["aria-label"],c=t["aria-labelledby"];return{role:"grid","aria-label":!s&&!c&&t.label?t.label:s,"aria-labelledby":c,"aria-colcount":n.length,"aria-rowcount":r+1+l+o,"aria-multiselectable":Ul(t)}},Ov=()=>{const e=Pt(),t=K(e,Go);return d.useCallback((n,o)=>{const r={},l=o+t+2;return r["aria-rowindex"]=l,n&&e.current.isRowSelectable(n.id)&&(r["aria-selected"]=e.current.isRowSelected(n.id)),r},[e,t])},Rv=e=>({setRowIndex:d.useCallback((n,o)=>{const r=Wt(e,n);if(!r)throw new Error(`MUI X: No row with id #${n} found.`);if(r.parent!==ct)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(r.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");e.current.setState(l=>{const s=dt(e)[ct],c=s.children,a=c.findIndex(f=>f===n);if(a===-1||a===o)return l;const u=[...c];return u.splice(o,0,u.splice(a,1)[0]),m({},l,{rows:m({},l.rows,{tree:m({},l.rows.tree,{[ct]:m({},s,{children:u})})})})}),e.current.publishEvent("rowsSet")},[e])});function Lv({privateApiRef:e,configuration:t,props:n,children:o}){const r=d.useRef(e.current.getPublicApi());return i.jsx(oc.Provider,{value:t,children:i.jsx(da.Provider,{value:n,children:i.jsx(Fc.Provider,{value:e,children:i.jsx(fa.Provider,{value:r,children:i.jsx(lx,{children:i.jsx(bp,{children:o})})})})})})}const Av=e=>{const t=d.useRef(null),n=d.useRef(null),o=d.useRef(null),r=d.useRef(null),l=d.useRef(null),s=d.useRef(null);e.current.register("public",{rootElementRef:t}),e.current.register("private",{mainElementRef:n,virtualScrollerRef:o,virtualScrollbarVerticalRef:r,virtualScrollbarHorizontalRef:l,columnHeadersContainerRef:s})},zv=e=>{const t=vt();e.current.state.isRtl===void 0&&(e.current.state.isRtl=t);const n=d.useRef(!0);d.useEffect(()=>{n.current?n.current=!1:e.current.setState(o=>m({},o,{isRtl:t}))},[e,t])},Gv=Qm()&&window.localStorage.getItem("DEBUG")!=null,So=()=>{},Bv={debug:So,info:So,warn:So,error:So},Fi=["debug","info","warn","error"];function Di(e,t,n=console){const o=Fi.indexOf(t);if(o===-1)throw new Error(`MUI X: Log level ${t} not recognized.`);return Fi.reduce((l,s,c)=>(c>=o?l[s]=(...a)=>{const[u,...f]=a;n[s](`MUI X: ${e} - ${u}`,...f)}:l[s]=So,l),{})}const Vv=(e,t)=>{const n=d.useCallback(o=>Gv?Di(o,"debug",t.logger):t.logLevel?Di(o,t.logLevel.toString(),t.logger):Bv,[t.logLevel,t.logger]);Ee(e,{getLogger:n},"private")},_v=(e,t)=>{const n=d.useCallback(o=>{if(t.localeText[o]==null)throw new Error(`Missing translation for key ${o}.`);return t.localeText[o]},[t.localeText]);e.current.register("public",{getLocaleText:n})},Nv=e=>{const t=d.useRef({}),n=d.useRef(!1),o=d.useCallback(h=>{n.current||!h||(n.current=!0,Object.values(h.appliers).forEach(g=>{g()}),n.current=!1)},[]),r=d.useCallback((h,g,p)=>{t.current[h]||(t.current[h]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1});const w=t.current[h];return w.processors.get(g)!==p&&(w.processors.set(g,p),w.processorsAsArray=Array.from(t.current[h].processors.values()).filter(b=>b!==null),w.processorsUpdated=!0),()=>{t.current[h].processors.set(g,null),t.current[h].processorsAsArray=Array.from(t.current[h].processors.values()).filter(b=>b!==null)}},[]),l=d.useCallback((h,g,p)=>(t.current[h]||(t.current[h]={processors:new Map,processorsAsArray:[],appliers:{},processorsUpdated:!1}),t.current[h].appliers[g]=p,()=>{const w=t.current[h].appliers,C=Q(w,[g].map(ko));t.current[h].appliers=C}),[]),s=d.useCallback(h=>{o(t.current[h])},[o]),c=d.useCallback(()=>{for(const h in t.current){if(!Object.prototype.hasOwnProperty.call(t.current,h))continue;const g=t.current[h];g.processorsUpdated&&(g.processorsUpdated=!1,o(g))}},[o]),a=d.useCallback((...h)=>{const[g,p,w]=h;if(!t.current[g])return p;const C=t.current[g].processorsAsArray;let b=p;for(let x=0;x<C.length;x+=1)b=C[x](b,w);return b},[]),u={registerPipeProcessor:r,registerPipeApplier:l,requestPipeProcessorsApplication:s,runAppliersForPendingProcessors:c},f={unstable_applyPipeProcessors:a};Ee(e,u,"private"),Ee(e,f,"public")},Qe=(e,t,n,o=!0)=>{const r=d.useRef(null),l=d.useRef(`mui-${Math.round(Math.random()*1e9)}`),s=d.useCallback(()=>{r.current=e.current.registerPipeProcessor(t,l.current,n)},[e,n,t]);fo(()=>{o&&s()});const c=d.useRef(!0);d.useEffect(()=>(c.current?c.current=!1:o&&s(),()=>{r.current&&(r.current(),r.current=null)}),[s,o])},ls=(e,t,n)=>{const o=d.useRef(null),r=d.useRef(`mui-${Math.round(Math.random()*1e9)}`),l=d.useCallback(()=>{o.current=e.current.registerPipeApplier(t,r.current,n)},[e,n,t]);fo(()=>{l()});const s=d.useRef(!0);d.useEffect(()=>(s.current?s.current=!1:l(),()=>{o.current&&(o.current(),o.current=null)}),[l])};let gn=function(e){return e.DataSource="dataSource",e.RowTree="rowTree",e}({});const jo=(e,t,n,o)=>{const r=d.useCallback(()=>{e.current.registerStrategyProcessor(t,n,o)},[e,o,n,t]);fo(()=>{r()});const l=d.useRef(!0);d.useEffect(()=>{l.current?l.current=!1:r()},[r])},Tn="none",ji={dataSourceRowsUpdate:gn.DataSource,rowTreeCreation:gn.RowTree,filtering:gn.RowTree,sorting:gn.RowTree,visibleRowsLookupCreation:gn.RowTree},Wv=e=>{const t=d.useRef(new Map),n=d.useRef({}),o=d.useCallback((a,u,f)=>{const h=()=>{const w=n.current[u],C=Q(w,[a].map(ko));n.current[u]=C};n.current[u]||(n.current[u]={});const g=n.current[u],p=g[a];return g[a]=f,!p||p===f||a===e.current.getActiveStrategy(ji[u])&&e.current.publishEvent("activeStrategyProcessorChange",u),h},[e]),r=d.useCallback((a,u)=>{const f=e.current.getActiveStrategy(ji[a]);if(f==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const h=n.current[a];if(!h||!h[f])throw new Error(`No processor found for processor "${a}" on strategy "${f}"`);const g=h[f];return g(u)},[e]),l=d.useCallback(a=>{const f=Array.from(t.current.entries()).find(([,h])=>h.group!==a?!1:h.isAvailable());return(f==null?void 0:f[0])??Tn},[]),s=d.useCallback((a,u,f)=>{t.current.set(u,{group:a,isAvailable:f}),e.current.publishEvent("strategyAvailabilityChange")},[e]);Ee(e,{registerStrategyProcessor:o,applyStrategyProcessor:r,getActiveStrategy:l,setStrategyAvailability:s},"private")},Uv=e=>{const t=d.useRef({}),n=d.useCallback(c=>{t.current[c.stateId]=c},[]),o=d.useCallback((c,a)=>{let u;if(Ym(c)?u=c(e.current.state):u=c,e.current.state===u)return!1;const f={current:{state:u}};let h=!1;const g=[];if(Object.keys(t.current).forEach(p=>{const w=t.current[p],C=w.stateSelector(e),b=w.stateSelector(f);b!==C&&(g.push({stateId:w.stateId,hasPropChanged:b!==w.propModel}),w.propModel!==void 0&&b!==w.propModel&&(h=!0))}),g.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${g[0].stateId}, therefore, you're not allowed to update ${g.map(p=>p.stateId).join(", ")} in the same transaction.`);if(h||(e.current.state=u,e.current.publishEvent("stateChange",u),e.current.store.update(u)),g.length===1){const{stateId:p,hasPropChanged:w}=g[0],C=t.current[p],b=C.stateSelector(f);C.propOnChange&&w&&C.propOnChange(b,{reason:a,api:e.current}),h||e.current.publishEvent(C.changeEvent,b,{reason:a})}return!h},[e]),r=d.useCallback((c,a,u)=>e.current.setState(f=>m({},f,{[c]:a(f[c])}),u),[e]),l={setState:o},s={updateControlState:r,registerControlState:n};Ee(e,l,"public"),Ee(e,s,"private")},Kv=(e,t)=>m({},e,{props:{listView:t.listView,getRowId:t.getRowId}}),qv=(e,t)=>{d.useEffect(()=>{e.current.setState(n=>m({},n,{props:{listView:t.listView,getRowId:t.getRowId}}))},[e,t.listView,t.getRowId])},Xv=(e,t)=>{Av(e),qv(e,t),zv(e),Vv(e,t),Uv(e),Nv(e),Wv(e),_v(e,t),e.current.register("private",{rootProps:t})};function nu(e,t){return Math.round(e*10**t)/10**t}const Yv=ie(Ct,Gc,zo,Ze,(e,t,n,o)=>{if(!e)return!1;const r=n.rowIdToIndexMap.get(e.id),l=o.slice(t.firstColumnIndex,t.lastColumnIndex).findIndex(c=>c.field===e.field);return!(r!==void 0&&l!==-1&&r>=t.firstRowIndex&&r<=t.lastRowIndex)}),Qv=Ae(Yv,Ze,zo,Ct,(e,t,n,o)=>{if(!e)return null;const r=n.rowIdToIndexMap.get(o.id);if(r===void 0)return null;const l=t.findIndex(s=>s.field===o.field);return l===-1?null:m({},o,{rowIndex:r,columnIndex:l})}),Sr={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnFilterDebounceMs:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableRowSelectionExcludeModel:!1,disableVirtualization:!1,editMode:Kt.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rows:[],rowSelection:!0,rowSpacingType:"margin",rowSpanning:!1,showCellVerticalBorder:!1,showColumnVerticalBorder:!1,showToolbar:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,virtualizeColumnsWithAutoRowHeight:!1};function Jv(e){return e}const Zv=ie(Ze,Fn,(e,t)=>{const n=e.length;return n===0?0:nu(t[n-1]+e[n-1].computedWidth,1)}),eI=()=>Pr((e,t,n,o,r)=>m({},e,{headerHeight:t,groupHeaderHeight:n,headerFilterHeight:o,headersTotalHeight:r}),{maxSize:1});function tI(e,t){var _;const n=vt(),{listView:o}=t,r=K(e,Ze),l=K(e,$o),s=Fr(e),c=K(e,Ao),a=R=>c.has(R)&&e.current.isRowSelectable(R),u=tu(e),f=K(e,rp),h=K(e,Ma),g=K(e,Ia),{autoHeight:p}=t,w=o,C=K(e,Oo),b=Da(t.rowHeight,Sr.rowHeight),x=Math.floor(b*C),F=Math.floor(t.columnHeaderHeight*C),j=Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*C),T=Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*C),I=K(e,Zv),k=Bo(e,t),L=s.left.reduce((R,A)=>R+A.computedWidth,0),v=s.right.reduce((R,A)=>R+A.computedWidth,0),y={rowHeight:x,headerHeight:F,columnsTotalWidth:I,leftPinnedWidth:L,rightPinnedWidth:v,topPinnedHeight:k,bottomPinnedHeight:0,scrollbarSize:t.scrollbarSize},M=tn(eI).current,O=K(e,so),D=K(e,co),$=Math.min(D.enabled?D.paginationModel.pageSize:O,O),{getRowHeight:z,getEstimatedRowHeight:H,getRowSpacing:P}=t,E=K(e,Qv),G=gw({refs:{container:e.current.mainElementRef,scroller:e.current.virtualScrollerRef,scrollbarVertical:e.current.virtualScrollbarVerticalRef,scrollbarHorizontal:e.current.virtualScrollbarHorizontalRef},dimensions:y,virtualization:{isRtl:n,rowBufferPx:t.rowBufferPx,columnBufferPx:t.columnBufferPx},colspan:{enabled:f,getColspan:(R,A)=>{if(typeof A.colSpan=="function"){const V=e.current.getRow(R),U=e.current.getRowValue(V,A);return A.colSpan(U,V,A,e)??0}return A.colSpan??1}},initialState:{scroll:(_=t.initialState)==null?void 0:_.scroll,rowSpanning:e.current.state.rowSpanning,virtualization:e.current.state.virtualization},rows:u.rows,range:u.range,rowCount:$,columns:r,pinnedRows:l,pinnedColumns:s,autoHeight:p,minimalContentHeight:Fa,getRowHeight:d.useMemo(()=>{if(z)return R=>z(m({},R,{densityFactor:C}))},[z,C]),getEstimatedRowHeight:d.useMemo(()=>H?R=>H(m({},R,{densityFactor:C})):void 0,[H,C]),getRowSpacing:d.useMemo(()=>P?R=>{const A=u.rowIdToIndexMap.get(R.id)??-1,V={isFirstVisible:A===0,isLastVisible:A===u.rows.length-1,indexRelativeToCurrentPage:A};return P(m({},R,V,{indexRelativeToCurrentPage:e.current.getRowIndexRelativeToVisibleRows(R.id)}))}:void 0,[e,P,u.rows,u.rowIdToIndexMap]),applyRowHeight:Be((R,A)=>e.current.unstable_applyPipeProcessors("rowHeight",R,A)),virtualizeColumnsWithAutoRowHeight:t.virtualizeColumnsWithAutoRowHeight,focusedVirtualCell:Be(()=>E),resizeThrottleMs:t.resizeThrottleMs,onResize:Be(R=>e.current.publishEvent("resize",R)),onWheel:Be(R=>{e.current.publishEvent("virtualScrollerWheel",{},R)}),onTouchMove:Be(R=>{e.current.publishEvent("virtualScrollerTouchMove",{},R)}),onRenderContextChange:Be(R=>{e.current.publishEvent("renderedRowsIntervalChange",R)}),onScrollChange:(R,A)=>{e.current.publishEvent("scrollPositionChange",{top:R.top,left:R.left,renderContext:A})},scrollReset:w,renderRow:R=>{var A;return i.jsx(t.slots.row,m({row:R.model,rowId:R.id,index:R.rowIndex,selected:a(R.id),offsetLeft:R.offsetLeft,columnsTotalWidth:I,rowHeight:R.baseRowHeight,pinnedColumns:s,visibleColumns:r,firstColumnIndex:R.firstColumnIndex,lastColumnIndex:R.lastColumnIndex,focusedColumnIndex:R.focusedColumnIndex,isFirstVisible:R.isFirstVisible,isLastVisible:R.isLastVisible,isNotVisible:R.isVirtualFocusRow,showBottomBorder:R.showBottomBorder,scrollbarWidth:h,gridHasFiller:g},(A=t.slotProps)==null?void 0:A.row),R.id)},renderInfiniteLoadingTrigger:R=>{var A,V;return(V=(A=e.current).getInfiniteLoadingTriggerElement)==null?void 0:V.call(A,{lastRowId:R})}});fo(()=>{e.current.store.state.dimensions=M(G.store.state.dimensions,F,j,T,k),e.current.store.state.rowsMeta=G.store.state.rowsMeta,e.current.store.state.virtualization=G.store.state.virtualization}),cl(G.store,wt.selectors.dimensions,(R,A)=>{e.current.setState(V=>m({},V,{dimensions:M(A,F,j,T,k)}))}),cl(G.store,Jv,(R,A)=>{A.rowsMeta!==e.current.state.rowsMeta&&e.current.setState(V=>m({},V,{rowsMeta:A.rowsMeta})),A.virtualization!==e.current.state.virtualization&&e.current.setState(V=>m({},V,{virtualization:A.virtualization}))}),e.current.register("private",{virtualizer:G})}const st=(e,t,n,o)=>{const r=d.useRef(o),l=d.useRef(!1);o!==r.current&&(l.current=!1,r.current=o),l.current||(t.current.state=e(t.current.state,n,t),l.current=!0)};function hl(e,t){if(e==null)return"";const n=typeof e=="string"?e:`${e}`;if(t.shouldAppendQuotes||t.escapeFormulas){const o=n.replace(/"/g,'""');return t.escapeFormulas&&["=","+","-","@","	","\r"].includes(o[0])?`"'${o}"`:[t.delimiter,`
`,"\r",'"'].some(r=>n.includes(r))?`"${o}"`:o}return n}const ou=(e,t)=>{var l,s;const{csvOptions:n,ignoreValueFormatter:o}=t;let r;if(o){const c=e.colDef.type;c==="number"?r=String(e.value):c==="date"||c==="dateTime"?r=(l=e.value)==null?void 0:l.toISOString():typeof((s=e.value)==null?void 0:s.toString)=="function"?r=e.value.toString():r=e.value}else r=e.formattedValue;return hl(r,n)};class gl{constructor(t){nt(this,"rowString","");nt(this,"isEmpty",!0);this.options=t}addValue(t){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(t,this.options.csvOptions):this.rowString+=t,this.isEmpty=!1}getRowString(){return this.rowString}}const nI=({id:e,columns:t,getCellParams:n,csvOptions:o,ignoreValueFormatter:r})=>{const l=new gl({csvOptions:o});return t.forEach(s=>{const c=n(e,s.field);l.addValue(ou(c,{ignoreValueFormatter:r,csvOptions:o}))}),l.getRowString()};function oI(e){const{columns:t,rowIds:n,csvOptions:o,ignoreValueFormatter:r,apiRef:l}=e,s=n.reduce((h,g)=>`${h}${nI({id:g,columns:t,getCellParams:l.current.getCellParams,ignoreValueFormatter:r,csvOptions:o})}\r
`,"").trim();if(!o.includeHeaders)return s;const c=t.filter(h=>h.field!==uo.field),a=[];if(o.includeColumnGroupsHeaders){const h=l.current.getAllGroupDetails();let g=0;const p=c.reduce((w,C)=>{const b=l.current.getColumnGroupPath(C.field);return w[C.field]=b,g=Math.max(g,b.length),w},{});for(let w=0;w<g;w+=1){const C=new gl({csvOptions:o,sanitizeCellValue:hl});a.push(C),c.forEach(b=>{const x=(p[b.field]||[])[w],F=h[x];C.addValue(F?F.headerName||F.groupId:"")})}}const u=new gl({csvOptions:o,sanitizeCellValue:hl});return c.forEach(h=>{u.addValue(h.headerName||h.field)}),a.push(u),`${`${a.map(h=>h.getRowString()).join(`\r
`)}\r
`}${s}`.trim()}function Hi(e){const t=document.createElement("span");t.style.whiteSpace="pre",t.style.userSelect="all",t.style.opacity="0px",t.textContent=e,document.body.appendChild(t);const n=document.createRange();n.selectNode(t);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy")}finally{document.body.removeChild(t)}}function rI(e){navigator.clipboard?navigator.clipboard.writeText(e).catch(()=>{Hi(e)}):Hi(e)}function lI(e){var t;return!!((t=window.getSelection())!=null&&t.toString()||e&&(e.selectionEnd||0)-(e.selectionStart||0)>0)}const sI=(e,t)=>{const n=t.ignoreValueFormatterDuringExport,o=(typeof n=="object"?n==null?void 0:n.clipboardExport:n)||!1,r=t.clipboardCopyCellDelimiter,l=d.useCallback(s=>{if(!gp(s)||lI(s.target))return;let c="";if(Rr(e)>0)c=e.current.getDataAsCsv({includeHeaders:!1,delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1});else{const u=Ct(e);if(u){const f=e.current.getCellParams(u.id,u.field);c=ou(f,{csvOptions:{delimiter:r,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:o})}}c=e.current.unstable_applyPipeProcessors("clipboardCopy",c),c&&(rI(c),e.current.publishEvent("clipboardCopy",c))},[e,o,r]);Dc(e,()=>e.current.rootElementRef.current,"keydown",l),We(e,"clipboardCopy",t.onClipboardCopy)},iI=e=>m({},e,{columnMenu:{open:!1}}),aI=e=>{const t=ft(e,"useGridColumnMenu"),n=d.useCallback(s=>{const c=tr(e),a={open:!0,field:s};(a.open!==c.open||a.field!==c.field)&&(e.current.setState(f=>f.columnMenu.open&&f.columnMenu.field===s?f:(t.debug("Opening Column Menu"),m({},f,{columnMenu:{open:!0,field:s}}))),e.current.hidePreferences())},[e,t]),o=d.useCallback(()=>{const s=tr(e);if(s.field){const u=on(e),f=Ft(e),h=Ut(e);let g=s.field;if(u[g]||(g=h[0]),f[g]===!1){const p=h.filter(C=>C===g?!0:f[C]!==!1),w=p.indexOf(g);g=p[w+1]||p[w-1]}e.current.setColumnHeaderFocus(g)}const c={open:!1,field:void 0};(c.open!==s.open||c.field!==s.field)&&e.current.setState(u=>(t.debug("Hiding Column Menu"),m({},u,{columnMenu:c})))},[e,t]),r=d.useCallback(s=>{t.debug("Toggle Column Menu");const c=tr(e);!c.open||c.field!==s?n(s):o()},[e,t,n,o]);Ee(e,{showColumnMenu:n,hideColumnMenu:o,toggleColumnMenu:r},"public"),le(e,"columnResizeStart",o),le(e,"virtualScrollerWheel",e.current.hideColumnMenu),le(e,"virtualScrollerTouchMove",e.current.hideColumnMenu)},cI=(e,t,n)=>{var r,l,s;n.current.caches.columns={lastColumnsProp:t.columns};const o=Bn({apiRef:n,columnsToUpsert:t.columns,initialState:(r=t.initialState)==null?void 0:r.columns,columnVisibilityModel:t.columnVisibilityModel??((s=(l=t.initialState)==null?void 0:l.columns)==null?void 0:s.columnVisibilityModel)??{},keepOnlyColumnsToUpsert:!0});return m({},e,{columns:o,pinnedColumns:e.pinnedColumns??fr})};function uI(e,t){var v,y;const n=ft(e,"useGridColumns");e.current.registerControlState({stateId:"visibleColumns",propModel:t.columnVisibilityModel,propOnChange:t.onColumnVisibilityModelChange,stateSelector:Ft,changeEvent:"columnVisibilityModelChange"});const o=d.useCallback(M=>{n.debug("Updating columns state."),e.current.setState(dI(M)),e.current.publishEvent("columnsChange",M.orderedFields)},[n,e]),r=d.useCallback(M=>on(e)[M],[e]),l=d.useCallback(()=>Dt(e),[e]),s=d.useCallback(()=>Ze(e),[e]),c=d.useCallback((M,O=!0)=>(O?Ze(e):Dt(e)).findIndex($=>$.field===M),[e]),a=d.useCallback(M=>{const O=c(M);return Fn(e)[O]},[e,c]),u=d.useCallback(M=>{var D,$;Ft(e)!==M&&(e.current.setState(z=>m({},z,{columns:Bn({apiRef:e,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:M,keepOnlyColumnsToUpsert:!1})})),($=(D=e.current).updateRenderContext)==null||$.call(D))},[e]),f=d.useCallback(M=>{let O=M;if(Pn(e)){const $=[],z=[],H=Yl(e);if(M.forEach(P=>{H.has(P.field)?$.push(P):z.push(P)}),$.length>0&&e.current.updateNonPivotColumns($),z.length===0)return;O=z}const D=Bn({apiRef:e,columnsToUpsert:O,initialState:void 0,keepOnlyColumnsToUpsert:!1,updateInitialVisibilityModel:!0});o(D)},[e,o]),h=d.useCallback((M,O)=>{const D=Ft(e),$=D[M]??!0;if(O!==$){const z=m({},D,{[M]:O});e.current.setColumnVisibilityModel(z)}},[e]),g=d.useCallback(M=>Ut(e).findIndex(D=>D===M),[e]),p=d.useCallback((M,O)=>{const D=Ut(e),$=g(M);if($===O)return;n.debug(`Moving column ${M} to index ${O}`);const z=[...D],H=z.splice($,1)[0];z.splice(O,0,H),o(m({},At(e),{orderedFields:z}));const P={column:e.current.getColumn(M),targetIndex:e.current.getColumnIndexRelativeToVisibleColumns(M),oldIndex:$};e.current.publishEvent("columnIndexChange",P)},[e,n,o,g]),w=d.useCallback((M,O)=>{n.debug(`Updating column ${M} width to ${O}`);const D=At(e),$=D.lookup[M],z=m({},$,{width:O,hasBeenResized:!0});o(dl(m({},D,{lookup:m({},D.lookup,{[M]:z})}),e.current.getRootDimensions())),e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(M),colDef:z,width:O})},[e,n,o]),C={getColumn:r,getAllColumns:l,getColumnIndex:c,getColumnPosition:a,getVisibleColumns:s,getColumnIndexRelativeToVisibleColumns:g,updateColumns:f,setColumnVisibilityModel:u,setColumnVisibility:h,setColumnWidth:w},b={setColumnIndex:p};Ee(e,C,"public"),Ee(e,b,t.signature===Lt.DataGrid?"private":"public");const x=d.useCallback((M,O)=>{var E,G;const D={},$=Ft(e);(!O.exportOnlyDirtyModels||t.columnVisibilityModel!=null||Object.keys(((G=(E=t.initialState)==null?void 0:E.columns)==null?void 0:G.columnVisibilityModel)??{}).length>0||Object.keys($).length>0)&&(D.columnVisibilityModel=$),D.orderedFields=Ut(e);const H=Dt(e),P={};return H.forEach(_=>{if(_.hasBeenResized){const R={};kc.forEach(A=>{let V=_[A];V===1/0&&(V=-1),R[A]=V}),P[_.field]=R}}),Object.keys(P).length>0&&(D.dimensions=P),m({},M,{columns:D})},[e,t.columnVisibilityModel,(v=t.initialState)==null?void 0:v.columns]),F=d.useCallback((M,O)=>{const D=O.stateToRestore.columns,$=D==null?void 0:D.columnVisibilityModel;if(D==null)return M;const z=Bn({apiRef:e,columnsToUpsert:[],initialState:D,columnVisibilityModel:$,keepOnlyColumnsToUpsert:!1});return D!=null&&e.current.setState(H=>m({},H,{columns:m({},H.columns,{lookup:z.lookup,orderedFields:z.orderedFields,initialColumnVisibilityModel:z.initialColumnVisibilityModel})})),$!=null&&e.current.setState(H=>m({},H,{columns:m({},H.columns,{columnVisibilityModel:$})})),D!=null&&e.current.publishEvent("columnsChange",z.orderedFields),M},[e]),j=d.useCallback((M,O)=>{var D;if(O===mt.columns){const $=t.slots.columnsPanel;return i.jsx($,m({},(D=t.slotProps)==null?void 0:D.columnsPanel))}return M},[t.slots.columnsPanel,(y=t.slotProps)==null?void 0:y.columnsPanel]),T=d.useCallback(M=>{const O=Pn(e);return t.disableColumnSelector||O?M:[...M,"columnMenuColumnsItem"]},[t.disableColumnSelector,e]);Qe(e,"columnMenu",T),Qe(e,"exportState",x),Qe(e,"restoreState",F),Qe(e,"preferencePanel",j);const I=d.useRef(null);le(e,"viewportInnerSizeChange",M=>{if(I.current!==M.width){if(I.current=M.width,!Ze(e).some(D=>D.flex&&D.flex>0))return;o(dl(At(e),e.current.getRootDimensions()))}});const L=d.useCallback(()=>{n.info("Columns pipe processing have changed, regenerating the columns");const M=Bn({apiRef:e,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});o(M)},[e,n,o]);ls(e,"hydrateColumns",L),d.useEffect(()=>{if(e.current.caches.columns.lastColumnsProp===t.columns)return;e.current.caches.columns.lastColumnsProp=t.columns,n.info(`GridColumns have changed, new length ${t.columns.length}`);const M=Bn({apiRef:e,initialState:void 0,columnsToUpsert:t.columns,keepOnlyColumnsToUpsert:!0,updateInitialVisibilityModel:!0,columnVisibilityModel:t.columnVisibilityModel});o(M)},[n,e,o,t.columns,t.columnVisibilityModel]),d.useEffect(()=>{t.columnVisibilityModel!==void 0&&e.current.setColumnVisibilityModel(t.columnVisibilityModel)},[e,n,t.columnVisibilityModel])}function dI(e){return t=>m({},t,{columns:e})}const fI=(e,t)=>{var n;return m({},e,{density:((n=t.initialState)==null?void 0:n.density)??t.density??"standard"})},hI=(e,t)=>{var c;const n=ft(e,"useDensity");e.current.registerControlState({stateId:"density",propModel:t.density,propOnChange:t.onDensityChange,stateSelector:_n,changeEvent:"densityChange"});const r={setDensity:Be(a=>{_n(e)!==a&&(n.debug(`Set grid density to ${a}`),e.current.setState(f=>m({},f,{density:a})))})};Ee(e,r,"public");const l=d.useCallback((a,u)=>{var g;const f=_n(e);return!u.exportOnlyDirtyModels||t.density!=null||((g=t.initialState)==null?void 0:g.density)!=null?m({},a,{density:f}):a},[e,t.density,(c=t.initialState)==null?void 0:c.density]),s=d.useCallback((a,u)=>{var h;const f=(h=u.stateToRestore)!=null&&h.density?u.stateToRestore.density:_n(e);return e.current.setState(g=>m({},g,{density:f})),a},[e]);Qe(e,"exportState",l),Qe(e,"restoreState",s),d.useEffect(()=>{t.density&&e.current.setDensity(t.density)},[e,t.density])};function gI(e,t="csv",n=document.title||"untitled"){const o=`${n}.${t}`;if("download"in HTMLAnchorElement.prototype){const r=URL.createObjectURL(e),l=document.createElement("a");l.href=r,l.download=o,l.click(),setTimeout(()=>{URL.revokeObjectURL(r)});return}throw new Error("MUI X: exportAs not supported.")}const ru=({apiRef:e,options:t})=>{const n=Dt(e);return t.fields?t.fields.reduce((r,l)=>{const s=n.find(c=>c.field===l);return s&&r.push(s),r},[]):(t.allColumns?n:Ze(e)).filter(r=>r.disableExport!==!0)},lu=({apiRef:e})=>{var a,u;const t=cc(e),n=dt(e),o=Rr(e),r=t.filter(f=>n[f].type!=="footer"),l=$o(e),s=((a=l==null?void 0:l.top)==null?void 0:a.map(f=>f.id))||[],c=((u=l==null?void 0:l.bottom)==null?void 0:u.map(f=>f.id))||[];if(r.unshift(...s),r.push(...c),o>0){const f=fc(e);return r.filter(h=>f.has(h))}return r},mI=(e,t)=>{const n=ft(e,"useGridCsvExport"),o=t.ignoreValueFormatterDuringExport,r=(typeof o=="object"?o==null?void 0:o.csvExport:o)||!1,l=d.useCallback((u={})=>{n.debug("Get data as CSV");const f=ru({apiRef:e,options:u}),g=(u.getRowsToExport??lu)({apiRef:e});return oI({columns:f,rowIds:g,csvOptions:{delimiter:u.delimiter||",",shouldAppendQuotes:u.shouldAppendQuotes??!0,includeHeaders:u.includeHeaders??!0,includeColumnGroupsHeaders:u.includeColumnGroupsHeaders??!0,escapeFormulas:u.escapeFormulas??!0},ignoreValueFormatter:r,apiRef:e})},[n,e,r]),s=d.useCallback(u=>{n.debug("Export data as CSV");const f=l(u),h=new Blob([u!=null&&u.utf8WithBom?new Uint8Array([239,187,191]):"",f],{type:"text/csv"});gI(h,"csv",u==null?void 0:u.fileName)},[n,l]);Ee(e,{getDataAsCsv:l,exportDataAsCsv:s},"public");const a=d.useCallback((u,f)=>{var h;return(h=f.csvOptions)!=null&&h.disableToolbarButton?u:[...u,{component:i.jsx(ky,{options:f.csvOptions}),componentName:"csvExport"}]},[]);Qe(e,"exportMenu",a)};function pI(e,t){const n=[],o=t.querySelectorAll("style, link[rel='stylesheet']");for(let r=0;r<o.length;r+=1){const l=o[r];if(l.tagName==="STYLE"){const s=e.createElement(l.tagName),c=l.sheet;if(c){let a="";for(let u=0;u<c.cssRules.length;u+=1)typeof c.cssRules[u].cssText=="string"&&(a+=`${c.cssRules[u].cssText}\r
`);s.appendChild(e.createTextNode(a)),e.head.appendChild(s)}}else if(l.getAttribute("href")){const s=e.createElement(l.tagName);for(let c=0;c<l.attributes.length;c+=1){const a=l.attributes[c];a&&s.setAttribute(a.nodeName,a.nodeValue||"")}n.push(new Promise(c=>{s.addEventListener("load",()=>c())})),e.head.appendChild(s)}}return n}const lr=(e,t,n)=>{let o=e.paginationModel;const r=e.rowCount,l=(n==null?void 0:n.pageSize)??o.pageSize,s=(n==null?void 0:n.page)??o.page,c=mc(r,l,s);n&&((n==null?void 0:n.page)!==o.page||(n==null?void 0:n.pageSize)!==o.pageSize)&&(o=n);const a=l===-1?0:ob(o.page,c);return a!==o.page&&(o=m({},o,{page:a})),bc(o.pageSize,t),o},bI=(e,t)=>{var F,j;const n=ft(e,"useGridPaginationModel"),o=K(e,Oo),r=d.useRef(it(e)),l=Math.floor(t.rowHeight*o);e.current.registerControlState({stateId:"paginationModel",propModel:t.paginationModel,propOnChange:t.onPaginationModelChange,stateSelector:ut,changeEvent:"paginationModelChange"});const s=d.useCallback(T=>{const I=ut(e);T!==I.page&&(n.debug(`Setting page to ${T}`),e.current.setPaginationModel({page:T,pageSize:I.pageSize}))},[e,n]),c=d.useCallback(T=>{const I=ut(e);T!==I.pageSize&&(n.debug(`Setting page size to ${T}`),e.current.setPaginationModel({pageSize:T,page:I.page}))},[e,n]),a=d.useCallback(T=>{const I=ut(e);T!==I&&(n.debug("Setting 'paginationModel' to",T),e.current.setState(k=>m({},k,{pagination:m({},k.pagination,{paginationModel:lr(k.pagination,t.signature,T)})}),"setPaginationModel"))},[e,n,t.signature]);Ee(e,{setPage:s,setPageSize:c,setPaginationModel:a},"public");const f=d.useCallback((T,I)=>{var v,y;const k=ut(e);return!I.exportOnlyDirtyModels||t.paginationModel!=null||((y=(v=t.initialState)==null?void 0:v.pagination)==null?void 0:y.paginationModel)!=null||k.page!==0&&k.pageSize!==nb(t.autoPageSize)?m({},T,{pagination:m({},T.pagination,{paginationModel:k})}):T},[e,t.paginationModel,(j=(F=t.initialState)==null?void 0:F.pagination)==null?void 0:j.paginationModel,t.autoPageSize]),h=d.useCallback((T,I)=>{var L,v;const k=(L=I.stateToRestore.pagination)!=null&&L.paginationModel?m({},pc(t.autoPageSize),(v=I.stateToRestore.pagination)==null?void 0:v.paginationModel):ut(e);return e.current.setState(y=>m({},y,{pagination:m({},y.pagination,{paginationModel:lr(y.pagination,t.signature,k)})}),"stateRestorePreProcessing"),T},[e,t.autoPageSize,t.signature]);Qe(e,"exportState",f),Qe(e,"restoreState",h);const g=()=>{var I;const T=ut(e);(I=e.current.virtualScrollerRef)!=null&&I.current&&e.current.scrollToIndexes({rowIndex:T.page*T.pageSize})},p=d.useCallback(()=>{if(!t.autoPageSize)return;const T=e.current.getRootDimensions(),I=Math.max(1,Math.floor(T.viewportInnerSize.height/l));e.current.setPageSize(I)},[e,t.autoPageSize,l]),w=d.useCallback(T=>{if(T==null)return;const I=ut(e);if(I.page===0)return;const k=xc(e);I.page>k-1&&e.current.setPage(Math.max(0,k-1))},[e]),C=d.useCallback(()=>{ut(e).page!==0&&e.current.setPage(0),e.current.getScrollPosition().top!==0&&e.current.scroll({top:0})},[e]),b=d.useCallback(T=>{const I=m({},T,{items:Wl(e)});Gt(I,r.current)||(r.current=I,C())},[e,C]);le(e,"viewportInnerSizeChange",p),le(e,"paginationModelChange",g),le(e,"rowCountChange",w),le(e,"sortModelChange",C),le(e,"filterModelChange",b);const x=d.useRef(!0);d.useEffect(()=>{if(x.current){x.current=!1;return}t.pagination&&e.current.setState(T=>m({},T,{pagination:m({},T.pagination,{paginationModel:lr(T.pagination,t.signature,t.paginationModel)})}))},[e,t.paginationModel,t.signature,t.pagination]),d.useEffect(()=>{e.current.setState(T=>{const I=t.pagination===!0;return T.pagination.paginationMode===t.paginationMode&&T.pagination.enabled===I?T:m({},T,{pagination:m({},T.pagination,{paginationMode:t.paginationMode,enabled:I})})})},[e,t.paginationMode,t.pagination]),d.useEffect(p,[p])};function CI(){return new Promise(e=>{requestAnimationFrame(()=>{e()})})}function wI(e){const t=document.createElement("iframe");return t.style.position="absolute",t.style.width="0px",t.style.height="0px",t.title=e||document.title,t}const xI=(e,t)=>{const n=e.current.rootElementRef.current!==null,o=ft(e,"useGridPrintExport"),r=d.useRef(null),l=d.useRef(null),s=d.useRef({}),c=d.useRef([]),a=d.useRef(null);d.useEffect(()=>{r.current=Kn(e.current.rootElementRef.current)},[e,n]);const u=d.useCallback((b,x,F)=>new Promise(j=>{const T=ru({apiRef:e,options:{fields:b,allColumns:x}}).map(L=>L.field),I=Dt(e),k={};I.forEach(L=>{k[L.field]=T.includes(L.field)}),F&&(k[uo.field]=!0),e.current.setColumnVisibilityModel(k),j()}),[e]),f=d.useCallback(b=>{const F=b({apiRef:e}).reduce((j,T)=>{const I=e.current.getRow(T);return I[In]||j.push(I),j},[]);e.current.setRows(F)},[e]),h=d.useCallback((b,x)=>{var H,P,E;const F=m({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},x),j=b.contentDocument;if(!j)return;const T=Hl(e),I=e.current.rootElementRef.current,k=I.cloneNode(!0),L=k.querySelector(`.${S.main}`);L.style.overflow="visible",k.style.contain="size";let v=((H=I.querySelector(`.${S.toolbar}`))==null?void 0:H.offsetHeight)||0,y=((P=I.querySelector(`.${S.footerContainer}`))==null?void 0:P.offsetHeight)||0;const M=k.querySelector(`.${S.footerContainer}`);F.hideToolbar&&((E=k.querySelector(`.${S.toolbar}`))==null||E.remove(),v=0),F.hideFooter&&M&&(M.remove(),y=0);const O=T.currentPageTotalHeight+Bo(e,t)+v+y;k.style.height=`${O}px`,k.style.boxSizing="content-box",!F.hideFooter&&M&&(M.style.position="absolute",M.style.width="100%",M.style.top=`${O-y}px`);const D=document.createElement("div");D.appendChild(k),j.body.style.marginTop="0px",j.body.innerHTML=D.innerHTML;const $=typeof F.pageStyle=="function"?F.pageStyle():F.pageStyle;if(typeof $=="string"){const G=j.createElement("style");G.appendChild(j.createTextNode($)),j.head.appendChild(G)}F.bodyClassName&&j.body.classList.add(...F.bodyClassName.split(" "));let z=[];if(F.copyStyles){const G=I.getRootNode(),_=G.constructor.name==="ShadowRoot"?G:r.current;z=pI(j,_)}Promise.all(z).then(()=>{b.contentWindow.print()})},[e,r,t]),g=d.useCallback(b=>{var x,F;r.current.body.removeChild(b),e.current.restoreState(l.current||{}),(F=(x=l.current)==null?void 0:x.columns)!=null&&F.columnVisibilityModel||e.current.setColumnVisibilityModel(s.current),e.current.setState(j=>m({},j,{virtualization:a.current})),e.current.setRows(c.current),l.current=null,s.current={},c.current=[]},[e]),w={exportDataAsPrint:d.useCallback(async b=>{if(o.debug("Export data as Print"),!e.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(l.current=e.current.exportState(),s.current=Ft(e),c.current=e.current.getSortedRows().filter(F=>!F[In]),t.pagination){const j={page:0,pageSize:_l(e)};e.current.setState(T=>m({},T,{pagination:m({},T.pagination,{paginationModel:lr(T.pagination,"DataGridPro",j)})}))}a.current=e.current.state.virtualization,e.current.unstable_setVirtualization(!1),await u(b==null?void 0:b.fields,b==null?void 0:b.allColumns,b==null?void 0:b.includeCheckboxes),f((b==null?void 0:b.getRowsToExport)??lu),await CI();const x=wI(b==null?void 0:b.fileName);x.onload=()=>{h(x,b),x.contentWindow.matchMedia("print").addEventListener("change",j=>{j.matches===!1&&g(x)})},r.current.body.appendChild(x)},[t,o,e,h,g,u,f])};Ee(e,w,"public");const C=d.useCallback((b,x)=>{var F;return(F=x.printOptions)!=null&&F.disableToolbarButton?b:[...b,{component:i.jsx(Ey,{options:x.printOptions}),componentName:"printExport"}]},[]);Qe(e,"exportMenu",C)},SI=(e,t,n)=>{var r,l;const o=t.filterModel??((l=(r=t.initialState)==null?void 0:r.filter)==null?void 0:l.filterModel)??To();return m({},e,{filter:m({filterModel:Al(o,t.disableMultipleColumnsFiltering,n)},Na),visibleRowsLookup:{}})},yI=e=>e.filteredRowsLookup;function $i(e,t){return e.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:t.rows.tree,filteredRowsLookup:t.filter.filteredRowsLookup})}function vI(){return Pr(Object.values)}const II=(e,t,n)=>{var y,M,O;const o=ft(e,"useGridFilter");e.current.registerControlState({stateId:"filter",propModel:t.filterModel,propOnChange:t.onFilterModelChange,stateSelector:it,changeEvent:"filterModelChange"});const r=d.useCallback(()=>{e.current.setState(D=>{const $=it(e),z=e.current.getFilterState($),H=m({},D,{filter:m({},D.filter,z)}),P=$i(e,H);return m({},H,{visibleRowsLookup:P})}),e.current.publishEvent("filteredRowsSet")},[e]),l=d.useCallback((D,$)=>$==null||$.filterable===!1||t.disableColumnFilter?D:[...D,"columnMenuFilterItem"],[t.disableColumnFilter]),s=d.useCallback(D=>{const $=it(e),z=[...$.items],H=z.findIndex(P=>P.id===D.id);H===-1?z.push(D):z[H]=D,e.current.setFilterModel(m({},$,{items:z}),"upsertFilterItem")},[e]),c=d.useCallback(D=>{const $=it(e),z=[...$.items];D.forEach(H=>{const P=z.findIndex(E=>E.id===H.id);P===-1?z.push(H):z[P]=H}),e.current.setFilterModel(m({},$,{items:z}),"upsertFilterItems")},[e]),a=d.useCallback(D=>{const $=it(e),z=$.items.filter(H=>H.id!==D.id);z.length!==$.items.length&&e.current.setFilterModel(m({},$,{items:z}),"deleteFilterItem")},[e]),u=d.useCallback((D,$,z)=>{if(o.debug("Displaying filter panel"),D){const H=it(e),P=H.items.filter(R=>{var N;if(R.value!==void 0)return!(Array.isArray(R.value)&&R.value.length===0);const V=(N=e.current.getColumn(R.field).filterOperators)==null?void 0:N.find(J=>J.value===R.operator);return!(typeof(V==null?void 0:V.requiresFilterValue)>"u"?!0:V==null?void 0:V.requiresFilterValue)});let E;const G=P.find(R=>R.field===D),_=e.current.getColumn(D);G?E=P:t.disableMultipleColumnsFiltering?E=[ul({field:D,operator:_.filterOperators[0].value},e)]:E=[...P,ul({field:D,operator:_.filterOperators[0].value},e)],e.current.setFilterModel(m({},H,{items:E}))}e.current.showPreferences(mt.filters,$,z)},[e,o,t.disableMultipleColumnsFiltering]),f=d.useCallback(()=>{o.debug("Hiding filter panel"),e.current.hidePreferences()},[e,o]),h=d.useCallback(D=>{const $=it(e);$.logicOperator!==D&&e.current.setFilterModel(m({},$,{logicOperator:D}),"changeLogicOperator")},[e]),g=d.useCallback(D=>{const $=it(e);Gt($.quickFilterValues,D)||e.current.setFilterModel(m({},$,{quickFilterValues:[...D]}))},[e]),p=d.useCallback((D,$)=>{it(e)!==D&&(o.debug("Setting filter model"),e.current.updateControlState("filter",ei(D,t.disableMultipleColumnsFiltering,e),$),e.current.unstable_applyFilters())},[e,o,t.disableMultipleColumnsFiltering]),w=d.useCallback(D=>{const $=Al(D,t.disableMultipleColumnsFiltering,e),z=n.hooks.useFilterValueGetter(e,t),H=t.filterMode==="client"?ap($,z,e,t.disableEval):null,P=e.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:H,filterModel:$??To(),filterValueGetter:z});return m({},P,{filterModel:$})},[e,n.hooks,t]),C={setFilterLogicOperator:h,unstable_applyFilters:r,deleteFilterItem:a,upsertFilterItem:s,upsertFilterItems:c,setFilterModel:p,showFilterPanel:u,hideFilterPanel:f,setQuickFilterValues:g,ignoreDiacritics:t.ignoreDiacritics,getFilterState:w};Ee(e,C,"public");const b=d.useCallback((D,$)=>{var P,E;const z=it(e);return z.items.forEach(G=>{delete G.fromInput}),!$.exportOnlyDirtyModels||t.filterModel!=null||((E=(P=t.initialState)==null?void 0:P.filter)==null?void 0:E.filterModel)!=null||!Gt(z,To())?m({},D,{filter:{filterModel:z}}):D},[e,t.filterModel,(M=(y=t.initialState)==null?void 0:y.filter)==null?void 0:M.filterModel]),x=d.useCallback((D,$)=>{var H;const z=(H=$.stateToRestore.filter)==null?void 0:H.filterModel;return z==null?D:(e.current.updateControlState("filter",ei(z,t.disableMultipleColumnsFiltering,e),"restoreState"),m({},D,{callbacks:[...D.callbacks,e.current.unstable_applyFilters]}))},[e,t.disableMultipleColumnsFiltering]),F=d.useCallback((D,$)=>{var z;if($===mt.filters){const H=t.slots.filterPanel;return i.jsx(H,m({},(z=t.slotProps)==null?void 0:z.filterPanel))}return D},[t.slots.filterPanel,(O=t.slotProps)==null?void 0:O.filterPanel]),{getRowId:j}=t,T=tn(vI),I=d.useCallback(D=>{var A;if(t.filterMode!=="client"||!D.isRowMatchingFilters||!D.filterModel.items.length&&!((A=D.filterModel.quickFilterValues)!=null&&A.length))return Na;const $=Tt(e),z={},{isRowMatchingFilters:H}=D,P={},E={passingFilterItems:null,passingQuickFilterValues:null},G=T.current(e.current.state.rows.dataRowIdToModelLookup);for(let V=0;V<G.length;V+=1){const U=G[V],N=j?j(U):U.id;H(U,void 0,E);const J=up([E.passingFilterItems],[E.passingQuickFilterValues],D.filterModel,D.filterValueGetter,e,P);J||(z[N]=J)}const _="auto-generated-group-footer-root";return $[_]&&(z[_]=!0),{filteredRowsLookup:z,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[e,t.filterMode,j,T]);Qe(e,"columnMenu",l),Qe(e,"exportState",b),Qe(e,"restoreState",x),Qe(e,"preferencePanel",F),jo(e,Tn,"filtering",I),jo(e,Tn,"visibleRowsLookupCreation",yI);const k=d.useCallback(()=>{o.debug("onColUpdated - GridColumns changed, applying filters");const D=it(e),$=on(e),z=D.items.filter(H=>H.field&&$[H.field]);z.length<D.items.length&&e.current.setFilterModel(m({},D,{items:z}))},[e,o]),L=d.useCallback(D=>{D==="filtering"&&e.current.unstable_applyFilters()},[e]),v=d.useCallback(()=>{e.current.setState(D=>m({},D,{visibleRowsLookup:$i(e,D)}))},[e]);le(e,"rowsSet",r),le(e,"columnsChange",k),le(e,"activeStrategyProcessorChange",L),le(e,"rowExpansionChange",v),le(e,"columnVisibilityModelChange",()=>{var $;const D=it(e);($=D.quickFilterValues)!=null&&$.length&&Za(D)&&r()}),fo(()=>{r()}),Mt(()=>{t.filterModel!==void 0&&e.current.setFilterModel(t.filterModel)},[e,o,t.filterModel])},MI=e=>m({},e,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),PI=(e,t)=>{const n=ft(e,"useGridFocus"),o=d.useRef(null),r=e.current.rootElementRef.current!==null,l=d.useCallback((v,y)=>{v&&e.current.getRow(v.id)&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(v.id,v.field),y)},[e]),s=d.useCallback((v,y)=>{const M=Ct(e);(M==null?void 0:M.id)===v&&(M==null?void 0:M.field)===y||(e.current.setState(O=>(n.debug(`Focusing on cell with id=${v} and field=${y}`),m({},O,{tabIndex:{cell:{id:v,field:y},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:v,field:y},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),e.current.getRow(v)&&(M&&l(M,{}),e.current.publishEvent("cellFocusIn",e.current.getCellParams(v,y))))},[e,n,l]),c=d.useCallback((v,y={})=>{const M=Ct(e);l(M,y),e.current.setState(O=>(n.debug(`Focusing on column header with colIndex=${v}`),m({},O,{tabIndex:{columnHeader:{field:v},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:v},columnHeaderFilter:null,cell:null,columnGroupHeader:null}})))},[e,n,l]),a=d.useCallback((v,y={})=>{const M=Ct(e);l(M,y),e.current.setState(O=>(n.debug(`Focusing on column header filter with colIndex=${v}`),m({},O,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:v},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:v},cell:null,columnGroupHeader:null}})))},[e,n,l]),u=d.useCallback((v,y,M={})=>{const O=Ct(e);O&&e.current.publishEvent("cellFocusOut",e.current.getCellParams(O.id,O.field),M),e.current.setState(D=>m({},D,{tabIndex:{columnGroupHeader:{field:v,depth:y},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:v,depth:y},columnHeader:null,columnHeaderFilter:null,cell:null}}))},[e]),f=d.useCallback(()=>gr(e),[e]),h=d.useCallback((v,y,M)=>{let O=e.current.getColumnIndex(y);const D=Ze(e),$=qn(e,{pagination:t.pagination,paginationMode:t.paginationMode}),z=$o(e),H=[].concat(z.top||[],$.rows,z.bottom||[]);let P=H.findIndex(R=>R.id===v);M==="right"?O+=1:M==="left"?O-=1:P+=1,O>=D.length?(P+=1,P<H.length&&(O=0)):O<0&&(P-=1,P>=0&&(O=D.length-1)),P=yn(P,0,H.length-1);const E=H[P];if(!E)return;const G=e.current.unstable_getCellColSpanInfo(E.id,O);G&&G.spannedByColSpan&&(M==="left"||M==="below"?O=G.leftVisibleCellIndex:M==="right"&&(O=G.rightVisibleCellIndex)),O=yn(O,0,D.length-1);const _=D[O];e.current.setCellFocus(E.id,_.field)},[e,t.pagination,t.paginationMode]),g=d.useCallback(({id:v,field:y})=>{e.current.setCellFocus(v,y)},[e]),p=d.useCallback((v,y)=>{y.key==="Enter"||y.key==="Tab"||y.key==="Shift"||hr(y.key)||e.current.setCellFocus(v.id,v.field)},[e]),w=d.useCallback(({field:v},y)=>{y.target===y.currentTarget&&e.current.setColumnHeaderFocus(v,y)},[e]),C=d.useCallback(({fields:v,depth:y},M)=>{if(M.target!==M.currentTarget)return;const O=gr(e);O!==null&&O.depth===y&&v.includes(O.field)||e.current.setColumnGroupHeaderFocus(v[0],y,M)},[e]),b=d.useCallback((v,y)=>{var M,O;(O=(M=y.relatedTarget)==null?void 0:M.getAttribute("class"))!=null&&O.includes(S.columnHeader)||(n.debug("Clearing focus"),e.current.setState(D=>m({},D,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[n,e]),x=d.useCallback(v=>{o.current=v},[]),F=d.useCallback(v=>{const y=o.current;o.current=null;const M=Ct(e);if(!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:v,cell:y}))return;if(!M){y&&e.current.setCellFocus(y.id,y.field);return}if((y==null?void 0:y.id)===M.id&&(y==null?void 0:y.field)===M.field)return;const D=e.current.getCellElement(M.id,M.field);D!=null&&D.contains(v.target)||(y?e.current.setCellFocus(y.id,y.field):(e.current.setState($=>m({},$,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),l(M,v)))},[e,l]),j=d.useCallback(v=>{if(v.cellMode==="view")return;const y=Ct(e);((y==null?void 0:y.id)!==v.id||(y==null?void 0:y.field)!==v.field)&&e.current.setCellFocus(v.id,v.field)},[e]),T=d.useCallback(()=>{const v=Ct(e);if(v&&!e.current.getRow(v.id)){const y=v.id;let M=null;if(typeof y<"u"){const O=e.current.getRowElement(y),D=O!=null&&O.dataset.rowindex?Number(O==null?void 0:O.dataset.rowindex):0,$=qn(e,{pagination:t.pagination,paginationMode:t.paginationMode}),z=$.rows[yn(D,0,$.rows.length-1)];M=(z==null?void 0:z.id)??null}e.current.setState(O=>m({},O,{focus:{cell:M===null?null:{id:M,field:v.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[e,t.pagination,t.paginationMode]),I=Be(()=>{const v=Ct(e);if(!v)return;const y=qn(e,{pagination:t.pagination,paginationMode:t.paginationMode});if(y.rows.find(D=>D.id===v.id)||y.rows.length===0)return;const O=Ze(e);e.current.setState(D=>m({},D,{tabIndex:{cell:{id:y.rows[0].id,field:O[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),k={setCellFocus:s,setColumnHeaderFocus:c,setColumnHeaderFilterFocus:a},L={moveFocusToRelativeCell:h,setColumnGroupHeaderFocus:u,getColumnGroupHeaderFocus:f};Ee(e,k,"public"),Ee(e,L,"private"),d.useEffect(()=>{const v=Kn(e.current.rootElementRef.current);return v.addEventListener("mouseup",F),()=>{v.removeEventListener("mouseup",F)}},[e,r,F]),le(e,"columnHeaderBlur",b),le(e,"cellDoubleClick",g),le(e,"cellMouseDown",x),le(e,"cellKeyDown",p),le(e,"cellModeChange",j),le(e,"columnHeaderFocus",w),le(e,"columnGroupHeaderFocus",C),le(e,"rowsSet",T),le(e,"paginationModelChange",I)},ol=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:o})=>{if(o){if(e<n)return e+1}else if(!o&&e>t)return e-1;return null},rl=({currentColIndex:e,firstColIndex:t,lastColIndex:n,isRtl:o})=>{if(o){if(e>t)return e-1}else if(!o&&e<n)return e+1;return null};function kI(e,t,n,o){var c,a;const r=to.selectors.hiddenCells(e.current.virtualizer.store.state);if(!((c=r[t])!=null&&c[n]))return t;const l=cc(e);let s=l.indexOf(t)+(o==="down"?1:-1);for(;s>=0&&s<l.length;){const u=l[s];if(!((a=r[u])!=null&&a[n]))return u;s+=o==="down"?1:-1}return t}const EI=Ae(zo,$o,(e,t)=>(t.top||[]).concat(e.rows,t.bottom||[])),TI=(e,t)=>{const n=ft(e,"useGridKeyboardNavigation"),o=vt(),r=d.useCallback(()=>EI(e),[e]),l=t.signature!=="DataGrid"&&t.headerFilters,s=d.useCallback((b,x,F="left",j="up")=>{const T=Dn(e),I=e.current.unstable_getCellColSpanInfo(x,b);I&&I.spannedByColSpan&&(F==="left"?b=I.leftVisibleCellIndex:F==="right"&&(b=I.rightVisibleCellIndex));const k=Ro(e)[b],L=kI(e,x,b,j),v=T.findIndex(y=>y.id===L);n.debug(`Navigating to cell row ${v}, col ${b}`),e.current.scrollToIndexes({colIndex:b,rowIndex:v}),e.current.setCellFocus(L,k)},[e,n]),c=d.useCallback((b,x)=>{n.debug(`Navigating to header col ${b}`),e.current.scrollToIndexes({colIndex:b});const F=e.current.getVisibleColumns()[b].field;e.current.setColumnHeaderFocus(F,x)},[e,n]),a=d.useCallback((b,x)=>{n.debug(`Navigating to header filter col ${b}`),e.current.scrollToIndexes({colIndex:b});const F=e.current.getVisibleColumns()[b].field;e.current.setColumnHeaderFilterFocus(F,x)},[e,n]),u=d.useCallback((b,x,F)=>{n.debug(`Navigating to header col ${b}`),e.current.scrollToIndexes({colIndex:b});const{field:j}=e.current.getVisibleColumns()[b];e.current.setColumnGroupHeaderFocus(j,x,F)},[e,n]),f=d.useCallback(b=>{var x;return(x=r()[b])==null?void 0:x.id},[r]),h=d.useCallback((b,x)=>{const F=x.currentTarget.querySelector(`.${S.columnHeaderTitleContainerContent}`);if(!!F&&F.contains(x.target)&&b.field!==uo.field)return;const T=r(),I=e.current.getViewportPageSize(),k=b.field?e.current.getColumnIndex(b.field):0,L=T.length>0?0:null,v=T.length-1,y=0,M=Ze(e).length-1,O=Go(e);let D=!0;switch(x.key){case"ArrowDown":{l?a(k,x):L!==null&&s(k,f(L));break}case"ArrowRight":{const $=rl({currentColIndex:k,firstColIndex:y,lastColIndex:M,isRtl:o});$!==null&&c($,x);break}case"ArrowLeft":{const $=ol({currentColIndex:k,firstColIndex:y,lastColIndex:M,isRtl:o});$!==null&&c($,x);break}case"ArrowUp":{O>0&&u(k,O-1,x);break}case"PageDown":{L!==null&&v!==null&&s(k,f(Math.min(L+I,v)));break}case"Home":{c(y,x);break}case"End":{c(M,x);break}case"Enter":{(x.ctrlKey||x.metaKey)&&e.current.toggleColumnMenu(b.field);break}case" ":break;default:D=!1}D&&x.preventDefault()},[e,r,l,a,s,f,o,c,u]),g=d.useCallback((b,x)=>{const F=Ab(e)===b.field,j=zb(e)===b.field;if(F||j||!hr(x.key))return;const T=r(),I=e.current.getViewportPageSize(),k=b.field?e.current.getColumnIndex(b.field):0,L=0,v=T.length-1,y=0,M=Ze(e).length-1;let O=!0;switch(x.key){case"ArrowDown":{const D=f(L);D!=null&&s(k,D);break}case"ArrowRight":{const D=rl({currentColIndex:k,firstColIndex:y,lastColIndex:M,isRtl:o});D!==null&&a(D,x);break}case"ArrowLeft":{const D=ol({currentColIndex:k,firstColIndex:y,lastColIndex:M,isRtl:o});D!==null?a(D,x):e.current.setColumnHeaderFilterFocus(b.field,x);break}case"ArrowUp":{c(k,x);break}case"PageDown":{v!==null&&s(k,f(Math.min(L+I,v)));break}case"Home":{a(y,x);break}case"End":{a(M,x);break}case" ":break;default:O=!1}O&&x.preventDefault()},[e,r,a,o,c,s,f]),p=d.useCallback((b,x)=>{const F=gr(e);if(F===null)return;const{field:j,depth:T}=F,{fields:I,depth:k,maxDepth:L}=b,v=r(),y=e.current.getViewportPageSize(),M=e.current.getColumnIndex(j),O=j?e.current.getColumnIndex(j):0,D=0,$=v.length-1,z=0,H=Ze(e).length-1;let P=!0;switch(x.key){case"ArrowDown":{k===L-1?c(M,x):u(M,T+1,x);break}case"ArrowUp":{k>0&&u(M,T-1,x);break}case"ArrowRight":{const E=I.length-I.indexOf(j)-1;M+E+1<=H&&u(M+E+1,T,x);break}case"ArrowLeft":{const E=I.indexOf(j);M-E-1>=z&&u(M-E-1,T,x);break}case"PageDown":{$!==null&&s(O,f(Math.min(D+y,$)));break}case"Home":{u(z,T,x);break}case"End":{u(H,T,x);break}case" ":break;default:P=!1}P&&x.preventDefault()},[e,r,c,u,s,f]),w=d.useCallback((b,x)=>{if(No(x))return;const F=e.current.getCellParams(b.id,b.field);if(F.cellMode===Ge.Edit||!hr(x.key)||!e.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:x,cell:F}))return;const T=r();if(T.length===0)return;const I=e.current.getViewportPageSize(),k=b.field?e.current.getColumnIndex(b.field):0,L=T.findIndex($=>$.id===b.id),v=0,y=T.length-1,M=0,O=Ze(e).length-1;let D=!0;switch(x.key){case"ArrowDown":{L<y&&s(k,f(L+1),o?"right":"left","down");break}case"ArrowUp":{L>v?s(k,f(L-1)):l?a(k,x):c(k,x);break}case"ArrowRight":{const $=rl({currentColIndex:k,firstColIndex:M,lastColIndex:O,isRtl:o});$!==null&&s($,f(L),o?"left":"right");break}case"ArrowLeft":{const $=ol({currentColIndex:k,firstColIndex:M,lastColIndex:O,isRtl:o});$!==null&&s($,f(L),o?"right":"left");break}case"Tab":{x.shiftKey&&k>M?s(k-1,f(L),"left"):!x.shiftKey&&k<O&&s(k+1,f(L),"right");break}case" ":{if(b.field===Gl)break;const z=b.colDef;if(z&&(z.field===kp||Lw(z.field)))break;!x.shiftKey&&L<y&&s(k,f(Math.min(L+I,y)));break}case"PageDown":{L<y&&s(k,f(Math.min(L+I,y)));break}case"PageUp":{const $=Math.max(L-I,v);$!==L&&$>=v?s(k,f($)):c(k,x);break}case"Home":{x.ctrlKey||x.metaKey||x.shiftKey?s(M,f(v)):s(M,f(L));break}case"End":{x.ctrlKey||x.metaKey||x.shiftKey?s(O,f(y)):s(O,f(L));break}default:D=!1}D&&x.preventDefault()},[e,r,o,s,f,l,a,c]),C=d.useCallback((b,{event:x})=>x.key===" "?!1:b,[]);Qe(e,"canStartEditing",C),le(e,"columnHeaderKeyDown",h),le(e,"headerFilterKeyDown",g),le(e,"columnGroupHeaderKeyDown",p),le(e,"cellKeyDown",w)},FI=(e,t)=>{var w,C;const n=ft(e,"useGridRowCount"),o=K(e,Nl),r=K(e,Nn),l=K(e,wo),s=K(e,ut),c=tn(()=>ut(e).pageSize);e.current.registerControlState({stateId:"paginationRowCount",propModel:t.rowCount,propOnChange:t.onRowCountChange,stateSelector:Nn,changeEvent:"rowCountChange"});const u={setRowCount:d.useCallback(b=>{r!==b&&(n.debug("Setting 'rowCount' to",b),e.current.setState(x=>m({},x,{pagination:m({},x.pagination,{rowCount:b})})))},[e,n,r])};Ee(e,u,"public");const f=d.useCallback((b,x)=>{var T,I;const F=Nn(e);return!x.exportOnlyDirtyModels||t.rowCount!=null||((I=(T=t.initialState)==null?void 0:T.pagination)==null?void 0:I.rowCount)!=null?m({},b,{pagination:m({},b.pagination,{rowCount:F})}):b},[e,t.rowCount,(C=(w=t.initialState)==null?void 0:w.pagination)==null?void 0:C.rowCount]),h=d.useCallback((b,x)=>{var j;const F=(j=x.stateToRestore.pagination)!=null&&j.rowCount?x.stateToRestore.pagination.rowCount:Nn(e);return e.current.setState(T=>m({},T,{pagination:m({},T.pagination,{rowCount:F})})),b},[e]);Qe(e,"exportState",f),Qe(e,"restoreState",h);const g=d.useCallback(b=>{t.paginationMode==="client"||!c.current||b.pageSize!==c.current&&(c.current=b.pageSize,r===-1&&e.current.setPage(0))},[t.paginationMode,c,r,e]);le(e,"paginationModelChange",g),d.useEffect(()=>{t.paginationMode==="client"?e.current.setRowCount(o):t.rowCount!=null&&e.current.setRowCount(t.rowCount)},[e,t.paginationMode,o,t.rowCount]);const p=l.hasNextPage===!1;d.useEffect(()=>{p&&r===-1&&e.current.setRowCount(s.pageSize*s.page+o)},[e,o,p,r,s])},DI=(e,t)=>{var a,u;const n=ft(e,"useGridPaginationMeta"),o=K(e,wo);e.current.registerControlState({stateId:"paginationMeta",propModel:t.paginationMeta,propOnChange:t.onPaginationMetaChange,stateSelector:wo,changeEvent:"paginationMetaChange"});const l={setPaginationMeta:d.useCallback(f=>{o!==f&&(n.debug("Setting 'paginationMeta' to",f),e.current.setState(h=>m({},h,{pagination:m({},h.pagination,{meta:f})})))},[e,n,o])};Ee(e,l,"public");const s=d.useCallback((f,h)=>{var w,C;const g=wo(e);return!h.exportOnlyDirtyModels||t.paginationMeta!=null||((C=(w=t.initialState)==null?void 0:w.pagination)==null?void 0:C.meta)!=null?m({},f,{pagination:m({},f.pagination,{meta:g})}):f},[e,t.paginationMeta,(u=(a=t.initialState)==null?void 0:a.pagination)==null?void 0:u.meta]),c=d.useCallback((f,h)=>{var p;const g=(p=h.stateToRestore.pagination)!=null&&p.meta?h.stateToRestore.pagination.meta:wo(e);return e.current.setState(w=>m({},w,{pagination:m({},w.pagination,{meta:g})})),f},[e]);Qe(e,"exportState",s),Qe(e,"restoreState",c),d.useEffect(()=>{t.paginationMeta&&e.current.setPaginationMeta(t.paginationMeta)},[e,t.paginationMeta])},jI=(e,t)=>{var l,s,c,a,u,f,h;const n=m({},pc(t.autoPageSize),t.paginationModel??((s=(l=t.initialState)==null?void 0:l.pagination)==null?void 0:s.paginationModel));bc(n.pageSize,t.signature);const o=t.rowCount??((a=(c=t.initialState)==null?void 0:c.pagination)==null?void 0:a.rowCount)??(t.paginationMode==="client"?(u=e.rows)==null?void 0:u.totalRowCount:void 0),r=t.paginationMeta??((h=(f=t.initialState)==null?void 0:f.pagination)==null?void 0:h.meta)??{};return m({},e,{pagination:m({},e.pagination,{paginationModel:n,rowCount:o,meta:r,enabled:t.pagination===!0,paginationMode:t.paginationMode})})},HI=(e,t)=>{DI(e,t),bI(e,t),FI(e,t)},$I=(e,t)=>{var n;return m({},e,{preferencePanel:((n=t.initialState)==null?void 0:n.preferencePanel)??{open:!1}})},OI=(e,t)=>{var c;const n=ft(e,"useGridPreferencesPanel"),o=d.useCallback(()=>{e.current.setState(a=>{if(!a.preferencePanel.open)return a;n.debug("Hiding Preferences Panel");const u=kn(e);return e.current.publishEvent("preferencePanelClose",{openedPanelValue:u.openedPanelValue}),m({},a,{preferencePanel:{open:!1}})})},[e,n]),r=d.useCallback((a,u,f)=>{n.debug("Opening Preferences Panel"),e.current.setState(h=>m({},h,{preferencePanel:m({},h.preferencePanel,{open:!0,openedPanelValue:a,panelId:u,labelId:f})})),e.current.publishEvent("preferencePanelOpen",{openedPanelValue:a})},[n,e]);Ee(e,{showPreferences:r,hidePreferences:o},"public");const l=d.useCallback((a,u)=>{var g;const f=kn(e);return!u.exportOnlyDirtyModels||((g=t.initialState)==null?void 0:g.preferencePanel)!=null||f.open?m({},a,{preferencePanel:f}):a},[e,(c=t.initialState)==null?void 0:c.preferencePanel]),s=d.useCallback((a,u)=>{const f=u.stateToRestore.preferencePanel;return f!=null&&e.current.setState(h=>m({},h,{preferencePanel:f})),a},[e]);Qe(e,"exportState",l),Qe(e,"restoreState",s)},ml=e=>{switch(e.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;case"string":default:return""}},RI=["id","field"],LI=["id","field"],AI=(e,t)=>{const[n,o]=d.useState({}),r=d.useRef(n),l=d.useRef({}),{processRowUpdate:s,onProcessRowUpdateError:c,cellModesModel:a,onCellModesModelChange:u}=t,f=H=>(...P)=>{t.editMode===Kt.Cell&&H(...P)},h=d.useCallback((H,P)=>{const E=e.current.getCellParams(H,P);if(!e.current.isCellEditable(E))throw new Error(`MUI X: The cell with id=${H} and field=${P} is not editable.`)},[e]),g=d.useCallback((H,P,E)=>{if(e.current.getCellMode(H,P)!==E)throw new Error(`MUI X: The cell with id=${H} and field=${P} is not in ${E} mode.`)},[e]),p=d.useCallback((H,P)=>{if(!H.isEditable||H.cellMode===Ge.Edit)return;const E=m({},H,{reason:Jt.cellDoubleClick});e.current.publishEvent("cellEditStart",E,P)},[e]),w=d.useCallback((H,P)=>{if(H.cellMode===Ge.View||e.current.getCellMode(H.id,H.field)===Ge.View)return;const E=m({},H,{reason:Ot.cellFocusOut});e.current.publishEvent("cellEditStop",E,P)},[e]),C=d.useCallback((H,P)=>{if(H.cellMode===Ge.Edit){if(P.which===229)return;let E;if(P.key==="Escape"?E=Ot.escapeKeyDown:P.key==="Enter"?E=Ot.enterKeyDown:P.key==="Tab"&&(E=P.shiftKey?Ot.shiftTabKeyDown:Ot.tabKeyDown,P.preventDefault()),E){const G=m({},H,{reason:E});e.current.publishEvent("cellEditStop",G,P)}}else if(H.isEditable){let E;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:P,cellParams:H,editMode:"cell"}))return;if(ec(P)?E=Jt.printableKeyDown:nc(P)?E=Jt.pasteKeyDown:P.key==="Enter"?E=Jt.enterKeyDown:(P.key==="Backspace"||P.key==="Delete")&&(E=Jt.deleteKeyDown),E){const _=m({},H,{reason:E,key:P.key});e.current.publishEvent("cellEditStart",_,P)}}},[e]),b=d.useCallback(H=>{const{id:P,field:E,reason:G}=H,_={id:P,field:E};(G===Jt.printableKeyDown||G===Jt.deleteKeyDown||G===Jt.pasteKeyDown)&&(_.deleteValue=!0),e.current.startCellEditMode(_)},[e]),x=d.useCallback(H=>{const{id:P,field:E,reason:G}=H;e.current.runPendingEditCellValueMutation(P,E);let _;G===Ot.enterKeyDown?_="below":G===Ot.tabKeyDown?_="right":G===Ot.shiftTabKeyDown&&(_="left");const R=G==="escapeKeyDown";e.current.stopCellEditMode({id:P,field:E,ignoreModifications:R,cellToFocusAfter:_})},[e]),F=H=>async(...P)=>{var E;if(H){const{id:G,field:_}=P[0];((E=e.current.state.editRows[G][_])==null?void 0:E.error)||H(...P)}};le(e,"cellDoubleClick",f(p)),le(e,"cellFocusOut",f(w)),le(e,"cellKeyDown",f(C)),le(e,"cellEditStart",f(b)),le(e,"cellEditStop",f(x)),We(e,"cellEditStart",t.onCellEditStart),We(e,"cellEditStop",F(t.onCellEditStop));const j=d.useCallback((H,P)=>{const E=at(e);return E[H]&&E[H][P]?Ge.Edit:Ge.View},[e]),T=Be(H=>{const P=H!==t.cellModesModel;u&&P&&u(H,{api:e.current}),!(t.cellModesModel&&P)&&(o(H),r.current=H,e.current.publishEvent("cellModesModelChange",H))}),I=d.useCallback((H,P,E)=>{const G=m({},r.current);if(E!==null)G[H]=m({},G[H],{[P]:m({},E)});else{const _=G[H],R=Q(_,[P].map(ko));G[H]=R,Object.keys(G[H]).length===0&&delete G[H]}T(G)},[T]),k=d.useCallback((H,P,E)=>{e.current.setState(G=>{const _=m({},G.editRows);return E!==null?_[H]=m({},_[H],{[P]:m({},E)}):(delete _[H][P],Object.keys(_[H]).length===0&&delete _[H]),m({},G,{editRows:_})})},[e]),L=d.useCallback(H=>{const{id:P,field:E}=H,G=Q(H,RI);h(P,E),g(P,E,Ge.View),I(P,E,m({mode:Ge.Edit},G))},[h,g,I]),v=Be(async H=>{const{id:P,field:E,deleteValue:G,initialValue:_}=H,R=e.current.getCellValue(P,E);let A=R;G?A=ml(e.current.getColumn(E)):_&&(A=_);const V=e.current.getColumn(E),U=!!V.preProcessEditCellProps&&G;let N={value:A,error:!1,isProcessingProps:U};if(k(P,E,N),e.current.setCellFocus(P,E),U&&(N=await Promise.resolve(V.preProcessEditCellProps({id:P,row:e.current.getRow(P),props:N,hasChanged:A!==R})),e.current.getCellMode(P,E)===Ge.Edit)){const J=at(e);k(P,E,m({},N,{value:J[P][E].value,isProcessingProps:!1}))}}),y=d.useCallback(H=>{const{id:P,field:E}=H,G=Q(H,LI);g(P,E,Ge.Edit),I(P,E,m({mode:Ge.View},G))},[g,I]),M=Be(async H=>{var q;const{id:P,field:E,ignoreModifications:G,cellToFocusAfter:_="none"}=H;g(P,E,Ge.Edit),e.current.runPendingEditCellValueMutation(P,E);const R=()=>{k(P,E,null),I(P,E,null),_!=="none"&&e.current.moveFocusToRelativeCell(P,E,_)};if(G){R();return}const A=at(e),{error:V,isProcessingProps:U}=A[P][E],N=e.current.getRow(P);if(V||U){l.current[P][E].mode=Ge.Edit,I(P,E,{mode:Ge.Edit});return}const J=e.current.getRowWithUpdatedValuesFromCellEditing(P,E);if((q=t.dataSource)!=null&&q.updateRow){if(Gt(N,J)){R();return}const ue=()=>{l.current[P][E].mode=Ge.Edit,I(P,E,{mode:Ge.Edit})},de={rowId:P,updatedRow:J,previousRow:N};try{await e.current.dataSource.editRow(de),R()}catch{ue()}}else if(s){const ue=de=>{l.current[P][E].mode=Ge.Edit,I(P,E,{mode:Ge.Edit}),c&&c(de)};try{Promise.resolve(s(J,N,{rowId:P})).then(de=>{e.current.updateRows([de]),R()}).catch(ue)}catch(de){ue(de)}}else e.current.updateRows([J]),R()}),O=d.useCallback(async H=>{var q,ue;const{id:P,field:E,value:G,debounceMs:_,unstable_skipValueParser:R}=H;h(P,E),g(P,E,Ge.Edit);const A=e.current.getColumn(E),V=e.current.getRow(P);let U=G;A.valueParser&&!R&&(U=A.valueParser(G,V,A,e));let N=at(e),J=m({},N[P][E],{value:U,changeReason:_?"debouncedSetEditCellValue":"setEditCellValue"});if(A.preProcessEditCellProps){const de=G!==N[P][E].value;J=m({},J,{isProcessingProps:!0}),k(P,E,J),J=await Promise.resolve(A.preProcessEditCellProps({id:P,row:V,props:J,hasChanged:de}))}return e.current.getCellMode(P,E)===Ge.View?!1:(N=at(e),J=m({},J,{isProcessingProps:!1}),J.value=A.preProcessEditCellProps?N[P][E].value:U,k(P,E,J),N=at(e),!((ue=(q=N[P])==null?void 0:q[E])!=null&&ue.error))},[e,h,g,k]),D=d.useCallback((H,P)=>{const E=e.current.getColumn(P),G=at(e),_=e.current.getRow(H);if(!G[H]||!G[H][P])return e.current.getRow(H);const{value:R}=G[H][P];return E.valueSetter?E.valueSetter(R,_,E,e):m({},_,{[P]:R})},[e]),$={getCellMode:j,startCellEditMode:L,stopCellEditMode:y},z={setCellEditingEditCellValue:O,getRowWithUpdatedValuesFromCellEditing:D};Ee(e,$,"public"),Ee(e,z,"private"),d.useEffect(()=>{a&&T(a)},[a,T]),Mt(()=>{const H=Tt(e),P=l.current;l.current=Ba(n),Object.entries(n).forEach(([E,G])=>{Object.entries(G).forEach(([_,R])=>{var U,N;const A=((N=(U=P[E])==null?void 0:U[_])==null?void 0:N.mode)||Ge.View,V=H[E]?e.current.getRowId(H[E]):E;R.mode===Ge.Edit&&A===Ge.View?v(m({id:V,field:_},R)):R.mode===Ge.View&&A===Ge.Edit&&M(m({id:V,field:_},R))})})},[e,n,v,M])},zI=["id"],GI=["id"],BI=(e,t)=>{const[n,o]=d.useState({}),r=d.useRef(n),l=d.useRef({}),s=d.useRef({}),c=d.useRef(void 0),a=d.useRef(null),{processRowUpdate:u,onProcessRowUpdateError:f,rowModesModel:h,onRowModesModelChange:g}=t,p=R=>(...A)=>{t.editMode===Kt.Row&&R(...A)},w=d.useCallback((R,A)=>{const V=e.current.getCellParams(R,A);if(!e.current.isCellEditable(V))throw new Error(`MUI X: The cell with id=${R} and field=${A} is not editable.`)},[e]),C=d.useCallback((R,A)=>{if(e.current.getRowMode(R)!==A)throw new Error(`MUI X: The row with id=${R} is not in ${A} mode.`)},[e]),b=d.useCallback(R=>{const A=at(e);return Object.values(A[R]).some(V=>V.error)},[e]),x=d.useCallback((R,A)=>{if(!R.isEditable||e.current.getRowMode(R.id)===Ke.Edit)return;const V=e.current.getRowParams(R.id),U=m({},V,{field:R.field,reason:an.cellDoubleClick});e.current.publishEvent("rowEditStart",U,A)},[e]),F=d.useCallback(R=>{a.current=R},[]),j=d.useCallback((R,A)=>{R.isEditable&&e.current.getRowMode(R.id)!==Ke.View&&(a.current=null,c.current=setTimeout(()=>{var V;if(((V=a.current)==null?void 0:V.id)!==R.id){if(!e.current.getRow(R.id)||e.current.getRowMode(R.id)===Ke.View||b(R.id))return;const U=e.current.getRowParams(R.id),N=m({},U,{field:R.field,reason:_t.rowFocusOut});e.current.publishEvent("rowEditStop",N,A)}}))},[e,b]);d.useEffect(()=>()=>{clearTimeout(c.current)},[]);const T=d.useCallback((R,A)=>{if(R.cellMode===Ke.Edit){if(A.which===229)return;let V;if(A.key==="Escape")V=_t.escapeKeyDown;else if(A.key==="Enter")V=_t.enterKeyDown;else if(A.key==="Tab"){const U=Ro(e).filter(N=>e.current.getColumn(N).type===Hr?!0:e.current.isCellEditable(e.current.getCellParams(R.id,N)));if(A.shiftKey?R.field===U[0]&&(V=_t.shiftTabKeyDown):R.field===U[U.length-1]&&(V=_t.tabKeyDown),A.preventDefault(),!V){const N=U.findIndex(q=>q===R.field),J=U[A.shiftKey?N-1:N+1];e.current.setCellFocus(R.id,J)}}if(V){if(V!==_t.escapeKeyDown&&b(R.id))return;const U=m({},e.current.getRowParams(R.id),{reason:V,field:R.field});e.current.publishEvent("rowEditStop",U,A)}}else if(R.isEditable){let V;if(!e.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:A,cellParams:R,editMode:"row"}))return;if(ec(A)||nc(A)?V=an.printableKeyDown:A.key==="Enter"?V=an.enterKeyDown:(A.key==="Backspace"||A.key==="Delete")&&(V=an.deleteKeyDown),V){const N=e.current.getRowParams(R.id),J=m({},N,{field:R.field,reason:V});e.current.publishEvent("rowEditStart",J,A)}}},[e,b]),I=d.useCallback(R=>{const{id:A,field:V,reason:U}=R,N={id:A,fieldToFocus:V};(U===an.printableKeyDown||U===an.deleteKeyDown)&&(N.deleteValue=!!V),e.current.startRowEditMode(N)},[e]),k=d.useCallback(R=>{const{id:A,reason:V,field:U}=R;e.current.runPendingEditCellValueMutation(A);let N;V===_t.enterKeyDown?N="below":V===_t.tabKeyDown?N="right":V===_t.shiftTabKeyDown&&(N="left");const J=V==="escapeKeyDown";e.current.stopRowEditMode({id:A,ignoreModifications:J,field:U,cellToFocusAfter:N})},[e]);le(e,"cellDoubleClick",p(x)),le(e,"cellFocusIn",p(F)),le(e,"cellFocusOut",p(j)),le(e,"cellKeyDown",p(T)),le(e,"rowEditStart",p(I)),le(e,"rowEditStop",p(k)),We(e,"rowEditStart",t.onRowEditStart),We(e,"rowEditStop",t.onRowEditStop);const L=d.useCallback(R=>$c(e,{rowId:R,editMode:t.editMode})?Ke.Edit:Ke.View,[e,t.editMode]),v=Be(R=>{const A=R!==t.rowModesModel;g&&A&&g(R,{api:e.current}),!(t.rowModesModel&&A)&&(o(R),r.current=R,e.current.publishEvent("rowModesModelChange",R))}),y=d.useCallback((R,A)=>{const V=m({},r.current);A!==null?V[R]=m({},A):delete V[R],v(V)},[v]),M=d.useCallback((R,A)=>{e.current.setState(V=>{const U=m({},V.editRows);return A!==null?U[R]=A:delete U[R],m({},V,{editRows:U})})},[e]),O=d.useCallback((R,A,V)=>{e.current.setState(U=>{const N=m({},U.editRows);return V!==null?N[R]=m({},N[R],{[A]:m({},V)}):(delete N[R][A],Object.keys(N[R]).length===0&&delete N[R]),m({},U,{editRows:N})})},[e]),D=d.useCallback(R=>{const{id:A}=R,V=Q(R,zI);C(A,Ke.View),y(A,m({mode:Ke.Edit},V))},[C,y]),$=Be(R=>{const{id:A,fieldToFocus:V,deleteValue:U,initialValue:N}=R,J=e.current.getRow(A),q=Dt(e),ue=q.reduce((de,se)=>{const W=se.field;if(!e.current.getCellParams(A,W).isEditable)return de;const te=e.current.getColumn(W);let he=e.current.getCellValue(A,W);return V===W&&(U||N)&&(U?he=ml(te):N&&(he=N)),de[W]={value:he,error:!1,isProcessingProps:te.editable&&!!te.preProcessEditCellProps&&U},de},{});s.current[A]=J,M(A,ue),V&&e.current.setCellFocus(A,V),q.filter(de=>e.current.getCellParams(A,de.field).isEditable&&de.editable&&!!de.preProcessEditCellProps&&U).forEach(de=>{const se=de.field,W=e.current.getCellValue(A,se),X=U?ml(de):N??W;Promise.resolve(de.preProcessEditCellProps({id:A,row:J,props:ue[se],hasChanged:X!==W})).then(te=>{if(e.current.getRowMode(A)===Ke.Edit){const he=at(e);O(A,se,m({},te,{value:he[A][se].value,isProcessingProps:!1}))}})})}),z=d.useCallback(R=>{const{id:A}=R,V=Q(R,GI);C(A,Ke.Edit),y(A,m({mode:Ke.View},V))},[C,y]),H=Be(async R=>{var W;const{id:A,ignoreModifications:V,field:U,cellToFocusAfter:N="none"}=R;e.current.runPendingEditCellValueMutation(A);const J=()=>{N!=="none"&&U&&e.current.moveFocusToRelativeCell(A,U,N),M(A,null),y(A,null),delete s.current[A]};if(V){J();return}const q=at(e),ue=s.current[A];if(Object.values(q[A]).some(X=>X.isProcessingProps)){l.current[A].mode=Ke.Edit;return}if(b(A)){l.current[A].mode=Ke.Edit,y(A,{mode:Ke.Edit});return}const se=e.current.getRowWithUpdatedValuesFromRowEditing(A);if((W=t.dataSource)!=null&&W.updateRow){if(Gt(ue,se)){J();return}const X=()=>{l.current[A].mode=Ke.Edit,y(A,{mode:Ke.Edit})},te={rowId:A,updatedRow:se,previousRow:ue};try{await e.current.dataSource.editRow(te),J()}catch{X()}}else if(u){const X=te=>{l.current[A]&&(l.current[A].mode=Ke.Edit,y(A,{mode:Ke.Edit})),f&&f(te)};try{Promise.resolve(u(se,ue,{rowId:A})).then(te=>{e.current.updateRows([te]),J()}).catch(X)}catch(te){X(te)}}else e.current.updateRows([se]),J()}),P=d.useCallback(R=>{const{id:A,field:V,value:U,debounceMs:N,unstable_skipValueParser:J}=R;w(A,V);const q=e.current.getColumn(V),ue=e.current.getRow(A);let de=U;q.valueParser&&!J&&(de=q.valueParser(U,ue,q,e));let se=at(e),W=m({},se[A][V],{value:de,changeReason:N?"debouncedSetEditCellValue":"setEditCellValue"});return q.preProcessEditCellProps||O(A,V,W),new Promise(X=>{const te=[];if(q.preProcessEditCellProps){const he=W.value!==se[A][V].value;W=m({},W,{isProcessingProps:!0}),O(A,V,W);const fe=se[A],ge=Q(fe,[V].map(ko)),we=Promise.resolve(q.preProcessEditCellProps({id:A,row:ue,props:W,hasChanged:he,otherFieldsProps:ge})).then(pe=>{if(e.current.getRowMode(A)===Ke.View){X(!1);return}se=at(e),pe=m({},pe,{isProcessingProps:!1}),pe.value=q.preProcessEditCellProps?se[A][V].value:de,O(A,V,pe)});te.push(we)}Object.entries(se[A]).forEach(([he,fe])=>{if(he===V)return;const ge=e.current.getColumn(he);if(!ge.preProcessEditCellProps)return;fe=m({},fe,{isProcessingProps:!0}),O(A,he,fe),se=at(e);const we=se[A],pe=Q(we,[he].map(ko)),ve=Promise.resolve(ge.preProcessEditCellProps({id:A,row:ue,props:fe,hasChanged:!1,otherFieldsProps:pe})).then(He=>{if(e.current.getRowMode(A)===Ke.View){X(!1);return}He=m({},He,{isProcessingProps:!1}),O(A,he,He)});te.push(ve)}),Promise.all(te).then(()=>{e.current.getRowMode(A)===Ke.Edit?(se=at(e),X(!se[A][V].error)):X(!1)})})},[e,w,O]),E=d.useCallback(R=>{const A=at(e),V=e.current.getRow(R);if(!A[R])return e.current.getRow(R);let U=m({},s.current[R],V);return Object.entries(A[R]).forEach(([N,J])=>{const q=e.current.getColumn(N);q!=null&&q.valueSetter?U=q.valueSetter(J.value,U,q,e):U[N]=J.value}),U},[e]),G={getRowMode:L,startRowEditMode:D,stopRowEditMode:z},_={setRowEditingEditCellValue:P,getRowWithUpdatedValuesFromRowEditing:E};Ee(e,G,"public"),Ee(e,_,"private"),d.useEffect(()=>{h&&v(h)},[h,v]),Mt(()=>{const R=Tt(e),A=l.current;l.current=Ba(n);const V=new Set([...Object.keys(n),...Object.keys(A)]);Array.from(V).forEach(U=>{var ue;const N=n[U]??{mode:Ke.View},J=((ue=A[U])==null?void 0:ue.mode)||Ke.View,q=R[U]?e.current.getRowId(R[U]):U;N.mode===Ke.Edit&&J===Ke.View?$(m({id:q},N)):N.mode===Ke.View&&J===Ke.Edit&&H(m({id:q},N))})},[e,n,$,H])},VI=e=>m({},e,{editRows:{}}),_I=(e,t)=>{AI(e,t),BI(e,t);const n=d.useRef({}),{isCellEditable:o}=t,r=d.useCallback(g=>Zn(g.rowNode)||!g.colDef.editable||!g.colDef.renderEditCell?!1:o?o(g):!0,[o]),l=(g,p,w,C)=>{if(!w){C();return}if(n.current[g]||(n.current[g]={}),n.current[g][p]){const[F]=n.current[g][p];clearTimeout(F)}const b=()=>{const[F]=n.current[g][p];clearTimeout(F),C(),delete n.current[g][p]},x=setTimeout(()=>{C(),delete n.current[g][p]},w);n.current[g][p]=[x,b]};d.useEffect(()=>{const g=n.current;return()=>{Object.entries(g).forEach(([p,w])=>{Object.keys(w).forEach(C=>{const[b]=g[p][C];clearTimeout(b),delete g[p][C]})})}},[]);const s=d.useCallback((g,p)=>{if(n.current[g]){if(!p)Object.keys(n.current[g]).forEach(w=>{const[,C]=n.current[g][w];C()});else if(n.current[g][p]){const[,w]=n.current[g][p];w()}}},[]),c=d.useCallback(g=>{const{id:p,field:w,debounceMs:C}=g;return new Promise(b=>{l(p,w,C,async()=>{const x=t.editMode===Kt.Row?e.current.setRowEditingEditCellValue:e.current.setCellEditingEditCellValue;if(e.current.getCellMode(p,w)===Ge.Edit){const F=await x(g);b(F)}})})},[e,t.editMode]),a=d.useCallback((g,p)=>t.editMode===Kt.Cell?e.current.getRowWithUpdatedValuesFromCellEditing(g,p):e.current.getRowWithUpdatedValuesFromRowEditing(g),[e,t.editMode]),u=d.useCallback((g,p)=>{var C;return((C=at(e)[g])==null?void 0:C[p])??null},[e]),f={isCellEditable:r,setEditCellValue:c,getRowWithUpdatedValues:a,unstable_getEditCellMeta:u},h={runPendingEditCellValueMutation:s};Ee(e,f,"public"),Ee(e,h,"private")},NI=(e,t,n)=>{const o=!!t.dataSource;return n.current.caches.rows=Zo({rows:o?[]:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),m({},e,{rows:Ea({apiRef:n,rowCountProp:t.rowCount,loadingProp:o?!0:t.loading,previousTree:null,previousTreeDepths:null})})},WI=(e,t,n)=>{const o=ft(e,"useGridRows"),r=d.useRef(Date.now()),l=d.useRef(t.rowCount),s=io(),{setRowIndex:c}=n.hooks.useGridRowsOverridableMethods(e,t),a=d.useCallback(P=>{const E=Tt(e)[P];if(E)return E;const G=Wt(e,P);return G&&Zn(G)?{[In]:P}:null},[e]),u=d.useCallback(P=>eo(e,P),[e]),f=d.useCallback(({cache:P,throttle:E})=>{const G=()=>{r.current=Date.now(),e.current.setState(R=>m({},R,{rows:Ea({apiRef:e,rowCountProp:t.rowCount,loadingProp:t.loading,previousTree:dt(e),previousTreeDepths:Ws(e),previousGroupsToFetch:dm(e)})})),e.current.publishEvent("rowsSet")};if(s.clear(),e.current.caches.rows=P,!E){G();return}const _=t.throttleRowsMs-(Date.now()-r.current);if(_>0){s.start(_,G);return}G()},[t.throttleRowsMs,t.rowCount,t.loading,e,s]),h=d.useCallback(P=>{if(o.debug(`Updating all rows, new length ${P.length}`),Pn(e)){e.current.updateNonPivotRows(P,!1);return}const E=Zo({rows:P,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),G=e.current.caches.rows;E.rowsBeforePartialUpdates=G.rowsBeforePartialUpdates,f({cache:E,throttle:!0})},[o,t.getRowId,t.loading,t.rowCount,f,e]),g=d.useCallback(P=>{if(t.signature===Lt.DataGrid&&P.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(Pn(e)){e.current.updateNonPivotRows(P);return}const E=Ks(e,P,t.getRowId),G=Us({updates:E,getRowId:t.getRowId,previousCache:e.current.caches.rows});f({cache:G,throttle:!0})},[t.signature,t.getRowId,f,e]),p=d.useCallback((P,E)=>{const G=Ks(e,P,t.getRowId),_=Us({updates:G,getRowId:t.getRowId,previousCache:e.current.caches.rows,groupKeys:E??[]});f({cache:_,throttle:!1})},[t.getRowId,f,e]),w=d.useCallback(P=>{o.debug(`Setting loading to ${P}`),e.current.setState(E=>m({},E,{rows:m({},E.rows,{loading:P})})),e.current.caches.rows.loadingPropBeforePartialUpdates=P},[e,o]),C=d.useCallback(()=>{const P=xn(e),E=Tt(e);return new Map(P.map(G=>[G,E[G]??{}]))},[e]),b=d.useCallback(()=>so(e),[e]),x=d.useCallback(()=>xn(e),[e]),F=d.useCallback(P=>{const{rowIdToIndexMap:E}=qn(e);return E.get(P)},[e]),j=d.useCallback((P,E)=>{const G=Wt(e,P);if(!G)throw new Error(`MUI X: No row with id #${P} found.`);if(G.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const _=m({},G,{childrenExpanded:E});e.current.setState(R=>m({},R,{rows:m({},R.rows,{tree:m({},R.rows.tree,{[P]:_})})})),e.current.publishEvent("rowExpansionChange",_)},[e]),T=d.useCallback(P=>Wt(e,P)??null,[e]),I=d.useCallback(({skipAutoGeneratedRows:P=!0,groupId:E,applySorting:G,applyFiltering:_,directChildrenOnly:R=!1})=>{const A=dt(e);let V;if(G){const U=A[E];if(!U)return[];const N=Lo(e);V=[];const J=N.findIndex(q=>q===E)+1;for(let q=J;q<N.length&&(R?A[N[q]].depth===U.depth+1:A[N[q]].depth>U.depth);q+=1){const ue=N[q];(!P||!Zn(A[ue]))&&V.push(ue)}}else V=$l(A,E,P,R);if(_){const U=ao(e);V=$r(U)?V:V.filter(N=>U[N]!==!1)}return V},[e]),k=d.useCallback((P,E)=>{if(t.signature===Lt.DataGrid&&E.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(E.length===0)return;if(Ho(e)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const _=m({},dt(e)),R=m({},Tt(e)),A=_[ct],V=[...A.children],U=new Set;for(let J=0;J<E.length;J+=1){const q=E[J],ue=Tr(q,t.getRowId,"A row was provided without id when calling replaceRows()."),[de]=V.splice(P+J,1,ue);U.has(de)||(delete R[de],delete _[de]);const se={id:ue,depth:0,parent:ct,type:"leaf",groupingKey:null};R[ue]=q,_[ue]=se,U.add(ue)}_[ct]=m({},A,{children:V});const N=V.filter(J=>{var q;return((q=_[J])==null?void 0:q.type)==="leaf"});e.current.caches.rows.dataRowIdToModelLookup=R,e.current.setState(J=>m({},J,{rows:m({},J.rows,{loading:t.loading,totalRowCount:Math.max(t.rowCount||0,V.length),dataRowIdToModelLookup:R,dataRowIds:N,tree:_})})),e.current.publishEvent("rowsSet")},[e,t.signature,t.getRowId,t.loading,t.rowCount]),L={getRow:a,setLoading:w,getRowId:u,getRowModels:C,getRowsCount:b,getAllRowIds:x,setRows:h,updateRows:g,getRowNode:T,getRowIndexRelativeToVisibleRows:F,unstable_replaceRows:k},v={setRowIndex:c,setRowChildrenExpansion:j,getRowGroupChildren:I},y={updateNestedRows:p},M=d.useCallback(()=>{o.info("Row grouping pre-processing have changed, regenerating the row tree");let P;e.current.caches.rows.rowsBeforePartialUpdates===t.rows?P=m({},e.current.caches.rows,{updates:{type:"full",rows:xn(e)}}):P=Zo({rows:t.rows,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),f({cache:P,throttle:!1})},[o,e,t.rows,t.getRowId,t.loading,t.rowCount,f]),O=tn(()=>t.dataSource),D=d.useCallback(P=>{if(t.dataSource&&t.dataSource!==O.current){O.current=t.dataSource;return}P==="rowTreeCreation"&&M()},[M,O,t.dataSource]),$=d.useCallback(()=>{e.current.getActiveStrategy(gn.RowTree)!==fm(e)&&M()},[e,M]);le(e,"activeStrategyProcessorChange",D),le(e,"strategyAvailabilityChange",$);const z=d.useCallback(()=>{e.current.setState(P=>{const E=e.current.unstable_applyPipeProcessors("hydrateRows",{tree:dt(e),treeDepths:Ws(e),dataRowIds:xn(e),dataRowIdToModelLookup:Tt(e)});return m({},P,{rows:m({},P.rows,E,{totalTopLevelRowCount:ka({tree:E.tree,rowCountProp:t.rowCount})})})}),e.current.publishEvent("rowsSet")},[e,t.rowCount]);ls(e,"hydrateRows",z),Ee(e,L,"public"),Ee(e,v,t.signature===Lt.DataGrid?"private":"public"),Ee(e,y,"private");const H=d.useRef(!0);d.useEffect(()=>{if(H.current){H.current=!1;return}let P=!1;t.rowCount!==l.current&&(P=!0,l.current=t.rowCount);const E=t.dataSource?hm(e):t.rows,G=e.current.caches.rows.rowsBeforePartialUpdates===E,_=e.current.caches.rows.loadingPropBeforePartialUpdates===t.loading,R=e.current.caches.rows.rowCountPropBeforePartialUpdates===t.rowCount;G&&(_||(e.current.setState(A=>m({},A,{rows:m({},A.rows,{loading:t.loading})})),e.current.caches.rows.loadingPropBeforePartialUpdates=t.loading),R||(e.current.setState(A=>m({},A,{rows:m({},A.rows,{totalRowCount:Math.max(t.rowCount||0,A.rows.totalRowCount),totalTopLevelRowCount:Math.max(t.rowCount||0,A.rows.totalTopLevelRowCount)})})),e.current.caches.rows.rowCountPropBeforePartialUpdates=t.rowCount),!P)||(o.debug(`Updating all rows, new length ${E==null?void 0:E.length}`),f({cache:Zo({rows:E,getRowId:t.getRowId,loading:t.loading,rowCount:t.rowCount}),throttle:!1}))},[t.rows,t.rowCount,t.getRowId,t.loading,t.dataSource,o,f,e])},UI=e=>{const t={[ct]:m({},mm(),{children:e})};for(let n=0;n<e.length;n+=1){const o=e[n];t[o]={id:o,depth:0,parent:ct,type:"leaf",groupingKey:null}}return{groupingName:Tn,tree:t,treeDepths:{0:e.length},dataRowIds:e}},KI=({previousTree:e,actions:t})=>{const n=m({},e),o={};for(let s=0;s<t.remove.length;s+=1){const c=t.remove[s];o[c]=!0,delete n[c]}for(let s=0;s<t.insert.length;s+=1){const c=t.insert[s];n[c]={id:c,depth:0,parent:ct,type:"leaf",groupingKey:null}}const r=n[ct];let l=[...r.children,...t.insert];return Object.values(o).length&&(l=l.filter(s=>!o[s])),n[ct]=m({},r,{children:l}),{groupingName:Tn,tree:n,treeDepths:{0:l.length},dataRowIds:l}},qI=e=>e.updates.type==="full"?UI(e.updates.rows):KI({previousTree:e.previousTree,actions:e.updates.actions}),XI=e=>{jo(e,Tn,"rowTreeCreation",qI)};class ll extends Error{}function YI(e,t){var w;const n=d.useCallback(C=>({field:C,colDef:e.current.getColumn(C)}),[e]),o=d.useCallback(C=>{const b=e.current.getRow(C);if(!b)throw new ll(`No row with id #${C} found`);return{id:C,columns:e.current.getAllColumns(),row:b}},[e]),r=d.useCallback((C,b,x,{cellMode:F,colDef:j,hasFocus:T,rowNode:I,tabIndex:k,value:L,formattedValue:v})=>{let y=x[b];L!==void 0?y=L:j!=null&&j.valueGetter&&(y=j.valueGetter(y,x,j,e));let M=y;v!==void 0?M=v:j!=null&&j.valueFormatter&&(M=j.valueFormatter(y,x,j,e));const O={id:C,field:b,row:x,rowNode:I,colDef:j,cellMode:F,hasFocus:T,tabIndex:k,value:y,formattedValue:M,isEditable:!1,api:e.current};return O.isEditable=j&&e.current.isCellEditable(O),O},[e]),l=d.useCallback((C,b)=>{var k;const x=e.current.getRow(C),F=Wt(e,C);if(!x||!F)throw new ll(`No row with id #${C} found`);const j=Ct(e),T=Kl(e),I=e.current.getCellMode(C,b);return e.current.getCellParamsForRow(C,b,x,{colDef:t.listView&&((k=t.listViewColumn)==null?void 0:k.field)===b?qa(e):e.current.getColumn(b),rowNode:F,hasFocus:j!==null&&j.field===b&&j.id===C,tabIndex:T&&T.field===b&&T.id===C?0:-1,cellMode:I})},[e,t.listView,(w=t.listViewColumn)==null?void 0:w.field]),s=d.useCallback((C,b)=>{const x=e.current.getColumn(b),F=e.current.getRow(C);if(!F)throw new ll(`No row with id #${C} found`);return!x||!x.valueGetter?F[b]:x.valueGetter(F[x.field],F,x,e)},[e]),c=d.useCallback((C,b)=>bm(C,b,e),[e]),a=d.useCallback((C,b)=>{const x=c(C,b);return!b||!b.valueFormatter?x:b.valueFormatter(x,C,b,e)},[e,c]),u=d.useCallback(C=>e.current.rootElementRef.current?Dx(e.current.rootElementRef.current,C):null,[e]),f=d.useCallback(C=>e.current.rootElementRef.current?jx(e.current.rootElementRef.current,C):null,[e]),h=d.useCallback((C,b)=>e.current.rootElementRef.current?Hx(e.current.rootElementRef.current,{id:C,field:b}):null,[e]),g={getCellValue:s,getCellParams:l,getCellElement:h,getRowValue:c,getRowFormattedValue:a,getRowParams:o,getRowElement:f,getColumnHeaderParams:n,getColumnHeaderElement:u},p={getCellParamsForRow:r};Ee(e,g,"public"),Ee(e,p,"private")}const Mo={type:"include",ids:new Set},QI=(e,t)=>m({},e,{rowSelection:t.rowSelection?t.rowSelectionModel??Mo:Mo}),JI=(e,t)=>{var R,A,V,U,N,J,q,ue,de,se;const n=ft(e,"useGridSelection"),o=d.useCallback(W=>(...X)=>{t.rowSelection&&W(...X)},[t.rowSelection]),r=K(e,Ho)>1,l=t.signature!==Lt.DataGrid&&(((R=t.rowSelectionPropagation)==null?void 0:R.parents)||((A=t.rowSelectionPropagation)==null?void 0:A.descendants))&&r,s=d.useMemo(()=>t.rowSelectionModel,[t.rowSelectionModel]),c=d.useRef(null);e.current.registerControlState({stateId:"rowSelection",propModel:s,propOnChange:t.onRowSelectionModelChange,stateSelector:Rt,changeEvent:"rowSelectionChange"});const{checkboxSelection:a,disableRowSelectionOnClick:u,isRowSelectable:f}=t,h=Ul(t),g=K(e,dt),p=d.useCallback(W=>{let X=W;const te=c.current??W,he=e.current.isRowSelected(W);if(he){const fe=vn(e),ge=fe.findIndex(pe=>pe===te),we=fe.findIndex(pe=>pe===X);if(ge===we)return;ge>we?X=fe[we+1]:X=fe[we-1]}c.current=W,e.current.selectRowRange({startId:te,endId:X},!he)},[e]),w=Be(()=>t.pagination&&t.checkboxSelectionVisibleOnly&&t.paginationMode==="client"?Sc(e):vn(e)),C=d.useCallback((W,X)=>{if(t.signature===Lt.DataGrid&&!h&&(W.type!=="include"||W.ids.size>1))throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));Rt(e)!==W&&(n.debug("Setting selection model"),e.current.setState(he=>m({},he,{rowSelection:t.rowSelection?W:Mo}),X))},[e,n,t.rowSelection,t.signature,h]),b=d.useCallback(W=>Ao(e).has(W),[e]),x=d.useCallback(W=>{if(t.rowSelection===!1||f&&!f(e.current.getRowParams(W)))return!1;const X=Wt(e,W);return!((X==null?void 0:X.type)==="footer"||(X==null?void 0:X.type)==="pinnedRow")},[e,t.rowSelection,f]),F=d.useCallback(()=>fc(e),[e]),j=d.useCallback((W,X=!0,te=!1)=>{var he,fe,ge,we,pe,ve;if(e.current.isRowSelectable(W))if(c.current=W,te){n.debug(`Setting selection for row ${W}`);const He={type:"include",ids:new Set},Re=Ue=>{He.ids.add(Ue)};X&&(Re(W),l&&mo(e,g,W,((he=t.rowSelectionPropagation)==null?void 0:he.descendants)??!1,((fe=t.rowSelectionPropagation)==null?void 0:fe.parents)??!1,Re)),e.current.setRowSelectionModel(He,"singleRowSelection")}else{n.debug(`Toggling selection for row ${W}`);const He=Rt(e),Re={type:He.type,ids:new Set(He.ids)},Ue=hn(Re);Ue.unselect(W);const Y=ye=>{Ue.select(ye)},ae=ye=>{Ue.unselect(ye)};X?(Y(W),l&&mo(e,g,W,((ge=t.rowSelectionPropagation)==null?void 0:ge.descendants)??!1,((we=t.rowSelectionPropagation)==null?void 0:we.parents)??!1,Y)):l&&si(e,g,W,((pe=t.rowSelectionPropagation)==null?void 0:pe.descendants)??!1,((ve=t.rowSelectionPropagation)==null?void 0:ve.parents)??!1,ae),(Re.type==="include"&&Re.ids.size<2||h)&&e.current.setRowSelectionModel(Re,"singleRowSelection")}},[e,n,l,g,(V=t.rowSelectionPropagation)==null?void 0:V.descendants,(U=t.rowSelectionPropagation)==null?void 0:U.parents,h]),T=d.useCallback((W,X=!0,te=!1)=>{var pe,ve,He,Re,Ue,Y;if(n.debug("Setting selection for several rows"),t.rowSelection===!1)return;const he=new Set;for(let ae=0;ae<W.length;ae+=1){const xe=W[ae];e.current.isRowSelectable(xe)&&he.add(xe)}const fe=Rt(e);let ge;if(te){if(ge={type:"include",ids:he},X){const ae=hn(ge);if(l){const xe=ye=>{ae.select(ye)};for(const ye of he)mo(e,g,ye,((pe=t.rowSelectionPropagation)==null?void 0:pe.descendants)??!1,((ve=t.rowSelectionPropagation)==null?void 0:ve.parents)??!1,xe)}}else ge.ids=new Set;if(fe.type===ge.type&&ge.ids.size===fe.ids.size&&Array.from(ge.ids).every(ae=>fe.ids.has(ae)))return}else{ge={type:fe.type,ids:new Set(fe.ids)};const ae=hn(ge),xe=Ie=>{ae.select(Ie)},ye=Ie=>{ae.unselect(Ie)};for(const Ie of he)X?(ae.select(Ie),l&&mo(e,g,Ie,((He=t.rowSelectionPropagation)==null?void 0:He.descendants)??!1,((Re=t.rowSelectionPropagation)==null?void 0:Re.parents)??!1,xe)):(ye(Ie),l&&si(e,g,Ie,((Ue=t.rowSelectionPropagation)==null?void 0:Ue.descendants)??!1,((Y=t.rowSelectionPropagation)==null?void 0:Y.parents)??!1,ye))}(ge.type==="include"&&ge.ids.size<2||h)&&e.current.setRowSelectionModel(ge,"multipleRowsSelection")},[n,l,h,e,g,(N=t.rowSelectionPropagation)==null?void 0:N.descendants,(J=t.rowSelectionPropagation)==null?void 0:J.parents,t.rowSelection]),I=d.useCallback(W=>{var fe,ge;if(!r||!l||W.ids.size===0&&W.type==="include")return W;const X={type:W.type,ids:new Set(W.ids)},te=hn(X),he=we=>{te.select(we)};for(const we of W.ids)mo(e,g,we,((fe=t.rowSelectionPropagation)==null?void 0:fe.descendants)??!1,((ge=t.rowSelectionPropagation)==null?void 0:ge.parents)??!1,he,te);return X},[e,g,(q=t.rowSelectionPropagation)==null?void 0:q.descendants,(ue=t.rowSelectionPropagation)==null?void 0:ue.parents,r,l]),k=d.useCallback(({startId:W,endId:X},te=!0,he=!1)=>{if(!e.current.getRow(W)||!e.current.getRow(X))return;n.debug(`Expanding selection from row ${W} to row ${X}`);const fe=vn(e),ge=fe.indexOf(W),we=fe.indexOf(X),[pe,ve]=ge>we?[we,ge]:[ge,we],He=fe.slice(pe,ve+1);e.current.selectRows(He,te,he)},[e,n]),L={selectRow:j,setRowSelectionModel:C,getSelectedRows:F,isRowSelected:b,isRowSelectable:x},v={selectRows:T,selectRowRange:k,getPropagatedRowSelectionModel:I};Ee(e,L,"public"),Ee(e,v,t.signature===Lt.DataGrid?"private":"public");const y=d.useRef(!0),M=d.useCallback((W=!1)=>{var Re,Ue;if(y.current)return;const X=Rt(e),te=Tt(e),he=dt(e),fe=ao(e),ge=Y=>t.filterMode==="server"?!te[Y]:!he[Y]||fe[Y]===!1,we={type:X.type,ids:new Set(X.ids)},pe=hn(we);let ve=!1;for(const Y of X.ids){if(ge(Y)){if(t.keepNonExistentRowsSelected)continue;pe.unselect(Y),ve=!0;continue}if(!((Re=t.rowSelectionPropagation)!=null&&Re.parents))continue;const ae=g[Y];if((ae==null?void 0:ae.type)==="group"){if(ae.isAutoGenerated){pe.unselect(Y),ve=!0;continue}ae.children.every(ye=>fe[ye]===!1)||(pe.unselect(Y),ve=!0)}}const He=r&&((Ue=t.rowSelectionPropagation)==null?void 0:Ue.parents)&&(we.ids.size>0||we.type==="exclude");if(ve||He&&!W)if(He)if(we.type==="exclude"){const Y=w(),ae=[];for(let xe=0;xe<Y.length;xe+=1){const ye=Y[xe];(t.keepNonExistentRowsSelected||!ge(ye))&&pe.has(ye)&&ae.push(ye)}e.current.selectRows(ae,!0,!0)}else e.current.selectRows(Array.from(we.ids),!0,!0);else e.current.setRowSelectionModel(we,"multipleRowsSelection")},[e,r,(de=t.rowSelectionPropagation)==null?void 0:de.parents,t.keepNonExistentRowsSelected,t.filterMode,g,w]),O=d.useCallback((W,X)=>{const te=X.metaKey||X.ctrlKey,he=!a&&!te&&!hp(X),fe=!h||he,ge=e.current.isRowSelected(W),ve=Rr(e)>1&&fe||!ge;e.current.selectRow(W,ve,fe)},[e,h,a]),D=d.useCallback((W,X)=>{var fe;if(u)return;const te=(fe=X.target.closest(`.${S.cell}`))==null?void 0:fe.getAttribute("data-field");if(te===uo.field||te===Gl)return;if(te){const ge=e.current.getColumn(te);if((ge==null?void 0:ge.type)===Hr)return}Wt(e,W.id).type!=="pinnedRow"&&(X.shiftKey&&h?p(W.id):O(W.id,X))},[u,h,e,p,O]),$=d.useCallback((W,X)=>{var te;h&&X.shiftKey&&((te=window.getSelection())==null||te.removeAllRanges())},[h]),z=d.useCallback((W,X)=>{h&&X.nativeEvent.shiftKey?p(W.id):e.current.selectRow(W.id,W.value,!h)},[e,p,h]),H=d.useCallback(W=>{var fe;const X=it(e),te=ac(e),he=X.items.length>0||(te==null?void 0:te.some(ge=>ge.length));!t.isRowSelectable&&!t.checkboxSelectionVisibleOnly&&(!r||(fe=t.rowSelectionPropagation)!=null&&fe.descendants)&&!he&&!t.disableRowSelectionExcludeModel?e.current.setRowSelectionModel({type:W?"exclude":"include",ids:new Set},"multipleRowsSelection"):e.current.selectRows(w(),W)},[e,w,t.checkboxSelectionVisibleOnly,t.isRowSelectable,(se=t.rowSelectionPropagation)==null?void 0:se.descendants,t.disableRowSelectionExcludeModel,r]),P=d.useCallback(W=>{H(W.value)},[H]),E=d.useCallback((W,X)=>{if(e.current.getCellMode(W.id,W.field)!==Ge.Edit&&!No(X)){if(hr(X.key)&&X.shiftKey){const te=Ct(e);if(te&&te.id!==W.id){X.preventDefault();const he=e.current.isRowSelected(te.id);if(!h){e.current.selectRow(te.id,!he,!0);return}const fe=e.current.getRowIndexRelativeToVisibleRows(te.id),ge=e.current.getRowIndexRelativeToVisibleRows(W.id);let we,pe;fe>ge?he?(we=ge,pe=fe-1):(we=ge,pe=fe):he?(we=fe+1,pe=ge):(we=fe,pe=ge);const ve=qn(e),He=[];for(let Re=we;Re<=pe;Re+=1)He.push(ve.rows[Re].id);e.current.selectRows(He,!he);return}}if(X.key===" "&&X.shiftKey){X.preventDefault(),O(W.id,X);return}String.fromCharCode(X.keyCode)==="A"&&(X.ctrlKey||X.metaKey)&&(X.preventDefault(),H(!0))}},[e,h,O,H]),G=Be(()=>{if(!t.rowSelection){e.current.setRowSelectionModel(Mo);return}if(s===void 0)return;if(!l||!r||s.type==="include"&&s.ids.size===0){e.current.setRowSelectionModel(s);return}const W=e.current.getPropagatedRowSelectionModel(s);if(W.type!==s.type||W.ids.size!==s.ids.size||!Array.from(s.ids).every(X=>W.ids.has(X))){e.current.setRowSelectionModel(W);return}e.current.setRowSelectionModel(s)});le(e,"sortedRowsSet",o(()=>M(!0))),le(e,"filteredRowsSet",o(()=>M())),le(e,"rowClick",o(D)),le(e,"rowSelectionCheckboxChange",o(z)),le(e,"headerSelectionCheckboxChange",P),le(e,"cellMouseDown",o($)),le(e,"cellKeyDown",o(E)),d.useEffect(()=>{G()},[e,s,t.rowSelection,G]);const _=s!=null;d.useEffect(()=>{if(_||!t.rowSelection||typeof x!="function")return;const W=Rt(e);if(W.type!=="include")return;const X=new Set;for(const te of W.ids)x(te)&&X.add(te);X.size<W.ids.size&&e.current.setRowSelectionModel({type:W.type,ids:X})},[e,x,_,t.rowSelection]),d.useEffect(()=>{if(!t.rowSelection||_)return;const W=Rt(e);!h&&(W.type==="include"&&W.ids.size>1||W.type==="exclude")&&e.current.setRowSelectionModel(Mo)},[e,h,a,_,t.rowSelection]),d.useEffect(()=>{o(M)},[M,o]),d.useEffect(()=>{y.current&&(y.current=!1)},[])},ZI=e=>{const{classes:t}=e;return d.useMemo(()=>Fe({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},De,t),[t])},eM=(e,t)=>{const n={classes:t.classes},o=ZI(n),r=d.useCallback(l=>{const s=m({},uo,{cellClassName:o.cellCheckbox,headerClassName:o.columnHeaderCheckbox,headerName:e.current.getLocaleText("checkboxSelectionHeaderName")}),c=t.checkboxSelection,a=l.lookup[$t]!=null;return c&&!a?(l.lookup[$t]=s,l.orderedFields=[$t,...l.orderedFields]):!c&&a?(delete l.lookup[$t],l.orderedFields=l.orderedFields.filter(u=>u!==$t)):c&&a&&(l.lookup[$t]=m({},s,l.lookup[$t]),t.columns.some(u=>u.field===$t)||(l.orderedFields=[$t,...l.orderedFields.filter(u=>u!==$t)])),l},[e,o,t.columns,t.checkboxSelection]);Qe(e,"hydrateColumns",r)},tM=(e,t)=>{var o,r;const n=t.sortModel??((r=(o=t.initialState)==null?void 0:o.sorting)==null?void 0:r.sortModel)??[];return m({},e,{sorting:{sortModel:Aa(n,t.disableMultipleColumnsSorting),sortedRows:[]}})},nM=(e,t,n)=>{var k,L;const o=ft(e,"useGridSorting");e.current.registerControlState({stateId:"sortModel",propModel:t.sortModel,propOnChange:t.onSortModelChange,stateSelector:kt,changeEvent:"sortModelChange"});const r=d.useCallback((v,y)=>{const M=kt(e),O=M.findIndex($=>$.field===v);let D=[...M];return O>-1?(y==null?void 0:y.sort)==null?D.splice(O,1):D.splice(O,1,y):D=[...M,y],D},[e]),l=d.useCallback((v,y)=>{const O=kt(e).find(D=>D.field===v.field);if(O){const D=y===void 0?Zs(v.sortingOrder??t.sortingOrder,O.sort):y;return D===void 0?void 0:m({},O,{sort:D})}return{field:v.field,sort:y===void 0?Zs(v.sortingOrder??t.sortingOrder):y}},[e,t.sortingOrder]),s=d.useCallback((v,y)=>y==null||y.sortable===!1||t.disableColumnSorting?v:(y.sortingOrder||t.sortingOrder).some(O=>!!O)?[...v,"columnMenuSortItem"]:v,[t.sortingOrder,t.disableColumnSorting]),c=d.useCallback(()=>{const v=n.hooks.useSortValueGetter(e);e.current.setState(y=>{if(t.sortingMode==="server")return o.debug("Skipping sorting rows as sortingMode = server"),m({},y,{sorting:m({},y.sorting,{sortedRows:$l(dt(e),ct,!1)})});const M=kt(e),O=Wm(M,v,e),D=e.current.applyStrategyProcessor("sorting",{sortRowList:O});return m({},y,{sorting:m({},y.sorting,{sortedRows:D})})}),e.current.publishEvent("sortedRowsSet")},[e,o,n,t.sortingMode]),a=d.useCallback(v=>{kt(e)!==v&&(o.debug("Setting sort model"),e.current.setState(Js(v,t.disableMultipleColumnsSorting)),e.current.applySorting())},[e,o,t.disableMultipleColumnsSorting]),u=d.useCallback((v,y,M)=>{const O=e.current.getColumn(v),D=l(O,y);let $;!M||t.disableMultipleColumnsSorting?$=(D==null?void 0:D.sort)==null?[]:[D]:$=r(O.field,D),e.current.setSortModel($)},[e,r,l,t.disableMultipleColumnsSorting]),f=d.useCallback(()=>kt(e),[e]),h=d.useCallback(()=>Bl(e).map(y=>y.model),[e]),g=d.useCallback(()=>Lo(e),[e]),p=d.useCallback(v=>e.current.getSortedRowIds()[v],[e]);Ee(e,{getSortModel:f,getSortedRows:h,getSortedRowIds:g,getRowIdFromRowIndex:p,setSortModel:a,sortColumn:u,applySorting:c},"public");const C=d.useCallback((v,y)=>{var D,$;const M=kt(e);return!y.exportOnlyDirtyModels||t.sortModel!=null||(($=(D=t.initialState)==null?void 0:D.sorting)==null?void 0:$.sortModel)!=null||M.length>0?m({},v,{sorting:{sortModel:M}}):v},[e,t.sortModel,(L=(k=t.initialState)==null?void 0:k.sorting)==null?void 0:L.sortModel]),b=d.useCallback((v,y)=>{var O;const M=(O=y.stateToRestore.sorting)==null?void 0:O.sortModel;return M==null?v:(e.current.setState(Js(M,t.disableMultipleColumnsSorting)),m({},v,{callbacks:[...v.callbacks,e.current.applySorting]}))},[e,t.disableMultipleColumnsSorting]),x=d.useCallback(v=>{const y=dt(e),M=y[ct],O=v.sortRowList?v.sortRowList(M.children.map(D=>y[D])):[...M.children];return M.footerId!=null&&O.push(M.footerId),O},[e]);Qe(e,"exportState",C),Qe(e,"restoreState",b),jo(e,Tn,"sorting",x);const F=d.useCallback(({field:v,colDef:y},M)=>{if(!y.sortable||t.disableColumnSorting)return;const O=t.multipleColumnsSortingMode==="always"||M.shiftKey||M.metaKey||M.ctrlKey;u(v,void 0,O)},[u,t.disableColumnSorting,t.multipleColumnsSortingMode]),j=d.useCallback(({field:v,colDef:y},M)=>{!y.sortable||t.disableColumnSorting||M.key==="Enter"&&!M.ctrlKey&&!M.metaKey&&u(v,void 0,t.multipleColumnsSortingMode==="always"||M.shiftKey)},[u,t.disableColumnSorting,t.multipleColumnsSortingMode]),T=d.useCallback(()=>{const v=kt(e),y=on(e);if(v.length>0){const M=v.filter(O=>y[O.field]);M.length<v.length&&e.current.setSortModel(M)}},[e]),I=d.useCallback(v=>{v==="sorting"&&e.current.applySorting()},[e]);Qe(e,"columnMenu",s),le(e,"columnHeaderClick",F),le(e,"columnHeaderKeyDown",j),le(e,"rowsSet",e.current.applySorting),le(e,"columnsChange",T),le(e,"activeStrategyProcessorChange",I),fo(()=>{e.current.applySorting()}),Mt(()=>{t.sortModel!==void 0&&e.current.setSortModel(t.sortModel)},[e,t.sortModel])};function Oi(e){const{containerSize:t,scrollPosition:n,elementSize:o,elementOffset:r}=e,l=r+o;if(o>t)return r;if(l-t>n)return l-t;if(r<n)return r}const oM=(e,t)=>{const n=vt(),o=ft(e,"useGridScroll"),r=e.current.columnHeadersContainerRef,l=e.current.virtualScrollerRef,s=K(e,Dn),c=d.useCallback(h=>{var x;const g=et(e),p=so(e),w=Ze(e);if(!(h.rowIndex==null)&&p===0||w.length===0)return!1;o.debug(`Scrolling to cell at row ${h.rowIndex}, col: ${h.colIndex} `);let b={};if(h.colIndex!==void 0){const F=Fn(e);let j;if(typeof h.rowIndex<"u"){const T=(x=s[h.rowIndex])==null?void 0:x.id,I=e.current.unstable_getCellColSpanInfo(T,h.colIndex);I&&!I.spannedByColSpan&&(j=I.cellProps.width)}typeof j>"u"&&(j=w[h.colIndex].computedWidth),b.left=Oi({containerSize:g.viewportOuterSize.width,scrollPosition:Math.abs(l.current.scrollLeft),elementSize:j,elementOffset:F[h.colIndex]})}if(h.rowIndex!==void 0){const F=Hl(e),j=lb(e),T=wc(e),I=t.pagination?h.rowIndex-j*T:h.rowIndex,k=F.positions[I+1]?F.positions[I+1]-F.positions[I]:F.currentPageTotalHeight-F.positions[I];b.top=Oi({containerSize:g.viewportInnerSize.height,scrollPosition:l.current.scrollTop,elementSize:k,elementOffset:F.positions[I]})}return b=e.current.unstable_applyPipeProcessors("scrollToIndexes",b,h),typeof b.left<"u"||typeof b.top<"u"?(e.current.scroll(b),!0):!1},[o,e,l,t.pagination,s]),a=d.useCallback(h=>{if(l.current&&h.left!==void 0&&r.current){const g=n?-1:1;r.current.scrollLeft=h.left,l.current.scrollLeft=g*h.left,o.debug(`Scrolling left: ${h.left}`)}l.current&&h.top!==void 0&&(l.current.scrollTop=h.top,o.debug(`Scrolling top: ${h.top}`)),o.debug("Scrolling, updating container, and viewport")},[l,n,r,o]),u=d.useCallback(()=>l!=null&&l.current?{top:l.current.scrollTop,left:l.current.scrollLeft}:{top:0,left:0},[l]);Ee(e,{scroll:a,scrollToIndexes:c,getScrollPosition:u},"public")};function rM(e,t){We(e,"columnHeaderClick",t.onColumnHeaderClick),We(e,"columnHeaderContextMenu",t.onColumnHeaderContextMenu),We(e,"columnHeaderDoubleClick",t.onColumnHeaderDoubleClick),We(e,"columnHeaderOver",t.onColumnHeaderOver),We(e,"columnHeaderOut",t.onColumnHeaderOut),We(e,"columnHeaderEnter",t.onColumnHeaderEnter),We(e,"columnHeaderLeave",t.onColumnHeaderLeave),We(e,"cellClick",t.onCellClick),We(e,"cellDoubleClick",t.onCellDoubleClick),We(e,"cellKeyDown",t.onCellKeyDown),We(e,"preferencePanelClose",t.onPreferencePanelClose),We(e,"preferencePanelOpen",t.onPreferencePanelOpen),We(e,"menuOpen",t.onMenuOpen),We(e,"menuClose",t.onMenuClose),We(e,"rowDoubleClick",t.onRowDoubleClick),We(e,"rowClick",t.onRowClick),We(e,"stateChange",t.onStateChange)}const Co={width:0,height:0},lM={isReady:!1,root:Co,viewportOuterSize:Co,viewportInnerSize:Co,contentSize:Co,minimumSize:Co,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},sM=(e,t,n)=>{const o=lM,r=Oo(n);return m({},e,{dimensions:m({},o,cM(t,n,r,Fr(n)))})},iM=ie(Ze,Fn,(e,t)=>{const n=e.length;return n===0?0:nu(t[n-1]+e[n-1].computedWidth,1)});function aM(e,t){const n=e.current.virtualizer,o=n.api.updateDimensions,r=n.api.getViewportPageSize,s={getRootDimensions:d.useCallback(()=>et(e),[e])},c={updateDimensions:o,getViewportPageSize:r};Ee(e,s,"public"),Ee(e,c,"private"),We(e,"rootMount",u=>{Ri(u,et(e))}),We(e,"debouncedResize",t.onResize),cl(e.current.store,u=>u.dimensions,(u,f)=>{e.current.rootElementRef.current&&Ri(e.current.rootElementRef.current,f),uM(f.viewportInnerSize,u.viewportInnerSize)||e.current.publishEvent("viewportInnerSizeChange",f.viewportInnerSize),e.current.publishEvent("debouncedResize",f.root)})}function Ri(e,t){const n=(o,r)=>e.style.setProperty(o,r);n("--DataGrid-hasScrollX",`${Number(t.hasScrollX)}`),n("--DataGrid-hasScrollY",`${Number(t.hasScrollY)}`),n("--DataGrid-scrollbarSize",`${t.scrollbarSize}px`),n("--DataGrid-rowWidth",`${t.rowWidth}px`),n("--DataGrid-columnsTotalWidth",`${t.columnsTotalWidth}px`),n("--DataGrid-leftPinnedWidth",`${t.leftPinnedWidth}px`),n("--DataGrid-rightPinnedWidth",`${t.rightPinnedWidth}px`),n("--DataGrid-headerHeight",`${t.headerHeight}px`),n("--DataGrid-headersTotalHeight",`${t.headersTotalHeight}px`),n("--DataGrid-topContainerHeight",`${t.topContainerHeight}px`),n("--DataGrid-bottomContainerHeight",`${t.bottomContainerHeight}px`),n("--height",`${t.rowHeight}px`)}function cM(e,t,n,o){const r=Da(e.rowHeight,Sr.rowHeight);return{rowHeight:Math.floor(r*n),headerHeight:Math.floor(e.columnHeaderHeight*n),groupHeaderHeight:Math.floor((e.columnGroupHeaderHeight??e.columnHeaderHeight)*n),headerFilterHeight:Math.floor((e.headerFilterHeight??e.columnHeaderHeight)*n),columnsTotalWidth:iM(t),headersTotalHeight:Bo(t,e),leftPinnedWidth:o.left.reduce((l,s)=>l+s.computedWidth,0),rightPinnedWidth:o.right.reduce((l,s)=>l+s.computedWidth,0)}}function uM(e,t){return e.width===t.width&&e.height===t.height}const dM=(e,t,n)=>{const o=nm(n),r=so(n),l=co(n),s=Math.min(l.enabled?l.paginationModel.pageSize:r,r);return m({},e,{rowsMeta:{currentPageTotalHeight:s*o,positions:Array.from({length:s},(c,a)=>a*o),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},fM=(e,t)=>{const n=e.current.virtualizer,{getRowHeight:o,setLastMeasuredRowIndex:r,storeRowHeightMeasurement:l,resetRowHeights:s,hydrateRowsMeta:c,observeRowHeight:a,rowHasAutoHeight:u,getRowHeightEntry:f,getLastMeasuredRowIndex:h}=n.api.rowsMeta;ls(e,"rowHeight",c);const g={unstable_getRowHeight:o,unstable_setLastMeasuredRowIndex:r,unstable_storeRowHeightMeasurement:l,resetRowHeights:s},p={hydrateRowsMeta:c,observeRowHeight:a,rowHasAutoHeight:u,getRowHeightEntry:f,getLastMeasuredRowIndex:h};Ee(e,g,"public"),Ee(e,p,"private")},hM=e=>{const t=d.useCallback((r={})=>e.current.unstable_applyPipeProcessors("exportState",{},r),[e]),n=d.useCallback(r=>{e.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:r}).callbacks.forEach(s=>{s()})},[e]);Ee(e,{exportState:t,restoreState:n},"public")},gM=e=>{const t=e.current.virtualizer,n=t.api.resetColSpan,o=t.api.getCellColSpanInfo,r=t.api.calculateColSpan,l={unstable_getCellColSpanInfo:o},s={resetColSpan:n,calculateColSpan:r};Ee(e,l,"public"),Ee(e,s,"private"),le(e,"columnOrderChange",n)},su=(e,t,n)=>{if(_a(e)){if(n[e.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${e.field} occurs two times in the grouping model:`,`- ${n[e.field].join(" > ")}`,`- ${t.join(" > ")}`].join(`
`));n[e.field]=t;return}const{groupId:o,children:r}=e;r.forEach(l=>{su(l,[...t,o],n)})},pl=e=>{if(!e)return{};const t={};return e.forEach(n=>{su(n,[],t)}),t},bl=(e,t,n)=>{const o=a=>t[a]??[],r=[],l=Math.max(0,...e.map(a=>o(a).length)),s=(a,u,f)=>{const h=o(a),g=o(u);for(let p=0;p<=f;p+=1)if(h[p]!==g[p])return!1;return!0},c=(a,u)=>{const f=n==null?void 0:n.left,h=n==null?void 0:n.right,g=!!(f!=null&&f.includes(a)),p=!!(f!=null&&f.includes(u)),w=!!(h!=null&&h.includes(a)),C=!!(h!=null&&h.includes(u));return g!==p||w!==C};for(let a=0;a<l;a+=1){const u=[];for(let f=0;f<e.length;f+=1){const h=e[f],g=o(h)[a]??null;if(u.length===0){u.push({columnFields:[h],groupId:g});continue}const p=u[u.length-1],w=p.columnFields[p.columnFields.length-1];p.groupId!==g||!s(w,h,a)||c(w,h)?u.push({columnFields:[h],groupId:g}):p.columnFields.push(h)}r.push(u)}return r},mM=["groupId","children"],ss=e=>{const t={};for(let n=0;n<e.length;n+=1){const o=e[n];if(_a(o))continue;const{groupId:r,children:l}=o,s=Q(o,mM);if(!r)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const c=m({},s,{groupId:r}),a=ss(l);if(a[r]!==void 0||t[r]!==void 0)throw new Error(`MUI X: The groupId ${r} is used multiple times in the columnGroupingModel.`);Object.assign(t,a),t[r]=c}return t},pM=(e,t,n)=>{if(n.current.caches.columnGrouping={lastColumnGroupingModel:t.columnGroupingModel},!t.columnGroupingModel)return e;const o=Ut(n),r=Ro(n),l=ss(t.columnGroupingModel??[]),s=pl(t.columnGroupingModel??[]),c=bl(o,s,n.current.state.pinnedColumns??{}),a=r.length===0?0:Math.max(...r.map(u=>{var f;return((f=s[u])==null?void 0:f.length)??0}));return m({},e,{columnGrouping:{lookup:l,unwrappedGroupingModel:s,headerStructure:c,maxDepth:a}})},bM=(e,t)=>{const n=d.useCallback(c=>Mc(e)[c]??[],[e]),o=d.useCallback(()=>Pc(e),[e]);Ee(e,{getColumnGroupPath:n,getAllGroupDetails:o},"public");const l=d.useCallback(()=>{const c=pl(t.columnGroupingModel??[]);e.current.setState(a=>{var g;const u=((g=a.columns)==null?void 0:g.orderedFields)??[],f=a.pinnedColumns??{},h=bl(u,c,f);return m({},a,{columnGrouping:m({},a.columnGrouping,{headerStructure:h})})})},[e,t.columnGroupingModel]),s=d.useCallback(c=>{var C,b;e.current.caches.columnGrouping.lastColumnGroupingModel=c;const a=((b=(C=e.current).getPinnedColumns)==null?void 0:b.call(C))??{},u=Ut(e),f=Ro(e),h=ss(c??[]),g=pl(c??[]),p=bl(u,g,a),w=f.length===0?0:Math.max(...f.map(x=>{var F;return((F=g[x])==null?void 0:F.length)??0}));e.current.setState(x=>m({},x,{columnGrouping:{lookup:h,unwrappedGroupingModel:g,headerStructure:p,maxDepth:w}}))},[e]);le(e,"columnIndexChange",l),le(e,"columnsChange",()=>{s(t.columnGroupingModel)}),le(e,"columnVisibilityModelChange",()=>{s(t.columnGroupingModel)}),d.useEffect(()=>{t.columnGroupingModel!==e.current.caches.columnGrouping.lastColumnGroupingModel&&s(t.columnGroupingModel)},[e,s,t.columnGroupingModel])};function CM(){let e,t;const n=new Promise((o,r)=>{e=o,t=r});return n.resolve=e,n.reject=t,n}function Li(e,t){if(t!==void 0&&e.changedTouches){for(let n=0;n<e.changedTouches.length;n+=1){const o=e.changedTouches[n];if(o.identifier===t)return{x:o.clientX,y:o.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function Ai(e,t,n,o){let r=e;return o==="Right"?r+=t-n.left:r+=n.right-t,Math.round(r)}function wM(e,t,n){return n==="Left"?e-t.left:t.right-e}function xM(e){return e==="Right"?"Left":"Right"}function SM(e,t){const n=e.classList.contains(S["columnSeparator--sideRight"])?"Right":"Left";return t?xM(n):n}function zi(e){e.preventDefault(),e.stopImmediatePropagation()}function yM(e){const t=d.useRef(void 0),n=()=>Cw(e),o=K(e,n);return d.useEffect(()=>{t.current&&o===!1&&(t.current.resolve(),t.current=void 0)}),()=>{if(!t.current){if(n()===!1)return Promise.resolve();t.current=CM()}return t.current}}function vM(e,t){if(e.length<4)return e;const n=e.slice();n.sort((c,a)=>c-a);const o=n[Math.floor(n.length*.25)],r=n[Math.floor(n.length*.75)-1],l=r-o,s=l<5?5:l*t;return n.filter(c=>c>o-s&&c<r+s)}function IM(e,t,n){const o={},r=e.current.rootElementRef.current;return r.classList.add(S.autosizing),n.forEach(l=>{const c=Nx(e.current,l.field).map(w=>w.getBoundingClientRect().width??0),a=t.includeOutliers?c:vM(c,t.outliersFactor);if(t.includeHeaders){const w=_x(e.current,l.field);if(w){const C=w.querySelector(`.${S.columnHeaderTitle}`),b=w.querySelector(`.${S.columnHeaderTitleContainerContent}`),x=w.querySelector(`.${S.iconButtonContainer}`),F=w.querySelector(`.${S.menuIcon}`),j=C??b,T=window.getComputedStyle(w,null),I=parseInt(T.paddingLeft,10)+parseInt(T.paddingRight,10),L=j.scrollWidth+1+I+((x==null?void 0:x.clientWidth)??0)+((F==null?void 0:F.clientWidth)??0);a.push(L)}}const u=l.minWidth!==-1/0&&l.minWidth!==void 0,f=l.maxWidth!==1/0&&l.maxWidth!==void 0,h=u?l.minWidth:0,g=f?l.maxWidth:1/0,p=a.length===0?0:Math.max(...a);o[l.field]=yn(p,h,g)}),r.classList.remove(S.autosizing),o}const MM=e=>m({},e,{columnResize:{resizingColumnField:""}});function PM(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const kM=(e,t)=>{const n=vt(),o=ft(e,"useGridColumnResize"),r=tn(PM).current,l=d.useRef(null),s=d.useRef(null),c=io(),a=d.useRef(void 0),u=y=>{var H,P;o.debug(`Updating width to ${y} for col ${r.colDef.field}`);const M=r.columnHeaderElement.offsetWidth,O=y-M,D=y-r.initialColWidth;if(D>0){const E=r.initialTotalWidth+D;(P=(H=e.current.rootElementRef)==null?void 0:H.current)==null||P.style.setProperty("--DataGrid-rowWidth",`${E}px`)}r.colDef.computedWidth=y,r.colDef.width=y,r.colDef.flex=0,r.columnHeaderElement.style.width=`${y}px`;const $=r.headerFilterElement;$&&($.style.width=`${y}px`),r.groupHeaderElements.forEach(E=>{const G=E;let _;G.getAttribute("aria-colspan")==="1"?_=`${y}px`:_=`${G.offsetWidth+O}px`,G.style.width=_}),r.cellElements.forEach(E=>{const G=E;let _;G.getAttribute("aria-colspan")==="1"?_=`${y}px`:_=`${G.offsetWidth+O}px`,G.style.setProperty("--width",_)});const z=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);z===un.LEFT&&(zn(r.fillerLeft,"width",O),r.leftPinnedCellsAfter.forEach(E=>{zn(E,"left",O)}),r.leftPinnedHeadersAfter.forEach(E=>{zn(E,"left",O)})),z===un.RIGHT&&(zn(r.fillerRight,"width",O),r.rightPinnedCellsBefore.forEach(E=>{zn(E,"right",O)}),r.rightPinnedHeadersBefore.forEach(E=>{zn(E,"right",O)}))},f=y=>{if(x(),r.previousMouseClickEvent){const M=r.previousMouseClickEvent,O=M.timeStamp,D=M.clientX,$=M.clientY;if(y.timeStamp-O<300&&y.clientX===D&&y.clientY===$){r.previousMouseClickEvent=void 0,e.current.publishEvent("columnResizeStop",null,y);return}}if(r.colDef){e.current.setColumnWidth(r.colDef.field,r.colDef.width),o.debug(`Updating col ${r.colDef.field} with new width: ${r.colDef.width}`);const M=At(e);r.groupHeaderElements.forEach(O=>{const D=Rx(O),$=O,H=`${D.reduce((P,E)=>M.columnVisibilityModel[E]!==!1?P+M.lookup[E].computedWidth:P,0)}px`;$.style.width=H})}c.start(0,()=>{e.current.publishEvent("columnResizeStop",null,y)})},h=(y,M,O)=>{var H;const D=e.current.rootElementRef.current;r.initialColWidth=y.computedWidth,r.initialTotalWidth=e.current.getRootDimensions().rowWidth,r.colDef=y,r.columnHeaderElement=Ox(e.current.columnHeadersContainerRef.current,y.field);const $=D.querySelector(`.${S.headerFilterRow} [data-field="${rn(y.field)}"]`);$&&(r.headerFilterElement=$),r.groupHeaderElements=Lx((H=e.current.columnHeadersContainerRef)==null?void 0:H.current,y.field),r.cellElements=Ax(r.columnHeaderElement,e.current),r.fillerLeft=yi(e.current,n?"filler--pinnedRight":"filler--pinnedLeft"),r.fillerRight=yi(e.current,n?"filler--pinnedLeft":"filler--pinnedRight");const z=e.current.unstable_applyPipeProcessors("isColumnPinned",!1,r.colDef.field);r.leftPinnedCellsAfter=z!==un.LEFT?[]:zx(e.current,r.columnHeaderElement,n),r.rightPinnedCellsBefore=z!==un.RIGHT?[]:Gx(e.current,r.columnHeaderElement,n),r.leftPinnedHeadersAfter=z!==un.LEFT?[]:Bx(e.current,r.columnHeaderElement,n),r.rightPinnedHeadersBefore=z!==un.RIGHT?[]:Vx(e.current,r.columnHeaderElement,n),s.current=SM(M,n),l.current=wM(O,r.columnHeaderElement.getBoundingClientRect(),s.current)},g=Be(f),p=Be(y=>{if(y.buttons===0){g(y);return}let M=Ai(l.current,y.clientX,r.columnHeaderElement.getBoundingClientRect(),s.current);M=yn(M,r.colDef.minWidth,r.colDef.maxWidth),u(M);const O={element:r.columnHeaderElement,colDef:r.colDef,width:M};e.current.publishEvent("columnResize",O,y)}),w=Be(y=>{Li(y,a.current)&&f(y)}),C=Be(y=>{const M=Li(y,a.current);if(!M)return;if(y.type==="mousemove"&&y.buttons===0){w(y);return}let O=Ai(l.current,M.x,r.columnHeaderElement.getBoundingClientRect(),s.current);O=yn(O,r.colDef.minWidth,r.colDef.maxWidth),u(O);const D={element:r.columnHeaderElement,colDef:r.colDef,width:O};e.current.publishEvent("columnResize",D,y)}),b=Be(y=>{const M=Cr(y.target,S["columnSeparator--resizable"]);if(!M)return;const O=y.changedTouches[0];O!=null&&(a.current=O.identifier);const D=Cr(y.target,S.columnHeader),$=$x(D),z=e.current.getColumn($);o.debug(`Start Resize on col ${z.field}`),e.current.publishEvent("columnResizeStart",{field:$},y),h(z,M,O.clientX);const H=Kn(y.currentTarget);H.addEventListener("touchmove",C),H.addEventListener("touchend",w)}),x=d.useCallback(()=>{const y=Kn(e.current.rootElementRef.current);y.body.style.removeProperty("cursor"),y.removeEventListener("mousemove",p),y.removeEventListener("mouseup",g),y.removeEventListener("touchmove",C),y.removeEventListener("touchend",w),setTimeout(()=>{y.removeEventListener("click",zi,!0)},100),r.columnHeaderElement&&(r.columnHeaderElement.style.pointerEvents="unset")},[e,r,p,g,C,w]),F=d.useCallback(({field:y})=>{e.current.setState(M=>m({},M,{columnResize:m({},M.columnResize,{resizingColumnField:y})}))},[e]),j=d.useCallback(()=>{e.current.setState(y=>m({},y,{columnResize:m({},y.columnResize,{resizingColumnField:""})}))},[e]),T=Be(({colDef:y},M)=>{if(M.button!==0||!M.currentTarget.classList.contains(S["columnSeparator--resizable"]))return;M.preventDefault(),o.debug(`Start Resize on col ${y.field}`),e.current.publishEvent("columnResizeStart",{field:y.field},M),h(y,M.currentTarget,M.clientX);const O=Kn(e.current.rootElementRef.current);O.body.style.cursor="col-resize",r.previousMouseClickEvent=M.nativeEvent,O.addEventListener("mousemove",p),O.addEventListener("mouseup",g),O.addEventListener("click",zi,!0)}),I=Be((y,M)=>{if(t.disableAutosize||M.button!==0)return;const O=e.current.state.columns.lookup[y.field];O.resizable!==!1&&e.current.autosizeColumns(m({},t.autosizeOptions,{disableColumnVirtualization:!1,columns:[O.field]}))}),k=yM(e),L=d.useRef(!1),v=d.useCallback(async y=>{var z;if(!((z=e.current.rootElementRef)==null?void 0:z.current)||L.current)return;L.current=!0;const O=At(e),D=m({},yC,y,{columns:(y==null?void 0:y.columns)??O.orderedFields});D.columns=D.columns.filter(H=>O.columnVisibilityModel[H]!==!1);const $=D.columns.map(H=>e.current.state.columns.lookup[H]);try{!t.disableVirtualization&&D.disableColumnVirtualization&&(e.current.unstable_setColumnVirtualization(!1),await k());const H=IM(e,D,$),P=$.map(E=>m({},E,{width:H[E.field],computedWidth:H[E.field],flex:0}));if(D.expand){const G=O.orderedFields.map(V=>O.lookup[V]).filter(V=>O.columnVisibilityModel[V.field]!==!1).reduce((V,U)=>V+(H[U.field]??U.computedWidth??U.width),0),A=e.current.getRootDimensions().viewportInnerSize.width-G;if(A>0){const V=A/(P.length||1);P.forEach(U=>{U.width+=V,U.computedWidth+=V})}}e.current.updateColumns(P),P.forEach((E,G)=>{if(E.width!==$[G].width){const _=E.width;e.current.publishEvent("columnWidthChange",{element:e.current.getColumnHeaderElement(E.field),colDef:E,width:_})}})}finally{t.disableVirtualization||e.current.unstable_setColumnVirtualization(!0),L.current=!1}},[e,k,t.disableVirtualization]);d.useEffect(()=>x,[x]),Er(()=>{t.autosizeOnMount&&Promise.resolve().then(()=>{e.current.autosizeColumns(t.autosizeOptions)})}),Dc(e,()=>{var y;return(y=e.current.columnHeadersContainerRef)==null?void 0:y.current},"touchstart",b,{passive:!0}),Ee(e,{autosizeColumns:v},"public"),le(e,"columnResizeStop",j),le(e,"columnResizeStart",F),le(e,"columnSeparatorMouseDown",T),le(e,"columnSeparatorDoubleClick",I),We(e,"columnResize",t.onColumnResize),We(e,"columnWidthChange",t.onColumnWidthChange)};function zn(e,t,n){e&&(e.style[t]=`${Math.round(parseFloat(e.style[t]))+n}px`)}function EM(e,t){return e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?null:e.firstRowIndex>=t.firstRowIndex&&e.lastRowIndex>t.lastRowIndex?{firstRowIndex:t.lastRowIndex,lastRowIndex:e.lastRowIndex}:e.firstRowIndex<t.firstRowIndex&&e.lastRowIndex<=t.lastRowIndex?{firstRowIndex:e.firstRowIndex,lastRowIndex:t.firstRowIndex-1}:e}function Gi(e){return e.firstRowIndex!==0||e.lastRowIndex!==0}const sl=(e,t,n)=>{if(!e)return null;let o=e[t.field];const r=t.rowSpanValueGetter??t.valueGetter;return r&&(o=r(o,e,t,n)),o},iu={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},TM={firstRowIndex:0,lastRowIndex:0},Xn={caches:iu,processedRange:TM},Bi=20,au=(e,t,n,o,r,l)=>{const s=e.current.virtualizer,c=l?Xn:to.selectors.state(s.store.state),a=m({},c.caches.spannedCells),u=m({},c.caches.hiddenCells),f=m({},c.caches.hiddenCellOriginMap),h={firstRowIndex:Math.min(c.processedRange.firstRowIndex,r.firstRowIndex),lastRowIndex:Math.max(c.processedRange.lastRowIndex,r.lastRowIndex)};return t.forEach((g,p)=>{var w;for(let C=r.firstRowIndex;C<r.lastRowIndex;C+=1){const b=n[C];if((w=u[b.id])!=null&&w[p])continue;const x=sl(b.model,g,e);if(x==null)continue;let F=b.id,j=C,T=0;const I=[];if(C===r.firstRowIndex){let L=C-1,v=n[L];for(;L>=o.firstRowIndex&&v&&sl(v.model,g,e)===x;){const y=n[L+1];u[y.id]?u[y.id][p]=!0:u[y.id]={[p]:!0},I.push(C),T+=1,F=v.id,j=L,L-=1,v=n[L]}}I.forEach(L=>{f[L]?f[L][p]=j:f[L]={[p]:j}});let k=C+1;for(;k<=o.lastRowIndex&&n[k]&&sl(n[k].model,g,e)===x;){const L=n[k];u[L.id]?u[L.id][p]=!0:u[L.id]={[p]:!0},f[k]?f[k][p]=j:f[k]={[p]:j},k+=1,T+=1}T>0&&(a[F]?a[F][p]=T+1:a[F]={[p]:T+1})}}),{caches:{spannedCells:a,hiddenCells:u,hiddenCellOriginMap:f},processedRange:h}},FM=(e,t)=>{const n=xn(t).length;if(e.pagination){const o=wc(t);let r=Bi;return o>0&&(r=o-1),{firstRowIndex:0,lastRowIndex:Math.min(r,n)}}return{firstRowIndex:0,lastRowIndex:Math.min(Bi,n)}},DM=(e,t,n)=>{var g;if(!t.rowSpanning)return m({},e,{rowSpanning:Xn});const o=e.rows.dataRowIds||[],r=e.columns.orderedFields||[],l=e.rows.dataRowIdToModelLookup,s=e.columns.lookup,c=!!e.filter.filterModel.items.length||!!((g=e.filter.filterModel.quickFilterValues)!=null&&g.length);if(!o.length||!r.length||!l||!s||c)return m({},e,{rowSpanning:Xn});const a=FM(t,n),u=o.map(p=>({id:p,model:l[p]})),f=r.map(p=>s[p]),h=au(n,f,u,a,a,!0);return m({},e,{rowSpanning:h})},jM=(e,t)=>{const n=e.current.virtualizer.store,o=d.useCallback((l,s=!1)=>{const{range:c,rows:a}=qn(e);if(c===null||!Gi(l))return;const u=s?Xn:to.selectors.state(n.state),f=EM({firstRowIndex:l.firstRowIndex,lastRowIndex:Math.min(l.lastRowIndex,c.lastRowIndex-c.firstRowIndex+1)},u.processedRange);if(f===null)return;const h=Ze(e),g=au(e,h,a,c,f,s),p=Object.keys(g.caches.spannedCells).length,w=Object.keys(g.caches.hiddenCells).length,C=Object.keys(u.caches.spannedCells).length,b=Object.keys(u.caches.hiddenCells).length;!(s||p!==C||w!==b)||p===0&&C===0||n.set("rowSpanning",g)},[e,n]),r=d.useCallback(()=>{const l=Gc(e);Gi(l)&&o(l,!0)},[e,o]);le(e,"renderedRowsIntervalChange",fn(t.rowSpanning,o)),le(e,"sortedRowsSet",fn(t.rowSpanning,r)),le(e,"paginationModelChange",fn(t.rowSpanning,r)),le(e,"filteredRowsSet",fn(t.rowSpanning,r)),le(e,"columnsChange",fn(t.rowSpanning,r)),d.useEffect(()=>{t.rowSpanning?n.state.rowSpanning.caches===iu&&r():n.state.rowSpanning!==Xn&&n.set("rowSpanning",Xn)},[e,n,r,t.rowSpanning])},HM=(e,t,n)=>m({},e,{listViewColumn:t.listViewColumn?m({},t.listViewColumn,{computedWidth:Cl(n)}):void 0});function $M(e,t){const n=()=>{e.current.setState(l=>l.listViewColumn?m({},l,{listViewColumn:m({},l.listViewColumn,{computedWidth:Cl(e)})}):l)},o=d.useRef(null);le(e,"viewportInnerSizeChange",l=>{o.current!==l.width&&(o.current=l.width,n())}),le(e,"columnVisibilityModelChange",n),Mt(()=>{const l=t.listViewColumn;l&&e.current.setState(s=>m({},s,{listViewColumn:m({},l,{computedWidth:Cl(e)})}))},[e,t.listViewColumn]),d.useEffect(()=>{t.listView&&t.listViewColumn},[t.listView,t.listViewColumn])}function Cl(e){return et(e).viewportInnerSize.width}const OM=ie(it,kt,ut,(e,t,n)=>({groupKeys:[],paginationModel:n,sortModel:t,filterModel:e,start:n.page*n.pageSize,end:n.page*n.pageSize+n.pageSize-1}));let il=function(e){return e.Default="set-new-rows",e.LazyLoading="replace-row-range",e}({});class sr{constructor(t){nt(this,"getCacheKeys",t=>{if(this.chunkSize<1||typeof t.start!="number")return[t];const n=[];for(let o=t.start;o<=t.end;o+=this.chunkSize){const r=Math.min(o+this.chunkSize-1,t.end);n.push(m({},t,{start:o,end:r}))}return n});nt(this,"splitResponse",(t,n)=>{const o=this.getCacheKeys(t);if(o.length===1)return new Map([[t,n]]);const r=new Map;return o.forEach(l=>{var a,u,f,h;const s=l.end===t.end,c=m({},n,{pageInfo:m({},n.pageInfo,{hasNextPage:((a=n.pageInfo)==null?void 0:a.hasNextPage)!==void 0&&!s?!0:(u=n.pageInfo)==null?void 0:u.hasNextPage,nextCursor:((f=n.pageInfo)==null?void 0:f.nextCursor)!==void 0&&!s?n.rows[l.end+1].id:(h=n.pageInfo)==null?void 0:h.nextCursor}),rows:typeof l.start!="number"||typeof t.start!="number"?n.rows:n.rows.slice(l.start-t.start,l.end-t.start+1)});r.set(l,c)}),r});this.chunkSize=t}}nt(sr,"mergeResponses",t=>t.length===1?t[0]:t.reduce((n,o)=>({rows:[...n.rows,...o.rows],rowCount:o.rowCount,pageInfo:o.pageInfo}),{rows:[],rowCount:0,pageInfo:{}}));const RM=["skipCache"],LM={clear:()=>{},get:()=>{},set:()=>{}};function Vi(e,t={}){return e===null?LM:e??new vw(t)}const AM=(e,t,n={})=>{var I,k;const o=d.useCallback(()=>{e.current.setStrategyAvailability(gn.DataSource,il.Default,t.dataSource?()=>!0:()=>!1)},[e,t.dataSource]),[r,l]=d.useState(!1),s=K(e,ut),c=d.useRef(0),a=t.onDataSourceError,u=tn(()=>{if(!t.pagination)return new sr(s.pageSize);const L=t.pageSizeOptions.map(y=>typeof y=="number"?y:y.value).sort((y,M)=>y-M),v=Math.min(s.pageSize,L[0]);return new sr(v)}).current,[f,h]=d.useState(()=>Vi(t.dataSourceCache,n.cacheOptions)),g=d.useCallback(async(L,v)=>{var E,G,_;const y=(E=t.dataSource)==null?void 0:E.getRows;if(!y)return;if(L&&L!==ct&&t.signature!=="DataGrid"){(G=n.fetchRowChildren)==null||G.call(n,[L]);return}(_=n.clearDataSourceState)==null||_.call(n);const M=v||{},{skipCache:O}=M,D=Q(M,RM),$=m({},OM(e),e.current.unstable_applyPipeProcessors("getRowsParams",{}),D),H=u.getCacheKeys($).map(R=>f.get(R));if(!O&&H.every(R=>R!==void 0)){e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:sr.mergeResponses(H),fetchParams:$});return}(r||e.current.getRowsCount()===0)&&e.current.setLoading(!0);const P=c.current+1;c.current=P;try{const R=await y($);u.splitResponse($,R).forEach((V,U)=>f.set(U,V)),c.current===P&&e.current.applyStrategyProcessor("dataSourceRowsUpdate",{response:R,fetchParams:$})}catch(R){c.current===P&&(e.current.applyStrategyProcessor("dataSourceRowsUpdate",{error:R,fetchParams:$}),typeof a=="function"&&a(new Iw({message:R==null?void 0:R.message,params:$,cause:R})))}finally{r&&c.current===P&&e.current.setLoading(!1)}},[u,f,e,r,(I=t.dataSource)==null?void 0:I.getRows,a,n,t.signature]),p=d.useCallback(()=>{l(e.current.getActiveStrategy(gn.DataSource)===il.Default)},[e]),w=d.useCallback(L=>{if("error"in L){e.current.setRows([]);return}const{response:v}=L;v.rowCount!==void 0&&e.current.setRowCount(v.rowCount),e.current.setRows(v.rows),e.current.unstable_applyPipeProcessors("processDataSourceRows",{params:L.fetchParams,response:v},!0)},[e]),C=(k=t.dataSource)==null?void 0:k.updateRow,b=n.handleEditRow,x=d.useCallback(async L=>{if(C)try{const v=await C(L);return typeof b=="function"?(b(L,v),v):(e.current.updateNestedRows([v],[]),v&&!Gt(v,L.previousRow)&&e.current.dataSource.cache.clear(),v)}catch(v){throw typeof a=="function"&&a(new Mw({message:v==null?void 0:v.message,params:L,cause:v})),v}},[e,C,a,b]),F={dataSource:{fetchRows:g,cache:f,editRow:x}},j=d.useMemo(()=>ns(g,0),[g]),T=d.useRef(!0);return d.useEffect(()=>{if(T.current){T.current=!1;return}if(t.dataSourceCache===void 0)return;const L=Vi(t.dataSourceCache,n.cacheOptions);h(v=>v!==L?L:v)},[t.dataSourceCache,n.cacheOptions]),d.useEffect(()=>(t.dataSource&&(e.current.dataSource.cache.clear(),e.current.dataSource.fetchRows()),()=>{c.current+=1}),[e,t.dataSource]),{api:{public:F},debouncedFetchRows:j,strategyProcessor:{strategyName:il.Default,group:"dataSourceRowsUpdate",processor:w},setStrategyAvailability:o,cacheChunkManager:u,cache:f,events:{strategyAvailabilityChange:p,sortModelChange:fn(r,()=>j()),filterModelChange:fn(r,()=>j()),paginationModelChange:fn(r,()=>j())}}},zM=(e,t)=>{const{api:n,strategyProcessor:o,events:r,setStrategyAvailability:l}=AM(e,t);Ee(e,n.public,"public"),jo(e,o.strategyName,o.group,o.processor),Object.entries(r).forEach(([s,c])=>{le(e,s,c)}),d.useEffect(()=>{l()},[l])},GM=(e,t,n)=>{Xv(e,t),eM(e,t),XI(e),st(Kv,e,t),st(QI,e,t),st(cI,e,t),st(NI,e,t),st(jI,e,t),st(VI,e,t),st(MI,e,t),st(tM,e,t),st($I,e,t),st(SI,e,t),st(DM,e,t),st(fI,e,t),st(MM,e,t),st(iI,e,t),st(pM,e,t),st(pw,e,t),st(sM,e,t),st(dM,e,t),st(HM,e,t),tI(e,t),TI(e,t),JI(e,t),uI(e,t),WI(e,t,n),jM(e,t),YI(e,t),gM(e),bM(e,t),_I(e,t),PI(e,t),OI(e,t),II(e,t,n),nM(e,t,n),hI(e,t),kM(e,t),HI(e,t),fM(e),oM(e,t),aI(e),mI(e,t),xI(e,t),sI(e,t),aM(e,t),rM(e,t),hM(e),bw(e,t),$M(e,t),zM(e,t),d.useEffect(()=>{e.current.runAppliersForPendingProcessors()})},BM=e=>{const{classes:t,headerAlign:n,isDragging:o,isLastColumn:r,showLeftBorder:l,showRightBorder:s,groupId:c,pinnedPosition:a}=e,u={root:["columnHeader",n==="left"&&"columnHeader--alignLeft",n==="center"&&"columnHeader--alignCenter",n==="right"&&"columnHeader--alignRight",o&&"columnHeader--moving",s&&"columnHeader--withRightBorder",l&&"columnHeader--withLeftBorder","withBorderColor",c===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",a===je.LEFT&&"columnHeader--pinnedLeft",a===je.RIGHT&&"columnHeader--pinnedRight",r&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Fe(u,De,t)};function VM(e){var G;const{groupId:t,width:n,depth:o,maxDepth:r,fields:l,height:s,colIndex:c,hasFocus:a,tabIndex:u,isLastColumn:f,pinnedPosition:h,pinnedOffset:g}=e,p=ee(),w=vt(),C=d.useRef(null),b=Me(),x=K(b,Pc),F=t?x[t]:{},{headerName:j=t??"",description:T="",headerAlign:I=void 0}=F;let k;const L=t&&((G=x[t])==null?void 0:G.renderHeaderGroup),v=d.useMemo(()=>({groupId:t,headerName:j,description:T,depth:o,maxDepth:r,fields:l,colIndex:c,isLastColumn:f}),[t,j,T,o,r,l,c,f]);t&&L&&(k=L(v));const y=m({},e,{classes:p.classes,headerAlign:I,depth:o,isDragging:!1}),M=j??t,O=_e(),D=t===null?`empty-group-cell-${O}`:t,$=BM(y);d.useLayoutEffect(()=>{if(a){const R=C.current.querySelector('[tabindex="0"]')||C.current;if(!R)return;if(Zl())R.focus({preventScroll:!0});else{const A=b.current.getScrollPosition();R.focus(),b.current.scroll(A)}}},[b,a]);const z=d.useCallback(_=>R=>{No(R)||b.current.publishEvent(_,v,R)},[b,v]),H=d.useMemo(()=>({onKeyDown:z("columnGroupHeaderKeyDown"),onFocus:z("columnGroupHeaderFocus"),onBlur:z("columnGroupHeaderBlur")}),[z]),P=typeof F.headerClassName=="function"?F.headerClassName(v):F.headerClassName,E=d.useMemo(()=>Br(m({},e.style),w,h,g),[h,g,e.style,w]);return i.jsx(Yc,m({ref:C,classes:$,columnMenuOpen:!1,colIndex:c,height:s,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:u,isDraggable:!1,headerComponent:k,headerClassName:P,description:T,elementId:D,width:n,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:M,"aria-colspan":l.length,"data-fields":`|-${l.join("-|-")}-|`,style:E},H))}const _i=ke("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow"})({display:"flex"}),_M=e=>{const{visibleColumns:t,sortColumnLookup:n,filterColumnLookup:o,columnHeaderTabIndexState:r,columnGroupHeaderTabIndexState:l,columnHeaderFocus:s,columnGroupHeaderFocus:c,headerGroupingMaxDepth:a,columnMenuState:u,columnVisibility:f,columnGroupsHeaderStructure:h,hasOtherElementInTabSequence:g}=e,[p,w]=d.useState(""),[C,b]=d.useState(""),x=Pt(),F=ee(),j=K(x,Mc),T=K(x,Fn),I=K(x,Sw),k=K(x,Fr),L=K(x,on),v=Lc(T,I,k.left.length),y=K(x,jl),M=K(x,Ia),O=K(x,lm),D=K(x,sm),$=K(x,Ma),z=d.useCallback(q=>b(q.field),[]),H=d.useCallback(()=>b(""),[]),P=d.useCallback(q=>w(q.field),[]),E=d.useCallback(()=>w(""),[]),G=d.useMemo(()=>k.left.length?{firstColumnIndex:0,lastColumnIndex:k.left.length}:null,[k.left.length]),_=d.useMemo(()=>k.right.length?{firstColumnIndex:t.length-k.right.length,lastColumnIndex:t.length}:null,[k.right.length,t.length]);le(x,"columnResizeStart",z),le(x,"columnResizeStop",H),le(x,"columnHeaderDragStart",P),le(x,"columnHeaderDragEndNative",E);const R=q=>{const{renderContext:ue=I}=q||{},de=ue.firstColumnIndex,se=Math.min(ue.lastColumnIndex,t.length);return{renderedColumns:t.slice(de,se),firstColumnToRender:de,lastColumnToRender:se}},A=(q,ue,de,se=!1)=>{const W=(q==null?void 0:q.position)===je.RIGHT,X=(q==null?void 0:q.position)===void 0,te=k.right.length>0&&W||k.right.length===0&&X,he=v-de;return i.jsxs(d.Fragment,{children:[X&&i.jsx("div",{role:"presentation",style:{width:he}}),ue,X&&i.jsx("div",{role:"presentation",className:Oe(S.filler,se&&S["filler--borderBottom"])}),te&&i.jsx(rs,{header:!0,pinnedRight:W,borderBottom:se,borderTop:!1})]})},V=(q,ue={})=>{const{renderedColumns:de,firstColumnToRender:se}=R(q),W=[];for(let X=0;X<de.length;X+=1){const te=de[X],he=se+X,fe=he===0,ge=r!==null&&r.field===te.field||fe&&!g?0:-1,we=s!==null&&s.field===te.field,pe=u.open&&u.field===te.field,ve=q==null?void 0:q.position,He=Io(ve,te.computedWidth,he,T,y,$),Re=ve===je.RIGHT?de[X-1]:de[X+1],Ue=Re?s!==null&&s.field===Re.field:!1,Y=he+1===T.length-k.right.length,ae=X,xe=de.length,ye=xr(ve,ae),Ie=wr(ve,ae,xe,F.showColumnVerticalBorder,M);W.push(i.jsx(oS,m({},n[te.field],{columnMenuOpen:pe,filterItemsCounter:o[te.field]&&o[te.field].length,headerHeight:O,isDragging:te.field===p,colDef:te,colIndex:he,isResizing:C===te.field,isLast:he===T.length-1,hasFocus:we,tabIndex:ge,pinnedPosition:ve,pinnedOffset:He,isLastUnpinned:Y,isSiblingFocused:Ue,showLeftBorder:ye,showRightBorder:Ie},ue),te.field))}return A(q,W,0)},U=()=>i.jsxs(_i,{role:"row","aria-rowindex":a+1,ownerState:F,className:S["row--borderBottom"],style:{height:O},children:[G&&V({position:je.LEFT,renderContext:G},{disableReorder:!0}),V({renderContext:I}),_&&V({position:je.RIGHT,renderContext:_},{disableReorder:!0,separatorSide:ts.Left})]}),N=({depth:q,params:ue})=>{var xe,ye;const de=R(ue);if(de.renderedColumns.length===0)return null;const{firstColumnToRender:se,lastColumnToRender:W}=de,X=h[q],te=t[se].field,he=((xe=j[te])==null?void 0:xe[q])??null,fe=X.findIndex(({groupId:Ie,columnFields:$e})=>Ie===he&&$e.includes(te)),ge=t[W-1].field,we=((ye=j[ge])==null?void 0:ye[q])??null,pe=X.findIndex(({groupId:Ie,columnFields:$e})=>Ie===we&&$e.includes(ge)),ve=X.slice(fe,pe+1).map(Ie=>m({},Ie,{columnFields:Ie.columnFields.filter($e=>f[$e]!==!1)})).filter(Ie=>Ie.columnFields.length>0),He=ve[0].columnFields.indexOf(te),Ue=ve[0].columnFields.slice(0,He).reduce((Ie,$e)=>{const Ve=L[$e];return Ie+(Ve.computedWidth??0)},0);let Y=se;const ae=ve.map(({groupId:Ie,columnFields:$e},Ve)=>{const ot=c!==null&&c.depth===q&&$e.includes(c.field),Se=l!==null&&l.depth===q&&$e.includes(l.field)?0:-1,Pe={groupId:Ie,width:$e.reduce((ce,ne)=>ce+L[ne].computedWidth,0),fields:$e,colIndex:Y,hasFocus:ot,tabIndex:Se},Te=ue.position,Ye=Io(Te,Pe.width,Y,T,y,$);Y+=$e.length;let Je=Ve;return Te===je.LEFT&&(Je=Y-1),i.jsx(VM,{groupId:Ie,width:Pe.width,fields:Pe.fields,colIndex:Pe.colIndex,depth:q,isLastColumn:Ve===ve.length-1,maxDepth:a,height:D,hasFocus:ot,tabIndex:Se,pinnedPosition:Te,pinnedOffset:Ye,showLeftBorder:xr(Te,Je),showRightBorder:wr(Te,Je,ve.length,F.showColumnVerticalBorder,M)},Ve)});return A(ue,ae,Ue)};return{renderContext:I,leftRenderContext:G,rightRenderContext:_,pinnedColumns:k,visibleColumns:t,columnPositions:T,getFillers:A,getColumnHeadersRow:U,getColumnsToRender:R,getColumnGroupHeadersRows:()=>{if(a===0)return null;const q=[];for(let ue=0;ue<a;ue+=1)q.push(i.jsxs(_i,{role:"row","aria-rowindex":ue+1,ownerState:F,style:{height:D},children:[G&&N({depth:ue,params:{position:je.LEFT,renderContext:G,maxLastColumn:G.lastColumnIndex}}),N({depth:ue,params:{renderContext:I}}),_&&N({depth:ue,params:{position:je.RIGHT,renderContext:_,maxLastColumn:_.lastColumnIndex}})]},ue));return q},getPinnedCellOffset:Io,isDragging:!!p,getInnerProps:()=>({role:"rowgroup"})}},NM=["className"],WM=e=>{const{classes:t}=e;return Fe({root:["columnHeaders"]},De,t)},UM=ze("div",{name:"MuiDataGrid",slot:"ColumnHeaders"})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),KM=me(function(t,n){const{className:o}=t,r=Q(t,NM),l=ee(),s=WM(l);return i.jsx(UM,m({className:Oe(s.root,o),ownerState:l},r,{role:"presentation",ref:n}))}),qM=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],XM=me(function(t,n){const{visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:c,columnHeaderFocus:a,columnGroupHeaderFocus:u,headerGroupingMaxDepth:f,columnMenuState:h,columnVisibility:g,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:w}=t,C=Q(t,qM),{getInnerProps:b,getColumnHeadersRow:x,getColumnGroupHeadersRows:F}=_M({visibleColumns:o,sortColumnLookup:r,filterColumnLookup:l,columnHeaderTabIndexState:s,columnGroupHeaderTabIndexState:c,columnHeaderFocus:a,columnGroupHeaderFocus:u,headerGroupingMaxDepth:f,columnMenuState:h,columnVisibility:g,columnGroupsHeaderStructure:p,hasOtherElementInTabSequence:w});return i.jsxs(KM,m({},C,b(),{ref:n,children:[F(),x()]}))}),YM=nn(XM);function QM(e){return null}function JM(e){return null}const ZM=me(function(t,n){const r=Me().current.getLocaleText("noResultsOverlayLabel");return i.jsx(Vr,m({},t,{ref:n,children:r}))}),e0=()=>Fe({root:["bottomContainer"]},De,{}),t0=ze("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function n0(e){const t=e0();return i.jsx(t0,m({},e,{className:Oe(t.root,S["container--bottom"]),role:"presentation"}))}const o0=m({},bg,{cell:Vw,skeletonCell:Xw,columnHeaderFilterIconButton:mS,columnHeaderSortIcon:hS,columnMenu:DS,columnHeaders:YM,detailPanels:QM,bottomContainer:n0,footer:uv,footerRowCount:Pv,toolbar:lv,pinnedRows:JM,loadingOverlay:Cv,noResultsOverlay:ZM,noRowsOverlay:wv,noColumnsOverlay:xv,pagination:yv,filterPanel:sy,columnsPanel:OS,columnsManagement:my,panel:GS,row:Hv}),r0={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",listView:!1},l0=e=>m({},r0,e.dataSource?{filterMode:"server",sortingMode:"server",paginationMode:"server"}:{}),s0=o0,i0=e=>{const t=Sl(),n=d.useMemo(()=>Gu({props:e,theme:t,name:"MuiDataGrid"}),[t,e]),o=d.useMemo(()=>m({},wm,n.localeText),[n.localeText]),r=d.useMemo(()=>Ow({defaultSlots:s0,slots:n.slots}),[n.slots]),l=d.useMemo(()=>Object.keys(Sr).reduce((s,c)=>(s[c]=n[c]??Sr[c],s),{}),[n]);return d.useMemo(()=>m({},n,l,{localeText:o,slots:r},l0(n)),[n,o,r,l])};class a0{constructor(){nt(this,"maxListeners",20);nt(this,"warnOnce",!1);nt(this,"events",{})}on(t,n,o={}){let r=this.events[t];r||(r={highPriority:new Map,regular:new Map},this.events[t]=r),o.isFirst?r.highPriority.set(n,!0):r.regular.set(n,!0)}removeListener(t,n){this.events[t]&&(this.events[t].regular.delete(n),this.events[t].highPriority.delete(n))}removeAllListeners(){this.events={}}emit(t,...n){const o=this.events[t];if(!o)return;const r=Array.from(o.highPriority.keys()),l=Array.from(o.regular.keys());for(let s=r.length-1;s>=0;s-=1){const c=r[s];o.highPriority.has(c)&&c.apply(this,n)}for(let s=0;s<l.length;s+=1){const c=l[s];o.regular.has(c)&&c.apply(this,n)}}once(t,n){const o=this;this.on(t,function r(...l){o.removeListener(t,r),n.apply(o,l)})}}const cu=Symbol("mui.api_private"),c0=e=>e.isPropagationStopped!==void 0;let Ni=0;function u0(e){var r;const t=(r=e.current)==null?void 0:r[cu];if(t)return t;const n={},o={state:n,store:tm.create(n),instanceId:{id:Ni}};return Ni+=1,o.getPublicApi=()=>e.current,o.register=(l,s)=>{Object.keys(s).forEach(c=>{const a=s[c],u=o[c];if((u==null?void 0:u.spying)===!0?u.target=a:o[c]=a,l==="public"){const f=e.current,h=f[c];(h==null?void 0:h.spying)===!0?h.target=a:f[c]=a}})},o.register("private",{caches:{},eventManager:new a0}),o}function d0(e){return{get state(){return e.current.state},get store(){return e.current.store},get instanceId(){return e.current.instanceId},[cu]:e.current}}function f0(e,t){var s;const n=d.useRef(null),o=d.useRef(null);o.current||(o.current=u0(n)),n.current||(n.current=d0(o));const r=d.useCallback((...c)=>{const[a,u,f={}]=c;if(f.defaultMuiPrevented=!1,c0(f)&&f.isPropagationStopped())return;const h=t.signature===Lt.DataGridPro||t.signature===Lt.DataGridPremium?{api:o.current.getPublicApi()}:{};o.current.eventManager.emit(a,u,f,h)},[o,t.signature]),l=d.useCallback((c,a,u)=>{o.current.eventManager.on(c,a,u);const f=o.current;return()=>{f.eventManager.removeListener(c,a)}},[o]);return Ee(o,{subscribeEvent:l,publishEvent:r},"public"),e&&!((s=e.current)!=null&&s.state)&&(e.current=n.current),d.useImperativeHandle(e,()=>n.current,[n]),d.useEffect(()=>{const c=o.current;return()=>{c.publishEvent("unmount")}},[o]),o}const Wi={hooks:{useCSSVariables:lh,useGridAriaAttributes:$v,useGridRowAriaAttributes:Ov,useGridRowsOverridableMethods:Rv,useCellAggregationResult:()=>null,useSortValueGetter:e=>e.current.getCellValue,useFilterValueGetter:e=>e.current.getRowValue}},uu=function(t,n){var l;const o=i0(t),r=f0(o.apiRef,o);return GM(r,o,Wi),i.jsx(Lv,{privateApiRef:r,configuration:Wi,props:o,children:i.jsx(dx,m({className:o.className,style:o.style,sx:o.sx},(l=o.slotProps)==null?void 0:l.root,{ref:n}))})},h0=d.memo(me(uu));uu.propTypes={apiRef:B.shape({current:B.object}),"aria-label":B.string,"aria-labelledby":B.string,autoHeight:B.bool,autoPageSize:B.bool,autosizeOnMount:B.bool,autosizeOptions:B.shape({columns:B.arrayOf(B.string),disableColumnVirtualization:B.bool,expand:B.bool,includeHeaders:B.bool,includeOutliers:B.bool,outliersFactor:B.number}),cellModesModel:B.object,checkboxSelection:B.bool,classes:B.object,className:B.string,clipboardCopyCellDelimiter:B.string,columnBufferPx:B.number,columnFilterDebounceMs:B.number,columnGroupHeaderHeight:B.number,columnGroupingModel:B.arrayOf(B.object),columnHeaderHeight:B.number,columns:B.arrayOf(B.object).isRequired,columnVisibilityModel:B.object,dataSource:B.shape({getRows:B.func.isRequired,updateRow:B.func}),dataSourceCache:B.shape({clear:B.func.isRequired,get:B.func.isRequired,set:B.func.isRequired}),density:B.oneOf(["comfortable","compact","standard"]),disableAutosize:B.bool,disableColumnFilter:B.bool,disableColumnMenu:B.bool,disableColumnResize:B.bool,disableColumnSelector:B.bool,disableColumnSorting:B.bool,disableDensitySelector:B.bool,disableEval:B.bool,disableMultipleRowSelection:B.bool,disableRowSelectionExcludeModel:B.bool,disableRowSelectionOnClick:B.bool,disableVirtualization:B.bool,editMode:B.oneOf(["cell","row"]),estimatedRowCount:B.number,experimentalFeatures:B.shape({warnIfFocusStateIsNotSynced:B.bool}),filterDebounceMs:B.number,filterMode:B.oneOf(["client","server"]),filterModel:B.shape({items:B.arrayOf(B.shape({field:B.string.isRequired,id:B.oneOfType([B.number,B.string]),operator:B.string.isRequired,value:B.any})).isRequired,logicOperator:B.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:B.bool,quickFilterLogicOperator:B.oneOf(["and","or"]),quickFilterValues:B.array}),getCellClassName:B.func,getDetailPanelContent:B.func,getEstimatedRowHeight:B.func,getRowClassName:B.func,getRowHeight:B.func,getRowId:B.func,getRowSpacing:B.func,hideFooter:B.bool,hideFooterPagination:B.bool,hideFooterSelectedRowCount:B.bool,ignoreDiacritics:B.bool,ignoreValueFormatterDuringExport:B.oneOfType([B.shape({clipboardExport:B.bool,csvExport:B.bool}),B.bool]),initialState:B.object,isCellEditable:B.func,isRowSelectable:B.func,keepNonExistentRowsSelected:B.bool,label:B.string,loading:B.bool,localeText:B.object,logger:B.shape({debug:B.func.isRequired,error:B.func.isRequired,info:B.func.isRequired,warn:B.func.isRequired}),logLevel:B.oneOf(["debug","error","info","warn",!1]),nonce:B.string,onCellClick:B.func,onCellDoubleClick:B.func,onCellEditStart:B.func,onCellEditStop:B.func,onCellKeyDown:B.func,onCellModesModelChange:B.func,onClipboardCopy:B.func,onColumnHeaderClick:B.func,onColumnHeaderContextMenu:B.func,onColumnHeaderDoubleClick:B.func,onColumnHeaderEnter:B.func,onColumnHeaderLeave:B.func,onColumnHeaderOut:B.func,onColumnHeaderOver:B.func,onColumnOrderChange:B.func,onColumnResize:B.func,onColumnVisibilityModelChange:B.func,onColumnWidthChange:B.func,onDataSourceError:B.func,onDensityChange:B.func,onFilterModelChange:B.func,onMenuClose:B.func,onMenuOpen:B.func,onPaginationMetaChange:B.func,onPaginationModelChange:B.func,onPreferencePanelClose:B.func,onPreferencePanelOpen:B.func,onProcessRowUpdateError:B.func,onResize:B.func,onRowClick:B.func,onRowCountChange:B.func,onRowDoubleClick:B.func,onRowEditStart:B.func,onRowEditStop:B.func,onRowModesModelChange:B.func,onRowSelectionModelChange:B.func,onSortModelChange:B.func,onStateChange:B.func,pageSizeOptions:B.arrayOf(B.oneOfType([B.number,B.shape({label:B.string.isRequired,value:B.number.isRequired})]).isRequired),pagination:B.oneOf([!0]),paginationMeta:B.shape({hasNextPage:B.bool}),paginationMode:B.oneOf(["client","server"]),paginationModel:B.shape({page:B.number.isRequired,pageSize:B.number.isRequired}),processRowUpdate:B.func,resizeThrottleMs:B.number,rowBufferPx:B.number,rowCount:B.number,rowHeight:B.number,rowModesModel:B.object,rows:B.arrayOf(B.object),rowSelection:B.bool,rowSelectionModel:B.shape({ids:B.instanceOf(Set).isRequired,type:B.oneOf(["exclude","include"]).isRequired}),rowSpacingType:B.oneOf(["border","margin"]),rowSpanning:B.bool,scrollbarSize:B.number,showCellVerticalBorder:B.bool,showColumnVerticalBorder:B.bool,showToolbar:B.bool,slotProps:B.object,slots:B.object,sortingMode:B.oneOf(["client","server"]),sortingOrder:B.arrayOf(B.oneOf(["asc","desc"])),sortModel:B.arrayOf(B.shape({field:B.string.isRequired,sort:B.oneOf(["asc","desc"])})),style:B.object,sx:B.oneOfType([B.arrayOf(B.oneOfType([B.func,B.object,B.bool])),B.func,B.object]),virtualizeColumnsWithAutoRowHeight:B.bool};const Qt=`${vu}/api`;class g0{async getTimesheets(t={}){try{const n=new URLSearchParams;Object.keys(t).forEach(s=>{t[s]!==void 0&&t[s]!==null&&t[s]!==""&&n.append(s,t[s])});const o=`${Qt}/timesheets${n.toString()?"?"+n.toString():""}`;console.log("ðŸ• Fetching timesheets from:",o);const r=await fetch(o,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),l=await r.json();if(!r.ok)throw new Error(l.message||"Failed to fetch timesheets");return l}catch(n){throw console.error("âŒ Error fetching timesheets:",n),n}}async getTimesheetById(t){try{const n=await fetch(`${Qt}/timesheets/${t}`,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to fetch timesheet");return o}catch(n){throw console.error("âŒ Error fetching timesheet:",n),n}}async createTimesheet(t){try{console.log("ðŸ• Creating timesheet with data:",t);const n=await fetch(`${Qt}/timesheets`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to create timesheet");return o}catch(n){throw console.error("âŒ Error creating timesheet:",n),n}}async updateTimesheet(t,n){try{console.log("ðŸ• Updating timesheet:",t,n);const o=await fetch(`${Qt}/timesheets/${t}`,{method:"PUT",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),r=await o.json();if(!o.ok)throw new Error(r.message||"Failed to update timesheet");return r}catch(o){throw console.error("âŒ Error updating timesheet:",o),o}}async submitTimesheet(t){try{console.log("ðŸ• Submitting timesheet:",t);const n=await fetch(`${Qt}/timesheets/${t}/submit`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to submit timesheet");return o}catch(n){throw console.error("âŒ Error submitting timesheet:",n),n}}async approveTimesheet(t){try{console.log("ðŸ• Approving timesheet:",t);const n=await fetch(`${Qt}/timesheets/${t}/approve`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to approve timesheet");return o}catch(n){throw console.error("âŒ Error approving timesheet:",n),n}}async rejectTimesheet(t,n){try{console.log("ðŸ• Rejecting timesheet:",t,n);const o=await fetch(`${Qt}/timesheets/${t}/reject`,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({rejection_reason:n})}),r=await o.json();if(!o.ok)throw new Error(r.message||"Failed to reject timesheet");return r}catch(o){throw console.error("âŒ Error rejecting timesheet:",o),o}}async deleteTimesheet(t){try{console.log("ðŸ• Deleting timesheet:",t);const n=await fetch(`${Qt}/timesheets/${t}`,{method:"DELETE",credentials:"include",headers:{"Content-Type":"application/json"}}),o=await n.json();if(!n.ok)throw new Error(o.message||"Failed to delete timesheet");return o}catch(n){throw console.error("âŒ Error deleting timesheet:",n),n}}async getEmployeeSummary(t,n=null,o=null){try{const r=new URLSearchParams;n&&r.append("month",n),o&&r.append("year",o);const l=`${Qt}/timesheets/employee/${t}/summary${r.toString()?"?"+r.toString():""}`,s=await fetch(l,{method:"GET",credentials:"include",headers:{"Content-Type":"application/json"}}),c=await s.json();if(!s.ok)throw new Error(c.message||"Failed to fetch employee summary");return c}catch(r){throw console.error("âŒ Error fetching employee summary:",r),r}}formatTimeForAPI(t){return t?t.length===5?`${t}:00`:t:null}formatDateForAPI(t){return t?t instanceof Date?t.toISOString().split("T")[0]:t:null}calculateTotalHours(t,n,o=0){if(!t||!n)return 0;try{const r=new Date(`2000-01-01T${t}`),c=(new Date(`2000-01-01T${n}`)-r)/(1e3*60*60),a=o/60;return Math.max(0,c-a)}catch(r){return console.error("Error calculating total hours:",r),0}}}const wl=new g0,m0=({open:e,onClose:t,onSave:n})=>{const o=JSON.parse(localStorage.getItem("user")||"{}"),[r,l]=d.useState({employee_id:"",role:"",first_name:"",last_name:""}),[s,c]=d.useState({date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",break_start:"",break_end:"",work_done:"",project_id:null}),[a,u]=d.useState({}),[f,h]=d.useState(!1),[g,p]=d.useState(!1);d.useEffect(()=>{e&&o&&(l({employee_id:o.employeeId||o.employee_id||"",role:o.role||"Employee",first_name:o.firstName||o.first_name||"",last_name:o.lastName||o.last_name||""}),c(I=>({...I,date:new Date().toISOString().split("T")[0]})))},[e,o]);const w=(I,k)=>{c(L=>({...L,[I]:k})),a[I]&&u(L=>({...L,[I]:""}))},C=I=>{const L=new Date().toTimeString().slice(0,5);w(I,L)},b=()=>{if(s.break_start&&s.break_end){const I=new Date(`2000-01-01T${s.break_start}:00`),L=(new Date(`2000-01-01T${s.break_end}:00`)-I)/(1e3*60);return Math.max(0,L)}return 0},x=()=>{if(s.start_time&&s.end_time){const I=new Date(`2000-01-01T${s.start_time}:00`),L=(new Date(`2000-01-01T${s.end_time}:00`)-I)/(1e3*60*60),v=b();return Math.max(0,L-v/60)}return 0},F=()=>{var k;const I={};return r.employee_id||(I.employee_id="Employee information not found. Please re-login."),s.date||(I.date="Date is required"),s.start_time||(I.start_time="Start time is required"),s.end_time||(I.end_time="End time is required"),(k=s.work_done)!=null&&k.trim()||(I.work_done="Work description is required"),s.start_time&&s.end_time&&s.start_time>=s.end_time&&(I.end_time="End time must be after start time"),s.break_start&&s.break_end&&s.break_start>=s.break_end&&(I.break_end="Break end time must be after break start time"),u(I),Object.keys(I).length===0},j=async I=>{if(I.preventDefault(),!!F()){h(!0);try{const k=b(),L={date:s.date,start_time:s.start_time,end_time:s.end_time,break_duration:k,work_done:s.work_done.trim(),status:"draft"};console.log("Creating timesheet for employee:",r.employee_id),console.log("Timesheet data:",L);const v=await wl.createTimesheet(L);v.success&&(p(!0),setTimeout(()=>{n==null||n(v.data),t(),p(!1),c({date:new Date().toISOString().split("T")[0],start_time:"",end_time:"",break_start:"",break_end:"",work_done:"",project_id:null})},1500))}catch(k){console.error("Error creating timesheet:",k),u({submit:k.message||"Failed to create timesheet"})}finally{h(!1)}}},T=()=>{t(),u({}),p(!1)};return i.jsx(Ir,{fullScreen:!0,open:e,onClose:T,PaperProps:{sx:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"}},children:i.jsxs(Le,{sx:{minHeight:"100vh",display:"flex",flexDirection:"column",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:[i.jsxs(Le,{sx:{bgcolor:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",borderBottom:"3px solid #667eea",p:3,display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"},children:[i.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2},children:[i.jsx(Zi,{sx:{bgcolor:"#667eea",width:56,height:56,boxShadow:"0 4px 12px rgba(102, 126, 234, 0.3)"},children:i.jsx(Eo,{sx:{fontSize:32,color:"white"}})}),i.jsxs(Le,{children:[i.jsx(Z,{variant:"h4",sx:{fontWeight:"bold",background:"linear-gradient(45deg, #667eea, #764ba2)",backgroundClip:"text",color:"transparent",mb:.5},children:"Create Timesheet"}),i.jsxs(Z,{variant:"h6",sx:{color:"#64748b",display:"flex",alignItems:"center",gap:1},children:[i.jsx(wn,{sx:{fontSize:20}}),"Track your daily work hours and activities"]})]})]}),i.jsx(ht,{onClick:T,sx:{color:"#667eea",minWidth:"auto",p:1,"&:hover":{bgcolor:"rgba(102, 126, 234, 0.1)",transform:"scale(1.1)"}},children:i.jsx(Tu,{sx:{fontSize:30}})})]}),i.jsx(Le,{sx:{flex:1,p:4,display:"flex",justifyContent:"center",alignItems:"flex-start"},children:i.jsx(xt,{sx:{maxWidth:800,width:"100%",p:4,borderRadius:3,background:"rgba(255,255,255,0.95)",backdropFilter:"blur(10px)",boxShadow:"0 20px 40px rgba(0,0,0,0.1)",border:"1px solid rgba(255,255,255,0.2)"},children:i.jsxs("form",{onSubmit:j,children:[g&&i.jsx(Yn,{severity:"success",sx:{mb:3},children:"Timesheet created successfully! ðŸŽ‰"}),a.submit&&i.jsx(Yn,{severity:"error",sx:{mb:3},children:a.submit}),i.jsxs(Le,{sx:{mb:4},children:[i.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[i.jsx(ra,{sx:{color:"#667eea",fontSize:28}}),i.jsx(Z,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Employee Information"}),i.jsx(Qn,{label:"Auto-filled",size:"small",sx:{bgcolor:"#e6fffa",color:"#38a169",fontWeight:"bold"}})]}),i.jsx(Vn,{sx:{mb:3,borderColor:"#667eea",borderWidth:1}}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsx(lt,{label:"Employee ID",value:r.employee_id||"Not Found",disabled:!0,fullWidth:!0,error:!!a.employee_id,helperText:a.employee_id,InputProps:{startAdornment:i.jsx(kf,{sx:{color:"#667eea",mr:1}})},sx:{"& .MuiOutlinedInput-root":{backgroundColor:r.employee_id?"#f0fff4":"#fef2f2","& fieldset":{borderColor:r.employee_id?"#38a169":"#e53e3e",borderWidth:2}}}})}),i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2,height:"56px"},children:[i.jsx(ea,{sx:{color:"#667eea"}}),i.jsxs(Le,{children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Role"}),i.jsx(Qn,{label:r.role||"Unknown",variant:"outlined",sx:{borderColor:"#667eea",color:"#667eea",fontWeight:"bold",textTransform:"capitalize"}})]})]})}),i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsx(lt,{label:"Full Name",value:`${r.first_name} ${r.last_name}`.trim()||"Unknown",disabled:!0,fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"#f8fafc","& fieldset":{borderColor:"#e2e8f0"}}}})})]})]}),i.jsxs(Le,{sx:{mb:4},children:[i.jsxs(Le,{sx:{display:"flex",alignItems:"center",gap:2,mb:3},children:[i.jsx(Eo,{sx:{color:"#667eea",fontSize:28}}),i.jsx(Z,{variant:"h6",sx:{fontWeight:"bold",color:"#2d3748"},children:"Date & Time"})]}),i.jsx(Vn,{sx:{mb:3,borderColor:"#667eea",borderWidth:1}}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsx(lt,{label:"Date",type:"date",value:s.date,onChange:I=>w("date",I.target.value),required:!0,fullWidth:!0,InputLabelProps:{shrink:!0},error:!!a.date,helperText:a.date,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#667eea",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#667eea",borderWidth:2}}}})}),i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsxs(Le,{sx:{position:"relative"},children:[i.jsx(lt,{label:"Time In",type:"time",value:s.start_time,onChange:I=>w("start_time",I.target.value),required:!0,fullWidth:!0,error:!!a.start_time,helperText:a.start_time,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#48bb78",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#48bb78",borderWidth:2}}}}),i.jsx(ht,{size:"small",onClick:()=>C("start_time"),sx:{position:"absolute",right:8,top:8,minWidth:"auto",p:.5,color:"#48bb78"},children:i.jsx(wn,{fontSize:"small"})})]})}),i.jsx(re,{item:!0,xs:12,sm:4,children:i.jsxs(Le,{sx:{position:"relative"},children:[i.jsx(lt,{label:"Time Out",type:"time",value:s.end_time,onChange:I=>w("end_time",I.target.value),required:!0,fullWidth:!0,error:!!a.end_time,helperText:a.end_time,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#ed8936",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#ed8936",borderWidth:2}}}}),i.jsx(ht,{size:"small",onClick:()=>C("end_time"),sx:{position:"absolute",right:8,top:8,minWidth:"auto",p:.5,color:"#ed8936"},children:i.jsx(wn,{fontSize:"small"})})]})})]})]}),i.jsxs(Le,{sx:{mb:4},children:[i.jsx(Z,{variant:"h6",sx:{mb:2,color:"#2d3748",display:"flex",alignItems:"center",gap:1},children:"ðŸ½ï¸ Break Time (Optional)"}),i.jsx(Vn,{sx:{mb:3,borderColor:"#f59e0b",borderWidth:1}}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsxs(Le,{sx:{position:"relative"},children:[i.jsx(lt,{label:"Break Start",type:"time",value:s.break_start,onChange:I=>w("break_start",I.target.value),fullWidth:!0,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#f59e0b",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#f59e0b",borderWidth:2}}}}),i.jsx(ht,{size:"small",onClick:()=>C("break_start"),sx:{position:"absolute",right:8,top:8,minWidth:"auto",p:.5,color:"#f59e0b"},children:i.jsx(wn,{fontSize:"small"})})]})}),i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsxs(Le,{sx:{position:"relative"},children:[i.jsx(lt,{label:"Break End",type:"time",value:s.break_end,onChange:I=>w("break_end",I.target.value),fullWidth:!0,error:!!a.break_end,helperText:a.break_end,sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#f59e0b",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#f59e0b",borderWidth:2}}}}),i.jsx(ht,{size:"small",onClick:()=>C("break_end"),sx:{position:"absolute",right:8,top:8,minWidth:"auto",p:.5,color:"#f59e0b"},children:i.jsx(wn,{fontSize:"small"})})]})})]})]}),i.jsxs(Le,{sx:{mb:4},children:[i.jsx(Z,{variant:"h6",sx:{mb:2,color:"#2d3748",display:"flex",alignItems:"center",gap:1},children:"ðŸ’¼ Work Completed"}),i.jsx(Vn,{sx:{mb:3,borderColor:"#805ad5",borderWidth:1}}),i.jsx(lt,{label:"What did you work on today?",value:s.work_done,onChange:I=>w("work_done",I.target.value),multiline:!0,rows:4,fullWidth:!0,required:!0,error:!!a.work_done,helperText:a.work_done,placeholder:"Describe the tasks you completed, challenges faced, achievements, etc...",sx:{"& .MuiOutlinedInput-root":{"&:hover fieldset":{borderColor:"#805ad5",borderWidth:2},"&.Mui-focused fieldset":{borderColor:"#805ad5",borderWidth:2}}}})]}),s.start_time&&s.end_time&&i.jsxs(Le,{sx:{mb:4,p:3,bgcolor:"#f8fafc",borderRadius:2,border:"2px solid #e2e8f0"},children:[i.jsx(Z,{variant:"h6",sx:{mb:2,color:"#2d3748"},children:"ðŸ“Š Time Summary"}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsxs(re,{item:!0,xs:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Total Hours"}),i.jsxs(Z,{variant:"h6",sx:{color:"#667eea",fontWeight:"bold"},children:[x().toFixed(2)," hours"]})]}),i.jsxs(re,{item:!0,xs:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Break Duration"}),i.jsxs(Z,{variant:"h6",sx:{color:"#f59e0b",fontWeight:"bold"},children:[b()," minutes"]})]})]})]}),i.jsxs(Le,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pt:3,borderTop:"2px solid #e2e8f0"},children:[i.jsx(ht,{onClick:T,variant:"outlined",size:"large",sx:{borderColor:"#94a3b8",color:"#64748b",px:4,py:1.5},children:"Cancel"}),i.jsx(ht,{type:"submit",variant:"contained",size:"large",disabled:f||!r.employee_id,startIcon:i.jsx(Du,{}),sx:{background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",px:4,py:1.5,fontWeight:"bold","&:hover":{background:"linear-gradient(45deg, #5a67d8, #6b46c1)",transform:"translateY(-2px)",boxShadow:"0 8px 25px rgba(102, 126, 234, 0.3)"},"&:disabled":{background:"#94a3b8"}},children:f?"Creating...":"Create Timesheet"})]})]})})})]})})},p0=({open:e,timesheet:t,onClose:n,onSuccess:o})=>{const[r,l]=d.useState({date:"",time_in:"",time_out:"",break_start:"",break_end:"",notes:""}),[s,c]=d.useState({}),[a,u]=d.useState(!1),[f,h]=d.useState(""),g={}.VITE_API_URL||"http://localhost:5000";d.useEffect(()=>{t&&l({date:t.date||"",time_in:t.time_in||"",time_out:t.time_out||"",break_start:t.break_start||"",break_end:t.break_end||"",notes:t.notes||""})},[t]);const p=()=>{const{time_in:T,time_out:I,break_start:k,break_end:L}=r;if(!T||!I)return{regular:0,overtime:0};const v=new Date(`2000-01-01T${T}`),y=new Date(`2000-01-01T${I}`);let M=0;if(k&&L){const z=new Date(`2000-01-01T${k}`);M=(new Date(`2000-01-01T${L}`)-z)/(1e3*60*60)}const O=(y-v)/(1e3*60*60)-M,D=Math.min(O,8),$=Math.max(O-8,0);return{regular:D,overtime:$}},{regular:w,overtime:C}=p(),b=(T,I)=>{l(k=>({...k,[T]:I})),s[T]&&c(k=>({...k,[T]:""}))},x=()=>{const T={};if(r.date||(T.date="Date is required"),r.time_in||(T.time_in="Time in is required"),r.time_out||(T.time_out="Time out is required"),r.time_in&&r.time_out){const I=new Date(`2000-01-01T${r.time_in}`);new Date(`2000-01-01T${r.time_out}`)<=I&&(T.time_out="Time out must be after time in")}if(r.break_start&&r.break_end){const I=new Date(`2000-01-01T${r.break_start}`);new Date(`2000-01-01T${r.break_end}`)<=I&&(T.break_end="Break end must be after break start")}return c(T),Object.keys(T).length===0},F=async T=>{if(T.preventDefault(),!(!x()||!t)){u(!0),h("");try{const I={...r,total_hours:w+C},k=await fetch(`${g}/api/timesheets/${t.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(I)});if(!k.ok){const L=await k.json();throw new Error(L.message||"Failed to update timesheet")}o(),j()}catch(I){h(I.message)}finally{u(!1)}}},j=()=>{c({}),h(""),n()};return i.jsxs(Ir,{open:e,onClose:j,maxWidth:"md",fullWidth:!0,children:[i.jsx(vl,{children:"Update Timesheet"}),i.jsxs("form",{onSubmit:F,children:[i.jsxs(Il,{children:[f&&i.jsx(Yn,{severity:"error",sx:{mb:2},children:f}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsx(lt,{fullWidth:!0,label:"Date",type:"date",value:r.date,onChange:T=>b("date",T.target.value),error:!!s.date,helperText:s.date,InputLabelProps:{shrink:!0},margin:"normal"})}),i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsx(lt,{fullWidth:!0,label:"Time In",type:"time",value:r.time_in,onChange:T=>b("time_in",T.target.value),error:!!s.time_in,helperText:s.time_in,InputLabelProps:{shrink:!0},margin:"normal"})}),i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsx(lt,{fullWidth:!0,label:"Time Out",type:"time",value:r.time_out,onChange:T=>b("time_out",T.target.value),error:!!s.time_out,helperText:s.time_out,InputLabelProps:{shrink:!0},margin:"normal"})}),i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsx(lt,{fullWidth:!0,label:"Break Start",type:"time",value:r.break_start,onChange:T=>b("break_start",T.target.value),error:!!s.break_start,helperText:s.break_start,InputLabelProps:{shrink:!0},margin:"normal"})}),i.jsx(re,{item:!0,xs:12,sm:6,children:i.jsx(lt,{fullWidth:!0,label:"Break End",type:"time",value:r.break_end,onChange:T=>b("break_end",T.target.value),error:!!s.break_end,helperText:s.break_end,InputLabelProps:{shrink:!0},margin:"normal"})}),i.jsx(re,{item:!0,xs:12,children:i.jsx(lt,{fullWidth:!0,label:"Notes",multiline:!0,rows:3,value:r.notes,onChange:T=>b("notes",T.target.value),margin:"normal"})}),i.jsx(re,{item:!0,xs:12,children:i.jsxs(Le,{sx:{p:2,bgcolor:"background.paper",border:"1px solid",borderColor:"divider",borderRadius:1},children:[i.jsx(Z,{variant:"subtitle2",gutterBottom:!0,children:"Calculated Hours:"}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsx(re,{item:!0,xs:12,children:i.jsxs(Z,{variant:"body2",children:["Total Hours: ",i.jsx("strong",{children:(w+C).toFixed(2)})]})}),i.jsx(re,{item:!0,xs:6,children:i.jsxs(Z,{variant:"body2",children:["Regular Hours: ",i.jsx("strong",{children:w.toFixed(2)})]})}),i.jsx(re,{item:!0,xs:6,children:i.jsxs(Z,{variant:"body2",children:["Break Duration: ",i.jsxs("strong",{children:[r.break_duration||0," minutes"]})]})})]})]})})]})]}),i.jsxs(Ml,{children:[i.jsx(ht,{onClick:j,disabled:a,children:"Cancel"}),i.jsx(ht,{type:"submit",variant:"contained",disabled:a,startIcon:a&&i.jsx(ir,{size:20}),children:a?"Updating...":"Update Timesheet"})]})]})]})},b0=({open:e,timesheet:t,onClose:n})=>{if(!t)return null;const o=u=>{const h={draft:{color:"default",label:"Draft",icon:"ðŸ“"},submitted:{color:"primary",label:"Submitted",icon:"ðŸ“¤"},approved:{color:"success",label:"Approved",icon:"âœ…"},rejected:{color:"error",label:"Rejected",icon:"âŒ"},declined:{color:"error",label:"Declined",icon:"âŒ"},archived:{color:"secondary",label:"Archived",icon:"ðŸ“"}}[u]||{color:"default",label:u,icon:"â“"};return i.jsx(Qn,{label:`${h.icon} ${h.label}`,color:h.color,size:"medium",sx:{fontWeight:"bold"}})},r=u=>u?new Date(u).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"}):"Not set",l=u=>u?new Date(`2000-01-01T${u}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}):"Not set",s=u=>u?new Date(u).toLocaleString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0}):"Not set",c=u=>{if(!u||u===0)return"No break";const f=Math.floor(u/60),h=u%60;return f>0?`${f}h ${h}m`:`${h} minutes`},a=()=>{if(!t.start_time||!t.end_time)return"N/A";const u=new Date(`2000-01-01T${t.start_time}`),h=(new Date(`2000-01-01T${t.end_time}`)-u)/(1e3*60),g=t.break_duration||0,p=h-g,w=Math.floor(p/60),C=p%60;return`${w}h ${C}m`};return i.jsxs(Ir,{open:e,onClose:n,maxWidth:"lg",fullWidth:!0,children:[i.jsxs(vl,{children:[i.jsxs(Le,{display:"flex",justifyContent:"space-between",alignItems:"center",sx:{pb:2},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,children:[i.jsx(Eo,{sx:{fontSize:32,color:"primary.main"}}),i.jsxs(Le,{children:[i.jsx(Z,{variant:"h5",fontWeight:"bold",children:"Timesheet Details"}),i.jsx(Z,{variant:"subtitle1",color:"text.secondary",children:r(t.date)})]})]}),o(t.status)]}),i.jsx(Vn,{})]}),i.jsx(Il,{sx:{pt:3},children:i.jsxs(re,{container:!0,spacing:3,children:[i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,bgcolor:"background.default",border:"2px solid",borderColor:"primary.light",borderRadius:3},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,mb:2,children:[i.jsx(ra,{sx:{fontSize:28,color:"primary.main"}}),i.jsx(Z,{variant:"h6",fontWeight:"bold",children:"Employee Information"})]}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Full Name"}),i.jsxs(Z,{variant:"h6",fontWeight:"500",children:[t.first_name," ",t.last_name]})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Employee ID"}),i.jsxs(Z,{variant:"h6",fontWeight:"500",children:["#",t.employee_id]})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Email Address"}),i.jsx(Z,{variant:"body1",children:t.email})]})]})]})}),i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,bgcolor:"background.default",border:"2px solid",borderColor:"success.light",borderRadius:3},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,mb:2,children:[i.jsx(wn,{sx:{fontSize:28,color:"success.main"}}),i.jsx(Z,{variant:"h6",fontWeight:"bold",children:"Time Information"})]}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"ðŸ“… Date"}),i.jsx(Z,{variant:"h6",fontWeight:"500",children:r(t.date)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"ðŸ•˜ Start Time"}),i.jsx(Z,{variant:"h6",fontWeight:"500",color:"success.main",children:l(t.start_time)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"ðŸ•” End Time"}),i.jsx(Z,{variant:"h6",fontWeight:"500",color:"warning.main",children:l(t.end_time)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"â˜• Break Duration"}),i.jsx(Z,{variant:"h6",fontWeight:"500",children:c(t.break_duration)})]})]})]})}),i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,mb:2,children:[i.jsx(Eo,{sx:{fontSize:28,color:"white"}}),i.jsx(Z,{variant:"h6",fontWeight:"bold",color:"white",children:"Hours Summary"})]}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.9},gutterBottom:!0,children:"Total Hours (Database)"}),i.jsxs(Z,{variant:"h4",fontWeight:"bold",children:[parseFloat(t.total_hours||0).toFixed(2),"h"]})]}),i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.9},gutterBottom:!0,children:"Working Hours (Calculated)"}),i.jsx(Z,{variant:"h4",fontWeight:"bold",children:a()})]}),i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.9},gutterBottom:!0,children:"Break Time"}),i.jsx(Z,{variant:"h4",fontWeight:"bold",children:c(t.break_duration)})]})]})]})}),i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,bgcolor:"background.default",border:"2px solid",borderColor:"info.light",borderRadius:3},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,mb:2,children:[i.jsx(ea,{sx:{fontSize:28,color:"info.main"}}),i.jsx(Z,{variant:"h6",fontWeight:"bold",children:"Work Description"})]}),i.jsx(Z,{variant:"body1",sx:{whiteSpace:"pre-wrap",bgcolor:"grey.50",p:2,borderRadius:2,border:"1px solid",borderColor:"grey.200"},children:t.work_done||"No description provided"})]})}),(t.approved_at||t.rejection_reason)&&i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,bgcolor:t.status==="approved"?"success.light":"error.light",borderRadius:3},children:[i.jsx(Z,{variant:"h6",fontWeight:"bold",gutterBottom:!0,children:"Approval Information"}),i.jsxs(re,{container:!0,spacing:2,children:[t.approver_first_name&&i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",children:"Reviewed By"}),i.jsxs(Z,{variant:"body1",fontWeight:"500",children:[t.approver_first_name," ",t.approver_last_name]})]}),t.approved_at&&i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",children:"Approved At"}),i.jsx(Z,{variant:"body1",fontWeight:"500",children:s(t.approved_at)})]}),t.rejection_reason&&i.jsxs(re,{item:!0,xs:12,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",children:"Rejection Reason"}),i.jsx(Z,{variant:"body1",sx:{whiteSpace:"pre-wrap",bgcolor:"rgba(255,255,255,0.7)",p:2,borderRadius:1,mt:1},children:t.rejection_reason})]})]})]})}),i.jsx(re,{item:!0,xs:12,children:i.jsxs(xt,{sx:{p:3,bgcolor:"background.default",border:"2px solid",borderColor:"grey.300",borderRadius:3},children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,mb:2,children:[i.jsx(Tf,{sx:{fontSize:28,color:"grey.600"}}),i.jsx(Z,{variant:"h6",fontWeight:"bold",children:"Timeline"})]}),i.jsxs(re,{container:!0,spacing:3,children:[i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Created"}),i.jsx(Z,{variant:"body1",fontWeight:"500",children:s(t.created_at)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Last Updated"}),i.jsx(Z,{variant:"body1",fontWeight:"500",children:s(t.updated_at)})]}),t.submitted_at&&i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Submitted"}),i.jsx(Z,{variant:"body1",fontWeight:"500",color:"primary.main",children:s(t.submitted_at)})]}),t.approved_at&&i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,children:"Approved"}),i.jsx(Z,{variant:"body1",fontWeight:"500",color:"success.main",children:s(t.approved_at)})]})]})]})})]})}),i.jsx(Ml,{sx:{p:3,bgcolor:"grey.50"},children:i.jsx(ht,{onClick:n,variant:"contained",size:"large",sx:{px:4,py:1.5,fontWeight:"bold",background:"linear-gradient(45deg, #667eea, #764ba2)","&:hover":{background:"linear-gradient(45deg, #5a67d8, #6b46c1)"}},children:"Close"})})]})},C0=({open:e,timesheet:t,onClose:n,onSuccess:o})=>{const[r,l]=d.useState(""),[s,c]=d.useState(!1),[a,u]=d.useState(""),f={}.VITE_API_URL||"http://localhost:5000";if(!t)return null;const h=async C=>{c(!0),u("");try{const b=C==="approved"?"approve":"reject",x=await fetch(`${f}/api/timesheets/${t.id}/${b}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({rejection_reason:C==="rejected"?r:void 0})});if(!x.ok){const F=await x.json();throw new Error(F.message||`Failed to ${C} timesheet`)}o(C),g()}catch(b){u(b.message)}finally{c(!1)}},g=()=>{l(""),u(""),n()},p=C=>C?new Date(`2000-01-01T${C}`).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"Not set",w=C=>new Date(C).toLocaleDateString();return i.jsxs(Ir,{open:e,onClose:g,maxWidth:"md",fullWidth:!0,children:[i.jsx(vl,{children:i.jsxs(Le,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i.jsx(Z,{variant:"h6",children:"Review Timesheet"}),i.jsx(Qn,{label:"Pending Review",color:"primary",size:"small"})]})}),i.jsxs(Il,{children:[a&&i.jsx(Yn,{severity:"error",sx:{mb:2},children:a}),i.jsxs(xt,{sx:{p:2,mb:3,bgcolor:"background.default"},children:[i.jsx(Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Timesheet Summary"}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Employee"}),i.jsxs(Z,{variant:"body1",children:[t.first_name," ",t.last_name]})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Department"}),i.jsx(Z,{variant:"body1",children:t.department||"Not specified"})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Date"}),i.jsx(Z,{variant:"body1",children:w(t.date)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Submitted"}),i.jsx(Z,{variant:"body1",children:t.submitted_at?new Date(t.submitted_at).toLocaleString():"Not submitted"})]})]})]}),i.jsxs(xt,{sx:{p:2,mb:3,bgcolor:"background.default"},children:[i.jsx(Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Time Details"}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Start Time"}),i.jsx(Z,{variant:"body1",children:p(t.start_time)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"End Time"}),i.jsx(Z,{variant:"body1",children:p(t.end_time)})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Break Duration"}),i.jsxs(Z,{variant:"body1",children:[t.break_duration||0," minutes"]})]}),i.jsxs(re,{item:!0,xs:12,sm:6,children:[i.jsx(Z,{variant:"body2",color:"textSecondary",children:"Total Hours"}),i.jsxs(Z,{variant:"body1",children:[t.total_hours||0," hours"]})]})]})]}),i.jsxs(xt,{sx:{p:2,mb:3,bgcolor:"primary.light",color:"primary.contrastText"},children:[i.jsx(Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Hours Summary"}),i.jsxs(re,{container:!0,spacing:2,children:[i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.8},children:"Total Hours"}),i.jsx(Z,{variant:"h6",children:parseFloat(t.total_hours||0).toFixed(2)})]}),i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.8},children:"Break Time"}),i.jsxs(Z,{variant:"h6",children:[parseFloat(t.break_duration||0)," min"]})]}),i.jsxs(re,{item:!0,xs:12,sm:4,children:[i.jsx(Z,{variant:"body2",sx:{opacity:.8},children:"Status"}),i.jsx(Z,{variant:"h6",children:t.status})]})]})]}),t.work_done&&i.jsxs(xt,{sx:{p:2,mb:3,bgcolor:"background.default"},children:[i.jsx(Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Work Done"}),i.jsx(Z,{variant:"body1",sx:{whiteSpace:"pre-wrap"},children:t.work_done})]}),i.jsxs(xt,{sx:{p:2,mb:3},children:[i.jsx(Z,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Admin Review Notes"}),i.jsx(lt,{fullWidth:!0,multiline:!0,rows:4,value:r,onChange:C=>l(C.target.value),placeholder:"Add notes about your review decision (required for rejection)...",variant:"outlined"})]})]}),i.jsxs(Ml,{children:[i.jsx(ht,{onClick:g,disabled:s,children:"Cancel"}),i.jsx(ht,{onClick:()=>h("rejected"),disabled:s,color:"error",variant:"outlined",startIcon:s?i.jsx(ir,{size:20}):i.jsx(Ef,{}),children:s?"Processing...":"Decline"}),i.jsx(ht,{onClick:()=>h("approved"),disabled:s,color:"success",variant:"contained",startIcon:s?i.jsx(ir,{size:20}):i.jsx(Qo,{}),children:s?"Processing...":"Approve"})]})]})},Ui=({permission:e,timesheet:t=null,children:n,fallback:o=null})=>{const r=Ki(),l=r==null?void 0:r.id;return(()=>{switch(e){case"create":return Ji();case"view_own":return Pu();case"view_all":return Qi();case"approve":return Yi();case"reject":return Mu();case"edit_all":return Xi();case"view_timesheet":return t?Iu(t,l):!1;case"edit_timesheet":return t?qi(t,l):!1;default:return!1}})()?n:o},nP=()=>{d.useState(0);const[e,t]=d.useState([]),[n,o]=d.useState(!1),[r,l]=d.useState(""),[s,c]=d.useState(""),[a,u]=d.useState(""),[f,h]=d.useState(null),[g,p]=d.useState({status:"",startDate:"",endDate:"",employeeId:""}),[w,C]=d.useState({total_timesheets:0,submitted_count:0,approved_count:0,declined_count:0,archived_count:0,total_regular_hours:0,total_overtime_hours:0,draft_count:0}),b=Ki(),x=Ji(),F=Qi(),j=Yi(),T=Xi(),I=qi,k=b,L=ku();console.log("ðŸ” TimeSheet Permissions:",{canCreate:x,canViewAll:F,canApprove:j,canEditAll:T,canEditOwn:I,isUserSuperAdmin:L,userRole:k==null?void 0:k.role,userId:k==null?void 0:k.id,userEmployeeId:(k==null?void 0:k.employee_id)||(k==null?void 0:k.employeeId)});const v={}.VITE_API_URL||"http://localhost:5000",y=async()=>{o(!0),l("");try{const H={};g.status&&(H.status=g.status),g.startDate&&(H.date_from=g.startDate),g.endDate&&(H.date_to=g.endDate),g.employeeId&&F&&(H.employee_id=g.employeeId),console.log("ðŸ” Fetching timesheets with filters:",H);const P=await wl.getTimesheets(H);if(console.log("ðŸ“¦ Raw API response:",P),P.success){const E=(P.data||P.timesheets||[]).map(_=>({..._,id:_.id,employee_name:`${_.first_name||""} ${_.last_name||""}`.trim()||"--"}));t(E);const G=M(E);C(G),console.log("âœ… Fetched timesheets:",E.length)}else throw new Error(P.message||"Failed to fetch timesheets")}catch(H){console.error("âŒ Error fetching timesheets:",H),l("Failed to fetch timesheets: "+H.message),t([])}finally{o(!1)}},M=H=>{const P={total_timesheets:H.length,draft_count:0,submitted_count:0,approved_count:0,declined_count:0,archived_count:0,total_regular_hours:0};return H.forEach(E=>{switch(E.status){case"draft":P.draft_count++;break;case"submitted":P.submitted_count++;break;case"approved":P.approved_count++;break;case"declined":case"rejected":P.declined_count++;break;case"archived":P.archived_count++;break}const G=parseFloat(E.total_hours||0);P.total_regular_hours+=G}),P},O=async()=>{if(F)try{const H=new URLSearchParams;g.startDate&&H.append("start_date",g.startDate),g.endDate&&H.append("end_date",g.endDate),g.employeeId&&H.append("employee_id",g.employeeId),console.log("ðŸ” Fetching stats with params:",H.toString());const P=await fetch(`${v}/api/timesheets/stats/summary?${H}`,{credentials:"include"});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const E=await P.json();E.success?(C(E.stats||{}),console.log("âœ… Fetched stats:",E.stats)):(console.warn("âš ï¸ Stats fetch returned no data"),C({}))}catch(H){console.error("âŒ Failed to fetch stats:",H),C({})}};d.useEffect(()=>{y()},[g]);const D=async H=>{try{o(!0);const P=await wl.submitTimesheet(H);c("Timesheet submitted for approval successfully!"),y()}catch(P){console.error("Error submitting timesheet:",P),l("Failed to submit timesheet: "+P.message)}finally{o(!1)}},$=async H=>{try{const P=await fetch(`${v}/api/timesheets/${H}/archive`,{method:"PATCH",credentials:"include"});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);c("Timesheet archived successfully"),y(),F&&O()}catch(P){l("Failed to archive timesheet: "+P.message)}},z=[{field:"date",headerName:"Date",width:120,headerAlign:"center",align:"center"},{field:"employee_id",headerName:"Employee ID",width:120,headerAlign:"center",align:"center"},{field:"start_time",headerName:"Start Time",width:120,headerAlign:"center",align:"center"},{field:"end_time",headerName:"End Time",width:120,headerAlign:"center",align:"center"},{field:"total_hours",headerName:"Total Hours",width:120,headerAlign:"center",align:"center"},{field:"status",headerName:"Status",width:120,headerAlign:"center",align:"center"},{field:"actions",headerName:"Actions",width:200,sortable:!1,renderCell:H=>{if(!H||!H.row)return null;const P=H.row,E=(T||I&&P.employee_id===k.employee_id)&&["draft","declined"].includes(P.status),G=x&&["draft","declined"].includes(P.status)&&P.employee_id===k.employee_id,_=j&&P.status==="submitted",R=T&&["approved","declined"].includes(P.status);return i.jsxs(Le,{children:[i.jsx(Gn,{title:"View",children:i.jsx(Nt,{size:"small",onClick:()=>{h(P),u("view")},children:i.jsx(Zu,{})})}),E&&i.jsx(Gn,{title:"Edit",children:i.jsx(Nt,{size:"small",onClick:()=>{h(P),u("edit")},children:i.jsx(Ff,{})})}),G&&i.jsx(Gn,{title:"Submit",children:i.jsx(Nt,{size:"small",color:"primary",onClick:()=>{D(P.id)},children:i.jsx(Qo,{})})}),_&&i.jsx(Gn,{title:"Review",children:i.jsx(Nt,{size:"small",color:"warning",onClick:()=>{h(P),u("review")},children:i.jsx(Qo,{})})}),R&&i.jsx(Gn,{title:"Archive",children:i.jsx(Nt,{size:"small",onClick:()=>{$(P.id)},children:i.jsx(Pf,{})})})]})}}];return i.jsx(Eu,{title:"Timesheets",description:"Manage employee timesheets",children:i.jsxs(Le,{children:[i.jsx(xt,{sx:{p:4,mb:3,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:3,boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:i.jsxs(Le,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[i.jsxs(Le,{display:"flex",alignItems:"center",gap:2,children:[i.jsx(Zi,{sx:{bgcolor:"rgba(255,255,255,0.2)",width:56,height:56,backdropFilter:"blur(10px)"},children:i.jsx(Eo,{sx:{fontSize:32,color:"white"}})}),i.jsxs(Le,{children:[i.jsx(Z,{variant:"h3",sx:{fontWeight:"bold",textShadow:"2px 2px 4px rgba(0,0,0,0.3)",mb:1},children:"Timesheets"}),i.jsxs(Z,{variant:"h6",sx:{opacity:.9,display:"flex",alignItems:"center",gap:1},children:[i.jsx(Fu,{sx:{fontSize:20}}),"Track and manage employee working hours"]})]})]}),i.jsxs(Le,{display:"flex",gap:2,children:[i.jsx(ht,{variant:"outlined",startIcon:i.jsx(Df,{}),onClick:()=>{y(),F&&O()},sx:{color:"white",borderColor:"rgba(255,255,255,0.5)","&:hover":{borderColor:"white",backgroundColor:"rgba(255,255,255,0.1)"}},children:"Refresh"}),i.jsx(Ui,{permission:"create",children:i.jsx(ht,{variant:"contained",startIcon:i.jsx(ju,{}),onClick:()=>u("create"),sx:{bgcolor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)","&:hover":{bgcolor:"rgba(255,255,255,0.3)"}},children:"New Timesheet"})})]})]})}),w&&i.jsxs(re,{container:!0,spacing:3,mb:3,children:[i.jsx(re,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(Hn,{sx:{p:3,textAlign:"center",background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",height:"140px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[i.jsx(wn,{sx:{fontSize:40,mb:1,opacity:.8}}),i.jsx(Z,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:w.total_timesheets||0}),i.jsx(Z,{variant:"body2",sx:{opacity:.9},children:"Total Timesheets"})]})}),i.jsx(re,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(Hn,{sx:{p:3,textAlign:"center",background:"linear-gradient(135deg, #9e9e9e 0%, #757575 100%)",color:"white",borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",height:"140px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[i.jsx(hs,{sx:{fontSize:40,mb:1,opacity:.8}}),i.jsx(Z,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:w.draft_count||0}),i.jsx(Z,{variant:"body2",sx:{opacity:.9},children:"Draft"})]})}),i.jsx(re,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(Hn,{sx:{p:3,textAlign:"center",background:"linear-gradient(135deg, #ff9800 0%, #f57c00 100%)",color:"white",borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",height:"140px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[i.jsx(hs,{sx:{fontSize:40,mb:1,opacity:.8}}),i.jsx(Z,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:w.submitted_count||0}),i.jsx(Z,{variant:"body2",sx:{opacity:.9},children:"Pending Review"})]})}),i.jsx(re,{item:!0,xs:12,sm:6,md:3,children:i.jsxs(Hn,{sx:{p:3,textAlign:"center",background:"linear-gradient(135deg, #4caf50 0%, #388e3c 100%)",color:"white",borderRadius:2,boxShadow:"0 4px 20px rgba(0,0,0,0.1)",height:"140px",display:"flex",flexDirection:"column",justifyContent:"center"},children:[i.jsx(Qo,{sx:{fontSize:40,mb:1,opacity:.8}}),i.jsx(Z,{variant:"h4",sx:{fontWeight:"bold",mb:1},children:w.approved_count||0}),i.jsx(Z,{variant:"body2",sx:{opacity:.9},children:"Approved"})]})})]}),i.jsx(Hn,{sx:{p:2,mb:3},children:i.jsxs(re,{container:!0,spacing:2,alignItems:"center",children:[i.jsx(re,{item:!0,xs:12,sm:6,md:2,children:i.jsxs(na,{fullWidth:!0,size:"small",children:[i.jsx(oa,{children:"Status"}),i.jsxs(yl,{value:g.status,label:"Status",onChange:H=>p(P=>({...P,status:H.target.value})),children:[i.jsx(Zt,{value:"",children:"All"}),i.jsx(Zt,{value:"draft",children:"Draft"}),i.jsx(Zt,{value:"submitted",children:"Submitted"}),i.jsx(Zt,{value:"approved",children:"Approved"}),i.jsx(Zt,{value:"declined",children:"Declined"}),i.jsx(Zt,{value:"archived",children:"Archived"})]})]})}),i.jsx(re,{item:!0,xs:12,sm:6,md:2,children:i.jsx(lt,{fullWidth:!0,size:"small",type:"date",label:"Start Date",InputLabelProps:{shrink:!0},value:g.startDate,onChange:H=>p(P=>({...P,startDate:H.target.value}))})}),i.jsx(re,{item:!0,xs:12,sm:6,md:2,children:i.jsx(lt,{fullWidth:!0,size:"small",type:"date",label:"End Date",InputLabelProps:{shrink:!0},value:g.endDate,onChange:H=>p(P=>({...P,endDate:H.target.value}))})}),i.jsx(Ui,{permission:"view_all",children:i.jsx(re,{item:!0,xs:12,sm:6,md:2,children:i.jsx(lt,{fullWidth:!0,size:"small",label:"Employee ID",value:g.employeeId,onChange:H=>p(P=>({...P,employeeId:H.target.value}))})})}),i.jsx(re,{item:!0,children:i.jsx(ht,{variant:"outlined",onClick:()=>p({status:"",startDate:"",endDate:"",employeeId:""}),children:"Clear Filters"})})]})}),r&&i.jsx(Yn,{severity:"error",sx:{mb:2},children:r}),s&&i.jsx(Yn,{severity:"success",sx:{mb:2},children:s}),i.jsx(Hn,{sx:{borderRadius:3,overflow:"hidden",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:i.jsx(Le,{height:600,children:i.jsx(h0,{rows:e,columns:z,pageSize:25,rowsPerPageOptions:[10,25,50],loading:n,disableSelectionOnClick:!0,autoHeight:!0,sx:{"& .MuiDataGrid-root":{border:"none"},"& .MuiDataGrid-cell":{borderBottom:"1px solid #f0f0f0",fontSize:"0.9rem"},"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",borderBottom:"2px solid #e0e0e0",fontSize:"0.95rem",fontWeight:"bold","& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold",color:"#2d3748"}},"& .MuiDataGrid-row":{"&:hover":{backgroundColor:"#f8f9fa"}},"& .MuiDataGrid-footerContainer":{borderTop:"2px solid #e0e0e0",backgroundColor:"#f8f9fa"}}})})}),i.jsx(m0,{open:a==="create",onClose:()=>u(""),onSuccess:()=>{u(""),c("Timesheet created successfully"),y()}}),i.jsx(p0,{open:a==="edit",timesheet:f,onClose:()=>u(""),onSuccess:()=>{u(""),c("Timesheet updated successfully"),y()}}),i.jsx(b0,{open:a==="view",timesheet:f,onClose:()=>u("")}),i.jsx(C0,{open:a==="review",timesheet:f,onClose:()=>u(""),onSuccess:H=>{u(""),c(`Timesheet ${H} successfully`),y(),F&&O()}})]})})};export{nP as default};
