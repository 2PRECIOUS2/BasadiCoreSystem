import{s as N,j as e,r,T as a,B as x,q as R,L as k}from"./index-7f2a5a5c.js";import{P as A}from"./PageContainer-5b987cfc.js";import{L}from"./Logo-9a4ad21a.js";import{T as P}from"./TextField-b5c10dbe.js";import{c as T,S as M}from"./Stack-c4449878.js";import{F as B,I as E,S as O,A as z}from"./Select-d37c91fa.js";import{b as n}from"./MenuItem-e27c57ab.js";import{C as q}from"./CircularProgress-1de20e04.js";import{G as W,C as D}from"./Grid-bb9fb0fd.js";import"./index-b8c9c791.js";import"./index-40b498ea.js";import"./useThemeProps-9087c27b.js";const G=T(),$=G,l=N(i=>e.jsx(P,{...i}))(({theme:i})=>({"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:i.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:i.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:i.palette.grey[200]}})),J=({title:i,subtitle:w,subtext:F})=>{const[c,g]=r.useState(""),[d,f]=r.useState(""),[u,b]=r.useState(""),[m,j]=r.useState(""),[p,y]=r.useState(""),[v,S]=r.useState(!1),[h,s]=r.useState(null);r.useState(""),r.useState("");const I=async t=>{if(t.preventDefault(),s(null),!c||!d||!u||!m||!p){s({type:"error",text:"Please fill in all fields and select a role."}),S(!1);return}try{const o=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:c,lastName:d,email:u,password:m,role:p})}),C=await o.json();o.ok?(s({type:"success",text:C.message}),g(""),f(""),b(""),j(""),y("")):s({type:"error",text:C.message||"Registration failed."})}catch(o){console.error("Error during registration request:",o),s({type:"error",text:"Failed to connect to the server. Please try again later."})}finally{S(!1)}};return e.jsxs(e.Fragment,{children:[i?e.jsx(a,{fontWeight:"700",variant:"h2",mb:1,children:i}):null,F,e.jsxs(x,{component:"form",onSubmit:I,children:[e.jsxs($,{mb:3,children:[e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"firstName",mb:"5px",children:"First Name"}),e.jsx(l,{id:"firstName",variant:"outlined",fullWidth:!0,value:c,onChange:t=>g(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"lastName",mb:"5px",mt:"25px",children:"Last Name"}),e.jsx(l,{id:"lastName",variant:"outlined",fullWidth:!0,value:d,onChange:t=>f(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"email",mb:"5px",mt:"25px",children:"Email Address"}),e.jsx(l,{id:"email",variant:"outlined",fullWidth:!0,value:u,onChange:t=>b(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",mt:"25px",children:"Password"}),e.jsx(l,{id:"password",variant:"outlined",fullWidth:!0,type:"password",value:m,onChange:t=>j(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"role",mb:"5px",mt:"25px",children:"Select Role"}),e.jsxs(B,{fullWidth:!0,children:[e.jsx(E,{id:"role-select-label",children:"Role"}),e.jsxs(O,{labelId:"role-select-label",id:"role",value:p,label:"Role",onChange:t=>y(t.target.value),children:[e.jsx(n,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(n,{value:"admin",children:"Admin"}),e.jsx(n,{value:"accountant",children:"Accountant"}),e.jsx(n,{value:"trainer",children:"Trainer"}),e.jsx(n,{value:"supporter",children:"Supporter"})]})]})]}),h&&e.jsx(z,{severity:h.type,sx:{mt:2,mb:2},children:h.text}),e.jsx(R,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:v,sx:{mt:2},children:v?e.jsx(q,{size:24,color:"inherit"}):"Submit Request"})]}),w]})},re=()=>e.jsx(A,{title:"Register",description:"this is Register page",children:e.jsx(x,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:e.jsx(W,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(W,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(D,{elevation:9,sx:{p:3,zIndex:1,width:"100%",maxWidth:"500px"},children:[e.jsx(x,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(L,{})}),e.jsx(J,{title:e.jsx(a,{variant:"h5",fontWeight:"bold",align:"center",gutterBottom:!0,children:"Register for Basadi Core"}),subtext:e.jsx(a,{variant:"body2",textAlign:"center",color:"textSecondary",mb:1,children:"Empower Women. Buy Local."}),subtitle:e.jsxs(M,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,mt:3,children:[e.jsx(a,{color:"textSecondary",variant:"body2",fontWeight:"400",children:"Already have an Account?"}),e.jsx(a,{component:k,to:"/auth/login",variant:"body2",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main",ml:1,cursor:"pointer"},children:"Sign In"})]})})]})})})})});export{re as default};
