import{aX as R,s as k,k as e,a1 as I,r as s,T as a,B as p,aS as L,aT as A,a5 as T,w as r,a3 as E,z as M,aw as P,$ as B,a8 as W,a9 as O,E as z,L as $}from"./index-ed8ecba8.js";import{L as q}from"./Logo-ee9db689.js";const D=R(),G=D,o=k(n=>e.jsx(I,{...n}))(({theme:n})=>({"& .MuiOutlinedInput-input::-webkit-input-placeholder":{color:n.palette.text.secondary,opacity:"0.8"},"& .MuiOutlinedInput-input.Mui-disabled::-webkit-input-placeholder":{color:n.palette.text.secondary,opacity:"1"},"& .Mui-disabled .MuiOutlinedInput-notchedOutline":{borderColor:n.palette.grey[200]}})),J=({title:n,subtitle:w,subtext:F})=>{const[c,g]=s.useState(""),[d,f]=s.useState(""),[u,b]=s.useState(""),[h,j]=s.useState(""),[x,y]=s.useState(""),[v,S]=s.useState(!1),[m,i]=s.useState(null);s.useState(""),s.useState("");const N=async t=>{if(t.preventDefault(),i(null),!c||!d||!u||!h||!x){i({type:"error",text:"Please fill in all fields and select a role."}),S(!1);return}try{const l=await fetch("http://localhost:5000/api/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({firstName:c,lastName:d,email:u,password:h,role:x})}),C=await l.json();l.ok?(i({type:"success",text:C.message}),g(""),f(""),b(""),j(""),y("")):i({type:"error",text:C.message||"Registration failed."})}catch(l){console.error("Error during registration request:",l),i({type:"error",text:"Failed to connect to the server. Please try again later."})}finally{S(!1)}};return e.jsxs(e.Fragment,{children:[n?e.jsx(a,{fontWeight:"700",variant:"h2",mb:1,children:n}):null,F,e.jsxs(p,{component:"form",onSubmit:N,children:[e.jsxs(G,{mb:3,children:[e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"firstName",mb:"5px",children:"First Name"}),e.jsx(o,{id:"firstName",variant:"outlined",fullWidth:!0,value:c,onChange:t=>g(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"lastName",mb:"5px",mt:"25px",children:"Last Name"}),e.jsx(o,{id:"lastName",variant:"outlined",fullWidth:!0,value:d,onChange:t=>f(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"email",mb:"5px",mt:"25px",children:"Email Address"}),e.jsx(o,{id:"email",variant:"outlined",fullWidth:!0,value:u,onChange:t=>b(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"password",mb:"5px",mt:"25px",children:"Password"}),e.jsx(o,{id:"password",variant:"outlined",fullWidth:!0,type:"password",value:h,onChange:t=>j(t.target.value)}),e.jsx(a,{variant:"subtitle1",fontWeight:600,component:"label",htmlFor:"role",mb:"5px",mt:"25px",children:"Select Role"}),e.jsxs(L,{fullWidth:!0,children:[e.jsx(A,{id:"role-select-label",children:"Role"}),e.jsxs(T,{labelId:"role-select-label",id:"role",value:x,label:"Role",onChange:t=>y(t.target.value),children:[e.jsx(r,{value:"",children:e.jsx("em",{children:"None"})}),e.jsx(r,{value:"admin",children:"Admin"}),e.jsx(r,{value:"accountant",children:"Accountant"}),e.jsx(r,{value:"trainer",children:"Trainer"}),e.jsx(r,{value:"supporter",children:"Supporter"})]})]})]}),m&&e.jsx(E,{severity:m.type,sx:{mt:2,mb:2},children:m.text}),e.jsx(M,{color:"primary",variant:"contained",size:"large",fullWidth:!0,type:"submit",disabled:v,sx:{mt:2},children:v?e.jsx(P,{size:24,color:"inherit"}):"Submit Request"})]}),w]})},K=()=>e.jsx(B,{title:"Register",description:"this is Register page",children:e.jsx(p,{sx:{position:"relative","&:before":{content:'""',background:"radial-gradient(#d2f1df, #d3d7fa, #bad8f4)",backgroundSize:"400% 400%",animation:"gradient 15s ease infinite",position:"absolute",height:"100%",width:"100%",opacity:"0.3"}},children:e.jsx(W,{container:!0,spacing:0,justifyContent:"center",sx:{height:"100vh"},children:e.jsx(W,{item:!0,xs:12,sm:12,lg:4,xl:3,display:"flex",justifyContent:"center",alignItems:"center",children:e.jsxs(O,{elevation:9,sx:{p:3,zIndex:1,width:"100%",maxWidth:"500px"},children:[e.jsx(p,{display:"flex",alignItems:"center",justifyContent:"center",children:e.jsx(q,{})}),e.jsx(J,{title:e.jsx(a,{variant:"h5",fontWeight:"bold",align:"center",gutterBottom:!0,children:"Register for Basadi Core"}),subtext:e.jsx(a,{variant:"body2",textAlign:"center",color:"textSecondary",mb:1,children:"Empower Women. Buy Local."}),subtitle:e.jsxs(z,{direction:"row",justifyContent:"center",alignItems:"center",spacing:1,mt:3,children:[e.jsx(a,{color:"textSecondary",variant:"body2",fontWeight:"400",children:"Already have an Account?"}),e.jsx(a,{component:$,to:"/auth/login",variant:"body2",fontWeight:"500",sx:{textDecoration:"none",color:"primary.main",ml:1,cursor:"pointer"},children:"Sign In"})]})})]})})})})});export{K as default};
